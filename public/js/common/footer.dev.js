if (void 0 === load_moduleExpand_script) var load_moduleExpand_script = !0;
if (void 0 === load_replace_mflScoring_h2h) var load_replace_mflScoring_h2h = !0;
if (void 0 === load_standingSettings_script) var load_standingSettings_script = !0;
if (void 0 === load_popupAddon_script) var load_popupAddon_script = !0;
if (void 0 === load_notification_script) var load_notification_script = !0;
if (void 0 === load_rosters_script) var load_rosters_script = !1;
if (void 0 === load_history_script) var load_history_script = !1;
if (void 0 === load_irReport_script) var load_irReport_script = !1;
if (void 0 === load_diceRoll_script) var load_diceRoll_script = !1;
if (void 0 === load_playerIcons) var load_playerIcons = !1;
if (void 0 === ShowDropFilters) var ShowDropFilters = !1;
jQuery(".mobile-wrap").removeAttr("style"), jQuery("blockquote:empty").remove();
const blockedPrograms = [
    "add_drop",
    "options_257",
    "csetup_cantadd",
    "csetup_cantcut",
    "options_178",
    "csetup_loadrost",
    "options_129",
    "options_52",
    "new_predraft",
    "contest_lineup",
    "options_256",
    "options_43",
];
blockedPrograms.includes(thisProgram) ||
    jQuery(
        '#container-wrap table.report,blockquote,#body_options_05 table[align="center"]:last,#body_edit_my_links #container-wrap form table,#body_options_84 form table,#body_trade_offer #container-wrap table,#container-wrap td.two_column_layout table'
    ).wrap('<div class="mobile-wrap"></div>'),
    jQuery("#container-wrap .mobile-wrap td.two_column_layout").parents("table").unwrap(),
    jQuery("#container-wrap td.two_column_layout .mobile-wrap .mobile-wrap table").unwrap(),
    jQuery("#body_options_166 #container-wrap").wrapInner('<div class="mobile-wrap"></div>'),
    0 === $("#body_board_show #withmenus").length
        ? jQuery("#body_board_show #container-wrap").wrapInner(
              '<div class="mobile-wrap"><table class="report addCaption" cellspacing="1" align="center"><tbody><tr><td></td></tr></tbody></table></div>'
          )
        : jQuery("#body_board_show #withmenus").wrapInner(
              '<div class="mobile-wrap"><table class="report addCaption" cellspacing="1" align="center"><tbody><tr><td></td></tr></tbody></table></div>'
          ),
    jQuery("#body_board_show #container-wrap .addCaption").prepend(
        "<caption><span>Message Board Topics</span></caption>"
    ),
    jQuery("#body_board_show table span.nav").appendTo("#body_board_show #container-wrap .addCaption caption:first"),
    jQuery("#body_board_show table th.messageboardbar").eq(1).remove(),
    jQuery("#body_board_show table caption").eq(1).remove(),
    jQuery('a img[alt="Reply to post"]').replaceWith(
        '<input type="button" value="Reply" style="margin:0;padding:0.063rem 0.188rem">'
    ),
    jQuery('a img[alt="Reply to post with quote"]').replaceWith(
        '<input type="button" value="Quote" style="margin:0;padding:0.063rem 0.188rem">'
    ),
    jQuery('a img[alt="Edit post"]').replaceWith(
        '<input type="button" value="Edit" style="margin:0;padding:0.063rem 0.188rem">'
    ),
    jQuery('a img[alt="Promote/move/delete branch"]').replaceWith(
        '<input type="button" value="Branch" style="margin:0;padding:0.063rem 0.188rem">'
    ),
    jQuery("#body_board_show caption span.nav + span.nav").remove(),
    jQuery('#body_board_show caption span.nav a img[title="Go to previous topic"]').replaceWith(
        '<i class="fa-regular fa-circle-arrow-left" aria-hidden="true" title="Go to previous topic" style="font-size:0.875rem;vertical-align:text-top;width:0.875rem;height:0.875rem;cursor:pointer"></i>'
    ),
    jQuery('#body_board_show caption span.nav a img[title="Go to next topic"]').replaceWith(
        '<i class="fa-regular fa-circle-arrow-right" aria-hidden="true" title="Go to next topic" style="font-size:0.875rem;vertical-align:text-top;width:0.875rem;height:0.875rem;cursor:pointer"></i>'
    ),
    jQuery('#body_board_show caption span.nav a img[title="Go up a level"]').replaceWith(
        '<i class="fa-regular fa-circle-arrow-right" aria-hidden="true" title="Return to Previous Page" style="font-size:0.875rem;vertical-align:text-top;width:0.875rem;height:0.875rem;cursor:pointer"></i>'
    ),
    jQuery('#body_board_show td a img[title="Old/Read"]').replaceWith(
        '<img src="https://www.mflscripts.com/ImageDirectory/script-images/newsOld.svg" title="Read Message" style="vertical-align:middle;cursor:pointer;height:0.625rem;vertical-align:unset;">'
    ),
    jQuery('#body_board_show td a img[title="New/Unread"]').replaceWith(
        '<img src="https://www.mflscripts.com/ImageDirectory/script-images/newsNew.svg" title="Unread Message" style="vertical-align:middle;cursor:pointer;height:0.75rem;vertical-align:unset;">'
    ),
    jQuery('#body_board_show td a img[title="Old/Unread"]').replaceWith(
        '<img src="https://www.mflscripts.com/ImageDirectory/script-images/newsNone.svg" title="Old Unread Message" style="vertical-align:middle;cursor:pointer;height:0.625rem;vertical-align:unset;">'
    ),
    jQuery("#body_options_80 #container-wrap ol").wrap(
        '<div class="mobile-wrap"><table class="report addCaption" cellspacing="1" align="center"><tbody><tr><td></td></tr></tbody></table></div>'
    ),
    jQuery("#body_options_66 #container-wrap form").wrap(
        '<div class="mobile-wrap"><table class="report addCaption" cellspacing="1" align="center"><tbody><tr><td></td></tr></tbody></table></div>'
    ),
    jQuery("#body_options_113 #container-wrap .mobile-wrap .mobile-wrap").unwrap(),
    jQuery(
        '#container-wrap .mobile-wrap .mobile-wrap table, #body_options_05 .mobile-wrap .mobile-wrap table[align="center"]:last'
    ).unwrap(),
    jQuery("#container-wrap td.two_column_layout").addClass("mobile-view"),
    jQuery('#body_player #container-wrap td[width="33%"],#body_player #container-wrap td[width="67%"]').addClass(
        "mobile-view"
    ),
    jQuery("#body_options_71 #container-wrap form table")
        .parents("form")
        .wrap('<div class="mobile-wrap form-wrapper"></div>'),
    jQuery("#body_csetup_hmpgmsg #container-wrap form").wrap('<div class="mobile-wrap form-wrapper"></div>'),
    jQuery("#body_csetup_hmpgmsg #container-wrap form .mobile-wrap table").unwrap(),
    jQuery("#csetup_hmpgmsg .mobile-wrap.form-wrapper form")
        .closest(".mobile-wrap.form-wrapper")
        .wrapInner(
            '<table class="report addCaption" cellspacing="1" align="center"><tbody><tr><td></td></tr></tbody></table>'
        ),
    jQuery("#csetup_hmpgmsg .addCaption b").wrap("<caption><span></span></caption>"),
    jQuery("#csetup_hmpgmsg .addCaption b").contents().unwrap(),
    jQuery("#csetup_hmpgmsg .addCaption").prepend(jQuery("form caption")),
    jQuery("#csetup_hmpgmsg .addCaption caption span").text("Enter Custom Home Page Message (HPM)"),
    jQuery("#options_06 td.two_column_layout,#options_169 td.two_column_layout,#options_22 td.two_column_layout")
        .closest("table")
        .addClass("caption-remove"),
    jQuery(".caption-remove > caption").remove(),
    jQuery("table caption:not(:has(span))").wrapInner("<span></span>"),
    jQuery("th.divpct").text("Div %"),
    jQuery("th.all_play_wlt").text("All-Play"),
    jQuery("th.h2hpct").text("%"),
    jQuery('div.mobile-wrap .reportnavigation:contains("Hint:")')
        .removeClass()
        .addClass("alert alert-info-table")
        .wrap('<div style="text-align:center"></div>'),
    jQuery("td.hint").removeClass().addClass("tdalert tdalert-info-table").wrapInner("<span></span>"),
    jQuery('body .reportnavigation:contains("Hint:")').removeClass().addClass("alert alert-info-body"),
    jQuery('.reportnavigation:contains("Top FAQ:")').removeClass().addClass("alert alert-info-body"),
    jQuery('.reportnavigation:contains("Weekly NFL Injury Status is in this color.")').hide(),
    jQuery(".mobile-wrap").parents("table").addClass("no-borderspacing"),
    jQuery("h3").addClass("h3-menu"),
    jQuery(".mobile-wrap h3").removeClass("h3-menu"),
    jQuery('.reportnavigation:contains("Show Rosters For Week:")')
        .removeClass()
        .addClass("weekly-navbar week_optionsbox"),
    jQuery('.reportnavigation:contains("Go To  Week:")').removeClass().addClass("weekly-navbar week_optionsbox"),
    jQuery('#body_pro_schedule .reportnavigation:contains("Go To Team")')
        .removeClass()
        .addClass("weekly-navbar week_optionsbox pro_team"),
    jQuery('.reportnavigation:contains("Power Rank As Of Week:")')
        .removeClass()
        .addClass("weekly-navbar week_optionsbox"),
    jQuery('.reportnavigation:contains("Franchise Setup:")').removeClass().addClass("weekly-navbar fran_options"),
    jQuery('.reportnavigation:contains("Standings As Of Week:")')
        .removeClass()
        .addClass("weekly-navbar week_optionsbox"),
    jQuery('.reportnavigation:contains("Go To Week:")').removeClass().addClass("weekly-navbar week_optionsbox"),
    jQuery('.reportnavigation:contains("Submit Lineup For Week:")')
        .removeClass()
        .addClass("weekly-navbar week_optionsbox"),
    jQuery('.reportnavigation:contains("Edit Newsletter for Week:")')
        .removeClass()
        .addClass("weekly-navbar week_optionsbox"),
    jQuery('.reportnavigation:contains("Go To Draft Round:")').removeClass().addClass("weekly-navbar week_optionsbox"),
    jQuery('.reportnavigation:contains("Go To Team:")').removeClass().addClass("weekly-navbar1"),
    jQuery('.reportnavigation:contains("Select A Category:")')
        .removeClass()
        .addClass("weekly-navbar week_optionsbox")
        .wrap('<div style="text-align:center"></div>'),
    jQuery(".weekly-navbar.week_optionsbox .reportnavigationheader").text("SELECT WEEK: "),
    jQuery(".weekly-navbar.week_optionsbox.pro_team .reportnavigationheader").text("SELECT TEAM: "),
    jQuery("#body_site_news .weekly-navbar.week_optionsbox .reportnavigationheader").text("SELECT : "),
    jQuery("#body_options_236 #container-wrap div > form").addClass("reportform"),
    jQuery(".weekly-navbar.week_optionsbox").each(function () {
        var e = "";
        $(this)
            .children()
            .each(function () {
                $(this).hasClass("reportnavigationheader") ||
                    ($(this).hasClass("currentweek")
                        ? (e += '<option selected="selected">' + $(this).html() + "</option>")
                        : (e += '<option value="' + $(this).attr("href") + '">' + $(this).html() + "</option>"));
            }),
            $("#body_pro_schedule .week_optionsbox.pro_team").length
                ? ($(this).before(
                      '<span class="weekly-navbar-mobile pro_team">SELECT TEAM: <select onchange="location.href=this.value">' +
                          e +
                          "</select></span>"
                  ),
                  $("head").append(
                      "<style>#body_pro_schedule span.weekly-navbar.week_optionsbox.pro_team{display:none!important}#body_pro_schedule span.weekly-navbar-mobile.pro_team{display:block!important}</style>"
                  ))
                : $("#body_site_news").length
                  ? $(this).before(
                        '<span class="weekly-navbar-mobile">SELECT: <select onchange="location.href=this.value">' +
                            e +
                            "</select></span>"
                    )
                  : $(this).before(
                        '<span class="weekly-navbar-mobile">SELECT WEEK: <select onchange="location.href=this.value">' +
                            e +
                            "</select></span>"
                    ),
            (e = null);
    }),
    jQuery(".weekly-navbar.fran_options").each(function () {
        var e = "";
        $(this)
            .children()
            .each(function () {
                $(this).hasClass("reportnavigationheader") ||
                    ($(this).hasClass("currentweek")
                        ? (e += '<option selected="selected">' + $(this).html() + "</option>")
                        : (e += '<option value="' + $(this).attr("href") + '">' + $(this).html() + "</option>"));
            }),
            $(this).before(
                '<span class="weekly-navbar-mobile">FRANCHISE SETUP: <select onchange="location.href=this.value">' +
                    e +
                    "</select></span>"
            ),
            (e = null);
    }),
    jQuery(".weekly-navbar1").each(function () {
        var e = "";
        $(this)
            .children()
            .each(function () {
                $(this).hasClass("reportnavigationheader") ||
                    ($(this).hasClass("currentweek")
                        ? (e += '<option selected="selected">' + $(this).html() + "</option>")
                        : (e += '<option value="' + $(this).attr("href") + '">' + $(this).html() + "</option>"));
            }),
            $(this).before(
                '<span class="weekly-navbar-mobile1">SELECT WEEK: <select onchange="location.href=this.value">' +
                    e +
                    "</select></span>"
            ),
            (e = null);
    }),
    jQuery(
        "#csetup_hmpgmsg #container-wrap h3:contains('Edit Message'),#message #container-wrap h3:contains('Edit Message')"
    ).each(function () {
        var e = $(this).html().split("|"),
            t = parseInt(location.href.substring(location.href.indexOf("&SEQNO=") + 7, location.href.length));
        isNaN(t) && (t = 1);
        var a = "",
            r = 1;
        $(this)
            .find("a")
            .each(function () {
                r !== t ||
                    1 === r ||
                    document.getElementById("message") ||
                    ((a += '<option selected="selected">' + e[t - 1].replace("Edit Message: ", "") + "</option>"), r++),
                    (a += '<option value="' + $(this).attr("href") + '">' + $(this).text() + "</option>"),
                    r++;
            }),
            20 === t && (a += '<option selected="selected">' + e[t - 1] + "</option>"),
            $(this).before(
                '<span class="weekly-navbar-mobile">Edit Message: <select onchange="location.href=this.value">' +
                    a +
                    "</select></span>"
            ),
            (e = null),
            (t = null),
            (r = null),
            (a = null);
    }),
    jQuery("#container-wrap h3.h3-menu:contains('Main')").each(function () {
        for (var e = $(this).html().split("|"), t = "", a = 0; a < e.length; a++)
            -1 === e[a].indexOf("href")
                ? (t +=
                      0 === a
                          ? '<option selected="selected">Main</option>'
                          : '<option selected="selected">' + e[a] + "</option>")
                : (t +=
                      '<option value="' +
                      e[a].substring(e[a].indexOf("href=") + 6, e[a].indexOf(">") - 1) +
                      '">' +
                      e[a].substring(e[a].indexOf(">") + 1, e[a].indexOf("</a")) +
                      "</option>");
        $(this).before(
            '<span class="weekly-navbar-mobile">' +
                e[0].substring(0, e[0].indexOf(":")) +
                ': <select onchange="location.href=this.value">' +
                t +
                "</select></span>"
        ),
            (e = null),
            (t = null);
    }),
    jQuery("#hsubmenu #hsubmenuitems").each(function () {
        var e = "";
        $(this)
            .find("li")
            .each(function () {
                if (
                    location.href.substring(location.href.indexOf(".com") + 4, location.href.length) ===
                    $(this).find("a").attr("href")
                )
                    var t = ' selected="selected"';
                else t = "";
                e +=
                    '<option value="' +
                    $(this).find("a").attr("href") +
                    '"' +
                    t +
                    ">" +
                    $(this).find("a").text() +
                    "</option>";
            }),
            $(this).before(
                '<span class="weekly-navbar-mobile"><select onchange="location.href=this.value"><option value="#">- Quick Links -</option>' +
                    e +
                    "</select></span>"
            ),
            (e = null);
    }),
    jQuery(
        "#container-wrap h3.h3-menu:contains('Status'):contains('In'):contains('All'):contains('My'):contains('Leagues')"
    ).each(function () {
        for (var e = $(this).html().split("|"), t = "", a = 0; a < e.length; a++)
            -1 === e[a].indexOf("href")
                ? (t +=
                      0 === a
                          ? '<option selected="selected">Profile</option>'
                          : '<option selected="selected">' + e[a] + "</option>")
                : (t +=
                      '<option value="' +
                      e[a].substring(e[a].indexOf("href=") + 6, e[a].indexOf(">") - 1) +
                      '">' +
                      e[a].substring(e[a].indexOf(">") + 1, e[a].indexOf("</a")) +
                      "</option>");
        $(this).before(
            '<span class="weekly-navbar-mobile">' +
                e[0].substring(0, e[0].indexOf(":")) +
                ': <select onchange="location.href=this.value">' +
                t +
                "</select></span>"
        ),
            (e = null),
            (t = null);
    });
try {
    jQuery(".weekly-navbar").html(
        jQuery(".weekly-navbar")
            .html()
            .replace(/&nbsp;/g, "")
            .replace(/\|/g, "")
    );
} catch (e) {}
jQuery("#message_board_summary caption span").text("Message Board Summary"),
    jQuery("#owner_activity caption span").text("Owner Activity"),
    jQuery("#next_weeks_fantasy_schedule caption span").text("H2H Matchups"),
    jQuery("#last_weeks_fantasy_results caption span").text("H2H Results"),
    jQuery("#fantasy_recap caption span").text("Game Of The Week Recap"),
    jQuery("#fantasy_preview caption span").text("Game Of The Week Preview"),
    jQuery("#avg_draft_time caption span").text("Avg Draft Time"),
    jQuery("#body_player #container-wrap table").eq(0).addClass("playerBio-Table");
var HideModuleMobile = "#fakedivname",
    HideModuleDesktop = "#fakedivname";
jQuery("#home " + HideModuleMobile)
    .parent()
    .addClass("desktop-Hide"),
    jQuery("#home " + HideModuleDesktop)
        .parent()
        .addClass("mobile-Hide"),
    jQuery(document).ready(function () {
        $("#league_chat caption span img").replaceWith('<i class="fa-regular fa-comments" aria-hidden="true"></i>');
    }),
    jQuery("#playoff1 .oddtablerow:first").clone().addClass("lastrow").insertAfter("#playoff1 tr:last"),
    jQuery("#playoff2 .oddtablerow:first").clone().addClass("lastrow").insertAfter("#playoff2 tr:last"),
    jQuery("#playoff3 .oddtablerow:first").clone().addClass("lastrow").insertAfter("#playoff3 tr:last"),
    jQuery("#playoff4 .oddtablerow:first").clone().addClass("lastrow").insertAfter("#playoff4 tr:last"),
    jQuery("#playoff5 .oddtablerow:first").clone().addClass("lastrow").insertAfter("#playoff5 tr:last"),
    jQuery("#playoff6 .oddtablerow:first").clone().addClass("lastrow").insertAfter("#playoff6 tr:last"),
    jQuery("#playoff7 .oddtablerow:first").clone().addClass("lastrow").insertAfter("#playoff7 tr:last"),
    jQuery("#playoff8 .oddtablerow:first").clone().addClass("lastrow").insertAfter("#playoff8 tr:last"),
    jQuery(
        "#playoff1 .oddtablerow.lastrow a,#playoff2 .oddtablerow.lastrow a,#playoff3 .oddtablerow.lastrow a,#playoff4 .oddtablerow.lastrow a,#playoff5 .oddtablerow.lastrow a,#playoff6 .oddtablerow.lastrow a,#playoff7 .oddtablerow.lastrow a,#playoff8 .oddtablerow.lastrow a"
    ).remove(),
    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
        ? $("head").append(
              '<style>td.add-sorting{text-align:center;}td.add-sorting input[type="text"]{width:auto}</style>'
          )
        : (jQuery(document).mouseup(function (e) {
              var t = $("#custom-filter-nfl,#custom-filter-pos,#custom-filter-name");
              t.is(e.target) || 0 !== t.has(e.target).length || t.hide();
          }),
          jQuery("head").append(
              "<style>#custom-filter-nfl select,#custom-filter-pos select,#custom-filter-name input{border-radius:0.188rem;width:6.25rem!important;display:block;margin:0 auto;padding:0.063rem;font-style:normal;text-decoration:none;outline:none}</style>"
          ),
          jQuery(".mobile-view.leftS").find('tr:contains("Filter by:")').remove()),
    jQuery("#body_options_27 .mobile-wrap")
        .find('span:contains("Select Players To Add")')
        .parents(".mobile-wrap")
        .addClass("custom-loadplayer"),
    jQuery("#body_options_27 #container-wrap form:first").append(
        '<div class="mobile-wrap"><table class="custom-loadplayer-table"><caption class="custom-loadplayer-title"></caption><tbody><tr><td class="mobile-view leftSL"></td><td class="draft-blankTD" style="padding:0.313rem;float:left;width:100%"></td><td class="mobile-view rightSL"></td></tr></tbody></table><table><tbody><tr class="blockquotes"><td></td></tr><tr class="enter-player"><td style="text-align:center;padding:0.625rem"></td></tr></tbody></table></div>'
    ),
    jQuery(".custom-loadplayer > table > caption > span").appendTo(".custom-loadplayer-table caption"),
    jQuery('.custom-loadplayer table span:contains("Select Players To")')
        .closest("table")
        .appendTo(".mobile-view.leftSL"),
    jQuery(".mobile-view.leftSL table table").wrap(
        '<div class="draft-overflow" style="max-height:16.375rem;overflow-x:auto"></div>'
    ),
    jQuery(".mobile-view.leftSL div > div.draft-overflow").unwrap(),
    jQuery('.mobile-view.leftSL span:contains("Select Players To Add")').closest("table").addClass("has-buttons-leftL"),
    jQuery(".has-buttons-leftL").width(""),
    jQuery(".has-buttons-leftL tbody").append(
        '<tr><td colspan="7" align="center"><input name="add_to_list" value="Add Player" onclick="addToList(\'destination_list\',\'sel_pid\', \'sel_name\');" type="button"></td></tr>'
    ),
    jQuery(".mobile-view.leftSL").find('td a:contains("Name")').closest("tr").addClass("head-th"),
    jQuery(".mobile-view.leftSL").find('td:contains("Projections")').text("Proj"),
    jQuery(".mobile-view.leftSL tr.head-th td:last-of-type").addClass("scroll-spacer"),
    jQuery(".mobile-view.leftSL").find('tr:contains("Filter by:")').remove(),
    jQuery('.custom-loadplayer table span:contains("Current Roster")')
        .closest("table")
        .appendTo(".mobile-view.rightSL"),
    jQuery('.mobile-view.rightSL span:contains("Current Roster")').closest("table").addClass("has-buttons-rightL"),
    jQuery(".has-buttons-rightL tbody").append(
        '<tr><td align="center"><input name="remove_from_list" value="Remove Player" onclick="removeListItem();" type="button"></td></tr>'
    ),
    jQuery(".has-buttons-rightL tbody").prepend('<tr><th style="padding: 0.125rem 0">Team Roster</th></tr>'),
    jQuery(
        '<table><tbody><tr><td align="center"><input value="Load/Unload Roster" onclick="selectAllItems();" type="submit"></td></tr></tbody></table>'
    ).insertAfter($(".has-buttons-rightL").parents(".custom-loadplayer-table")),
    jQuery(".custom-loadplayer").find("span.alert-info-table").appendTo("tr.blockquotes td"),
    jQuery("#body_options_27 td:has(textarea)").contents().appendTo("tr.enter-player td"),
    jQuery(".mobile-view.leftSL .head-th").find("a:first").trigger("click"),
    jQuery("#body_options_05 .mobile-wrap")
        .find('span:contains("Pending Trades")')
        .parents(".mobile-wrap")
        .addClass("tradesTable"),
    jQuery(".tradesTable").find('a:contains("Compare Players")').remove(),
    jQuery(".tradesTable tr.newposition").removeClass("newposition"),
    jQuery(".tradesTable").find('tr:contains("Offered To Others")').addClass("offered-by-me"),
    jQuery(".tradesTable").find('tr:contains("Offered To You")').addClass("offered-to-me"),
    jQuery(".tradesTable").find('tr:contains("Offering Franchise")').addClass("column-heads"),
    jQuery(".tradesTable tr").has("ul").addClass("trade-offer"),
    jQuery(".tradesTable tr.oddtablerow").removeClass("oddtablerow"),
    jQuery(".tradesTable tr.eventablerow").removeClass("eventablerow"),
    jQuery(".tradesTable tr").has(".warning").addClass("warningTR no-trades"),
    jQuery(".tradesTable .no-trades").prevUntil(".trade-offer").addClass("no-trades"),
    jQuery(".tradesTable .trade-offer td:nth-child(1),.tradesTable .column-heads th:nth-child(1)").addClass(
        "franchise-offered-by"
    ),
    jQuery(".tradesTable .trade-offer td:nth-child(2),.tradesTable .column-heads th:nth-child(2)").addClass(
        "players-offered-by"
    ),
    jQuery(".tradesTable .trade-offer td:nth-child(3),.tradesTable .column-heads th:nth-child(3)").addClass(
        "franchise-offered-to"
    ),
    jQuery(".tradesTable .trade-offer td:nth-child(4),.tradesTable .column-heads th:nth-child(4)").addClass(
        "players-offered-to"
    ),
    jQuery(".tradesTable .trade-offer td:nth-child(5),.tradesTable .column-heads th:nth-child(5)").addClass(
        "expires-by"
    ),
    jQuery(".tradesTable .trade-offer td:nth-child(6),.tradesTable .column-heads th:nth-child(6)").addClass(
        "comments-to"
    ),
    jQuery(".tradesTable .trade-offer td:nth-child(7),.tradesTable .column-heads th:nth-child(7)").addClass(
        "actions-by"
    ),
    jQuery(".tradesTable .offered-by-me").each(function () {
        $(this).nextUntil(".offered-to-me").addBack().wrapAll("<table class='offeredbymeTable'><tbody>");
    }),
    jQuery(".tradesTable .offered-to-me").each(function () {
        $(this).nextUntil(".tradesTable tbody").addBack().wrapAll("<table class='offeredtomeTable'><tbody>");
    }),
    jQuery(".trade-offer .franchise-offered-by").each(function () {
        $(this).nextUntil(".franchise-offered-to").addBack().wrapAll("<div class='offerer' />");
    }),
    jQuery(".trade-offer .franchise-offered-to").each(function () {
        $(this).nextUntil(".expires-by").addBack().wrapAll("<div class='offeree' />");
    }),
    jQuery(".trade-offer + tr").after(
        '<tr class="divide-trades"><td colspan="20" style="padding:0;margin:0;border:0"></td></tr>'
    ),
    jQuery(".offeredbymeTable td.comments-to").each(function () {
        $(this).text().length > 1
            ? $(this).wrapInner('<span class="comments-disabled" />')
            : $(this).wrapInner('<span class="comments-disabled">No Comments</span>');
    });
var tradeOffer = 0;
jQuery(".offeredtomeTable td.comments-to").each(function () {
    $(this).text().length > 2
        ? ($(this).contents().eq(0).wrap('<span class="comments-disabled" />'),
          $(this).find(".comments-disabled").after('<span class="comments-to-textarea">Leave Comment :</span>'))
        : $(this).prepend(
              '<span class="comments-disabled">No Comments</span><span class="comments-to-textarea">Leave Comment :</span>'
          ),
        $(this)
            .find("textarea")
            .addClass("comments-textarea")
            .attr("onchange", "$('#comments-response-" + tradeOffer + "').val(this.value)"),
        tradeOffer++;
}),
    jQuery(".offeredtomeTable .trade-offer").each(function () {
        $(this)
            .find(".actions-by")
            .append(
                '<div class="actions-expired"><b>Expires On:</b> ' +
                    $(this).find(".expires-by").html().replace(year, "").replace(":00 ", " ") +
                    "</div>"
            );
    }),
    jQuery(".offeredbymeTable .trade-offer").each(function () {
        $(this)
            .find(".actions-by")
            .append(
                '<span class="actions-expired" style="display:block"><b>Expires On:</b> ' +
                    $(this).find(".expires-by").html().replace(year, "").replace(":00 ", " ") +
                    "</span>"
            );
    });
var pendingTrades = [];
jQuery(".offeredtomeTable input[name=PENDING]").each(function () {
    pendingTrades.push($(this).val());
});
var pendingFranchises = [];
jQuery(".offeredtomeTable input[name=FRANCHISE_ID]").each(function () {
    pendingFranchises.push($(this).val());
});
tradeOffer = 0;
if (
    (jQuery(".offeredtomeTable .trade-offer .actions-by").each(function () {
        $(this).html(
            '<form class="cus-trades-form" action="trade_response" method="post"><input type="hidden" name="LEAGUE_ID" value="' +
                league_id +
                '"/><input type="hidden" name="FRANCHISE_ID" value="' +
                pendingFranchises[tradeOffer] +
                '"/><input type="hidden" name="PENDING" value="' +
                pendingTrades[tradeOffer] +
                '"/><input type="hidden" name="COMMENTS" id="comments-response-' +
                tradeOffer +
                '" value=""/>' +
                $(this).html() +
                "</form>"
        ),
            tradeOffer++;
    }),
    jQuery('.offeredtomeTable tr:has(input[type="submit"])').each(function () {
        $(this).prev().find(".cus-trades-form").append(this);
    }),
    jQuery('.offeredtomeTable .cus-trades-form input[type="submit"]').unwrap(),
    jQuery(".offeredtomeTable .cus-trades-form td").remove(),
    jQuery('.offeredtomeTable .cus-trades-form input[type="submit"]').unwrap(),
    jQuery("#body_options_05 .no-borderspacing").prepend(
        '<tr class="trade-toggle-mobile" style="text-align:center"><td><input id="tradeShowOther" value="Display Other Team" type="button"><input id="tradeShowMyTeam" value="Display My Team" type="button"></td></tr>'
    ),
    jQuery('#body_options_05 td[valign="top"] table.report').addClass("trade-twocolumn-table"),
    jQuery(".trade-twocolumn-table").parents("td").addClass("div-wrap-trade-table"),
    jQuery(".div-wrap-trade-table:first").addClass("firstTable"),
    jQuery(".div-wrap-trade-table:last").addClass("lastTable"),
    jQuery(".trade-twocolumn-table th,.trade-twocolumn-table td").addClass("trade-class"),
    jQuery(".trade-twocolumn-table").find('th:contains("Trade?")').removeClass().addClass("trade-box"),
    jQuery(".trade-twocolumn-table td").has('input[type="checkbox"]').removeClass().addClass("trade-box"),
    jQuery(".trade-twocolumn-table th.trade-box").html('<i class="fa-regular fa-check" aria-hidden="true"></i>'),
    jQuery(".trade-twocolumn-table").find('th:contains("Player")').removeClass().addClass("trade-player"),
    jQuery(".trade-twocolumn-table td").has('a[class*="position"]').removeClass().addClass("trade-player"),
    jQuery(".trade-twocolumn-table th.trade-player").text("Player Name"),
    jQuery(".trade-twocolumn-table").find('th:contains("Salary")').removeClass().addClass("salary"),
    jQuery(".trade-twocolumn-table td.salary").removeClass().addClass("salary"),
    jQuery(".trade-twocolumn-table").find('th:contains("Bye")').removeClass().addClass("week"),
    jQuery(".trade-twocolumn-table td.week").removeClass().addClass("week"),
    jQuery(".trade-twocolumn-table").find('th:contains("YTD Pts")').removeClass().addClass("points"),
    jQuery(".trade-twocolumn-table td.points").removeClass().addClass("points"),
    jQuery(".trade-twocolumn-table th.points").text("YTD Pts"),
    jQuery('.trade-twocolumn-table .trade-box + td:contains("Draft Pick")').removeClass().addClass("draftpickTD"),
    jQuery(".trade-twocolumn-table .draftpickTD").attr("colspan", "7"),
    jQuery(".trade-twocolumn-table")
        .find('td:contains("Blind Bidding Dollars")')
        .removeClass()
        .addClass("trade-bbid-text"),
    jQuery(".trade-twocolumn-table td").has('input[type="text"]').removeClass().addClass("trade-bbid-amt"),
    jQuery(".trade-bbid-amt").wrapInner("<span />"),
    (contentsLeft = jQuery(".firstTable .trade-bbid-text").contents()),
    jQuery(".firstTable .trade-bbid-amt").append(contentsLeft),
    (contentsRight = jQuery(".lastTable .trade-bbid-text").contents()),
    jQuery(".lastTable .trade-bbid-amt").append(contentsRight),
    jQuery(".trade-twocolumn-table td.trade-bbid-text").remove(),
    jQuery(".trade-twocolumn-table .trade-bbid-amt").attr("colspan", "7"),
    jQuery(".trade-twocolumn-table").has("td.contractyear") &&
        (jQuery(".firstTable th.trade-class").eq(0).removeClass().addClass("contractyear"),
        jQuery(".lastTable th.trade-class").eq(0).removeClass().addClass("contractyear"),
        jQuery(".trade-twocolumn-table td.contractyear").removeClass("trade-class")),
    jQuery(".trade-twocolumn-table").has("td.contractstatus") &&
        (jQuery(".firstTable th.trade-class").eq(0).removeClass().addClass("contractstatus"),
        jQuery(".lastTable th.trade-class").eq(0).removeClass().addClass("contractstatus"),
        jQuery(".trade-twocolumn-table td.contractstatus").removeClass("trade-class")),
    jQuery("#tradeShowOther").on("click", function () {
        $(".div-wrap-trade-table.firstTable").hide(),
            $("#tradeShowOther").hide(),
            $(".div-wrap-trade-table.lastTable").show(),
            $("#tradeShowMyTeam").show();
    }),
    jQuery("#tradeShowMyTeam").on("click", function () {
        $(".div-wrap-trade-table.lastTable").hide(),
            $("#tradeShowMyTeam").hide(),
            $(".div-wrap-trade-table.firstTable").show(),
            $("#tradeShowOther").show();
    }),
    1 === $("td.firstTable caption.withfranchiseicon").length)
)
    var leftName = $("td.firstTable caption img").attr("alt");
else leftName = $("td.firstTable caption a").text();
if (1 === $("td.lastTable caption.withfranchiseicon").length) var rightName = $("td.lastTable caption img").attr("alt");
else rightName = $("td.lastTable caption a").text();
function expandPlayer(e, t, a) {
    a
        ? (jQuery("#expandTotal_" + e + "_" + t).hide(),
          jQuery("#expandAvg_" + e + "_" + t).hide(),
          jQuery("#collapseTotal_" + e + "_" + t).show(),
          jQuery("#collapseAvg_" + e + "_" + t).show(),
          jQuery(".nflStatsWeekRow_" + e + "_" + t).show())
        : (jQuery("#expandTotal_" + e + "_" + t).show(),
          jQuery("#expandAvg_" + e + "_" + t).show(),
          jQuery("#collapseTotal_" + e + "_" + t).hide(),
          jQuery("#collapseAvg_" + e + "_" + t).hide(),
          jQuery(".nflStatsWeekRow_" + e + "_" + t).hide());
}
function doNFLTotal(e) {
    e
        ? (jQuery("#nflTotalInactive").hide(),
          jQuery("#nflAvgInactive").show(),
          jQuery("#nflTotalActive").show(),
          jQuery("#nflAvgActive").hide(),
          jQuery(".nflStatsTotalRow").show(),
          jQuery(".nflStatsAvgRow").hide())
        : (jQuery("#nflTotalInactive").show(),
          jQuery("#nflAvgInactive").hide(),
          jQuery("#nflTotalActive").hide(),
          jQuery("#nflAvgActive").show(),
          jQuery(".nflStatsTotalRow").hide(),
          jQuery(".nflStatsAvgRow").show());
}
function applyStat(e, t) {
    return "-" === e ? e : isNaN(parseFloat(e)) ? (t ? "0.0" : 0) : e;
}
function shortenHeader(e) {
    if ("Targets" === e) return "<span title='" + e + "'>Tgt</span>";
    if ("Pass Interceptions Thrown" === e) return "<span title='" + e + "'>Int</span>";
    if ("Receptions" === e) return "<span title='" + e + "'>Rcpt</span>";
    var t = !1,
        a = !1;
    e.indexOf("Rush") > -1 && (t = !0), e.indexOf("Receiving") > -1 && (a = !0);
    for (
        var r = (s = (s = (s = (s = (s = e.toUpperCase()).replace("EXTRA", "X")).replace("NUMBER OF", "#")).replace(
                "(",
                "( "
            )).replace(")", " )")).split(" "),
            s = "",
            o = 0;
        o < r.length;
        o++
    )
        s += r[o].substring(0, 1);
    return (
        t && (s = s.replace("R", "Run")), a && (s = s.replace("R", "Rec")), "<span title='" + e + "'>" + s + "</span>"
    );
}
function getNFLScheduleReformat(e) {
    for (var t = [], a = 1; a < AllGamesCount; a++) {
        scheduleData = reportNflSchedule_ar["w_" + a];
        var r = !1;
        try {
            for (var s = 0; s < scheduleData.nflSchedule.matchup.length; s++) {
                if (scheduleData.nflSchedule.matchup[s].team[0].id === e) {
                    (t[a] =
                        e +
                        " " +
                        scheduleData.nflSchedule.matchup[s].team[0].score +
                        " at " +
                        scheduleData.nflSchedule.matchup[s].team[1].score +
                        " " +
                        scheduleData.nflSchedule.matchup[s].team[1].id),
                        (r = !0);
                    break;
                }
                if (scheduleData.nflSchedule.matchup[s].team[1].id === e) {
                    (t[a] =
                        e +
                        " " +
                        scheduleData.nflSchedule.matchup[s].team[1].score +
                        " vs " +
                        scheduleData.nflSchedule.matchup[s].team[0].score +
                        " " +
                        scheduleData.nflSchedule.matchup[s].team[0].id),
                        (r = !0);
                    break;
                }
            }
        } catch (e) {}
        r || (t[a] = "bye");
    }
    return t;
}
function doNFLStatsTable(e, t) {
    try {
        var a = e.find("caption").html(),
            r = e.find("caption span").html(),
            s = [],
            o = [];
        e.find("tr:eq(0) th").each(function () {
            o[o.length] = jQuery(this).html();
        });
        var l = 0,
            i = 0,
            n = 0;
        e.find("tr").each(function () {
            if (n > 0)
                if (jQuery(this).find("th").length > 0) {
                    (l = s.length), (l = s.length);
                    const e = jQuery(this).find("th").first().clone(!0, !0),
                        t = e.find('a[href*="player?"]').first();
                    t.length
                        ? (t.find("img").not(".playerPhoto, .TeamLogo").remove(),
                          (s[l] = {
                              name: jQuery("<div/>").append(t.clone(!0, !0)).html(),
                              hasInjury: !1,
                              playerRows: [],
                          }))
                        : (e.find("img").not(".playerPhoto, .TeamLogo").remove(),
                          (s[l] = { name: e.html(), hasInjury: !1, playerRows: [] }));
                } else {
                    "Injury Status" === jQuery(this).find("td:eq(0)").html() && (s[l].hasInjury = !0),
                        (i = s[l].playerRows.length),
                        (s[l].playerRows[i] = []);
                    var e = 0;
                    jQuery(this)
                        .find("td")
                        .each(function () {
                            (s[l].playerRows[i][e] = jQuery(this).html()), e++;
                        });
                }
            n++;
        });
        var d = "";
        if (document.getElementById("body_nfl_team_stats"))
            if (s[0].hasInjury) var c = s[0].playerRows.length - 1;
            else c = s[0].playerRows.length;
        else if (s[0].hasInjury) c = s[0].playerRows.length - 2;
        else c = s[0].playerRows.length - 1;
        (d += "<caption>" + a + "</caption><tbody>"),
            (d += "<tr><th>Player</th><th>Week</th>"),
            s[0].hasInjury && (d += "<th>Injury</th>");
        for (var p = 0; p < c; p++)
            d += "<th style='text-align:center'>" + shortenHeader(s[0].playerRows[p][0]) + "</th>";
        d += "</tr>";
        for (var h = 0; h < s.length; h++) {
            (d +=
                '<tr class="oddtablerow nflStatsTotalRow"><td><span id="expandTotal_' +
                r +
                "_" +
                h +
                '" onclick="expandPlayer(\'' +
                r +
                "','" +
                h +
                '\',true)"></span><span id="collapseTotal_' +
                r +
                "_" +
                h +
                '" style="display:none" onclick="expandPlayer(\'' +
                r +
                "','" +
                h +
                '\',false)"></span><span class="plus-toggle-stats"><span class="toggle-btn"></span></span>' +
                s[h].name +
                '</td><td style="text-align:center">Total</td>'),
                s[h].hasInjury && (d += "<td style='text-align:center'></td>");
            for (p = 0; p < c; p++)
                (s[0].hasInjury && p === s[0].playerRows.length - 1) ||
                    (d +=
                        "<td class='points' style='text-align:center'>" +
                        applyStat(s[h].playerRows[p][s[h].playerRows[p].length - 2], !1) +
                        "</td>");
            (d += "</tr>"),
                (d +=
                    '<tr class="oddtablerow nflStatsAvgRow"><td><span id="expandAvg_' +
                    r +
                    "_" +
                    h +
                    '" onclick="expandPlayer(\'' +
                    r +
                    "','" +
                    h +
                    '\',true)"></span><span id="collapseAvg_' +
                    r +
                    "_" +
                    h +
                    '" style="display:none" onclick="expandPlayer(\'' +
                    r +
                    "','" +
                    h +
                    '\',false)"></span><span class="plus-toggle-stats"><span class="toggle-btn"></span></span>' +
                    s[h].name +
                    '</td><td style="text-align:center">Avg</td>'),
                s[h].hasInjury && (d += "<td style='text-align:center'></td>");
            for (p = 0; p < c; p++)
                (s[0].hasInjury && p === s[0].playerRows.length - 1) ||
                    (d +=
                        "<td class='points' style='text-align:center'>" +
                        applyStat(s[h].playerRows[p][s[h].playerRows[p].length - 1], !0) +
                        "</td>");
            for (d += "</tr>", w = 1; w < s[h].playerRows[0].length - 2; w++) {
                document.getElementById("body_nfl_team_stats")
                    ? (d +=
                          "<tr class='eventablerow nflStatsWeekRow nflStatsWeekRow_" +
                          r +
                          "_" +
                          h +
                          "' style='display:none'><td style='text-align:right'>" +
                          t[w] +
                          "</td><td style='text-align:center'>" +
                          w +
                          "</td>")
                    : (d +=
                          "<tr class='eventablerow nflStatsWeekRow nflStatsWeekRow_" +
                          r +
                          "_" +
                          h +
                          "' style='display:none'><td style='text-align:right'>" +
                          s[h].playerRows[s[h].playerRows.length - 1][w] +
                          "</td><td style='text-align:center'>" +
                          w +
                          "</td>");
                for (p = 0; p < c; p++)
                    s[h].hasInjury &&
                        0 === p &&
                        (document.getElementById("body_nfl_team_stats")
                            ? (d +=
                                  "<td style='text-align:center'>" +
                                  s[h].playerRows[s[h].playerRows.length - 1][w] +
                                  "</td>")
                            : (d +=
                                  "<td style='text-align:center'>" +
                                  s[h].playerRows[s[h].playerRows.length - 2][w] +
                                  "</td>")),
                        (s[0].hasInjury && p === s[0].playerRows.length - 1) ||
                            (d +=
                                "<td class='points' style='text-align:center'>" +
                                applyStat(s[h].playerRows[p][w], !1) +
                                "</td>");
                d += "</tr>";
            }
        }
        (d += "</tbody>"),
            e.html(d),
            reformattedStatsFound ||
                e
                    .closest("div")
                    .before(
                        "<div class='display_links' style='text-align:center;margin:0.625rem 0'><h3 style='display:inline;margin:0;padding:0;vertical-align:middle;font-weight:300'>Display: </h3><span id='nflTotalInactive' style='display:none'><a href='#total' onclick='doNFLTotal(true)'>Total</a></span><span id='nflTotalActive'><a>Total</a></span> | <span id='nflAvgInactive'><a href='#avg' onclick='doNFLTotal(false)'>Avg</a></span><span id='nflAvgActive' style='display:none'><a>Avg</a></span></div>"
                    ),
            (reformattedStatsFound = !0),
            jQuery(".nflStatsAvgRow").hide();
    } catch (e) {}
}
function doMFL_reformatStatsPage() {
    var e = getNFLScheduleReformat(jQuery("select[name='TEAM'] option:selected").text());
    jQuery("body")
        .find("table.report")
        .each(function () {
            doNFLStatsTable(jQuery(this), e);
        }),
        (e = null);
}
if (
    ($("#tradeShowMyTeam").val("Show: " + leftName),
    $("#tradeShowOther").val("Show: " + rightName),
    (document.getElementById("body_nfl_team_stats") || document.getElementById("body_options_138")) &&
        -1 === location.href.indexOf("#DEFAULT"))
) {
    var reformattedStatsFound = !1;
    doMFL_reformatStatsPage();
}
jQuery('#body_trade_offer b:contains("Gave Up")').parents("table").addClass("offer-table"),
    jQuery(".offer-table").unwrap(),
    jQuery("#body_trade_offer table.offer-table").after(
        '<table class="two_column_layout no-borderspacing offer-table-moved"></caption><tbody><tr><td class="two_column_layout mobile-view" valign="top"><div class="mobile-wrap"><table class="leftS" align="center"><caption style="text-align:center"><span></span></caption><tbody><tr><th>Gave Up</th></tr><tr><td class="gave-player oddtablerow" style="text-align:center"></td></tr><tr><th style="text-align:left">New Roster</th></tr><tr><td class="new-roster oddtablerow"></td></tr></tbody></table></div></td><td class="two_column_layout mobile-view" valign="top"><div class="mobile-wrap"><table class="rightS" align="center"><caption style="text-align:center"><span></span></caption><tbody><tr><th>Gave Up</th></tr><tr><td class="gave-player oddtablerow" style="text-align:center"></td></tr><tr><th style="text-align:left">New Roster</th></tr><tr><td class="new-roster oddtablerow"></td></tr></tbody></table></div></td></tr></tbody></table>'
    ),
    jQuery("#body_trade_offer .offer-table h3 a:eq(0)").appendTo(".offer-table-moved .leftS caption span"),
    jQuery("#body_trade_offer .offer-table h3 a:eq(0)").appendTo(".offer-table-moved .rightS caption span"),
    jQuery("#body_trade_offer .offer-table tr:nth-child(1) > td:nth-child(1)")
        .contents()
        .appendTo(".offer-table-moved .leftS td.gave-player"),
    jQuery("#body_trade_offer .offer-table tr:nth-child(1) > td:nth-child(2)")
        .contents()
        .appendTo(".offer-table-moved .rightS td.gave-player"),
    jQuery(
        ".offer-table-moved .gave-player h3,.offer-table-moved .leftS .gave-player br:first,.offer-table-moved .rightS .gave-player br:first"
    ).remove(),
    jQuery("#body_trade_offer .offer-table tr:nth-child(2) > td:nth-child(1)")
        .contents()
        .appendTo(".offer-table-moved .leftS td.new-roster"),
    jQuery("#body_trade_offer .offer-table tr:nth-child(2) > td:nth-child(2)")
        .contents()
        .appendTo(".offer-table-moved .rightS td.new-roster"),
    jQuery("#body_trade_offer .offer-table").remove(),
    jQuery('#body_trade_offer b:contains("Gave Up")').remove(),
    jQuery("#body_trade_offer .new-roster h3").remove(),
    jQuery('#body_trade_response .h3-menu:contains("Trade Rejected")')
        .parent("#container-wrap")
        .addClass("rejected-page trade-form-page"),
    jQuery('#body_trade_response .h3-menu:contains("Trade Accepted")')
        .parent("#container-wrap")
        .addClass("accepted-page trade-form-page"),
    jQuery('#body_trade_response .h3-menu:contains("Trade Revoked")')
        .parent("#container-wrap")
        .addClass("revoked-page trade-form-page"),
    jQuery('#body_trade_response .h3-menu:contains("The commissioner has been notified")')
        .parent("#container-wrap")
        .addClass("notify-commish trade-form-page"),
    jQuery('#body_trade_response .h3-menu:contains("allowing owners to approve or reject this trade")')
        .parent("#container-wrap")
        .addClass("notify-poll trade-form-page"),
    jQuery("#body_trade_response .trade-form-page .h3-menu:first").remove(),
    jQuery("#body_trade_response .trade-form-page .h3-menu + br").remove(),
    jQuery("#body_trade_response .trade-form-page .h3-menu").after(
        '<div class="mobile-wrap"><table class="tradesubmit-table"><caption><span>You Have Rejected This Trade</span></caption><tbody><tr><th style="text-align:left">Trade Proposed By</th><th style="text-align:left">Trade Proposed To</th></tr><tr><td class="team-proposedby" style="vertical-align:top;width:50%"></td><td class="team-proposedto" style="vertical-align:top;width:50%"></td></tr></tbody></table></div>'
    ),
    jQuery("#body_trade_response .accepted-page .tradesubmit-table caption span").text("You Have Accepted This Trade"),
    jQuery("#body_trade_response .revoked-page .tradesubmit-table caption span").text("You Have Revoked This Trade"),
    jQuery("#body_trade_response .notify-commish .tradesubmit-table caption span").text("You Have Accepted This Trade"),
    jQuery("#body_trade_response .notify-poll .tradesubmit-table caption span").text("You Have Accepted This Trade"),
    jQuery("#body_trade_response .trade-form-page ul:eq(0)").contents().appendTo("td.team-proposedby"),
    jQuery("#body_trade_response .trade-form-page ul:eq(1)").contents().appendTo("td.team-proposedto"),
    jQuery("#body_trade_response td.team-proposedto li,#body_trade_response td.team-proposedby li").css(
        "list-style",
        "none"
    ),
    jQuery(
        "#body_trade_response .trade-form-page td.team-proposedto b,#body_trade_response .trade-form-page td.team-proposedby b,#body_trade_response .trade-form-page .tradesubmit-table br"
    ).remove(),
    jQuery("#body_trade_response .trade-form-page .mobile-wrap").nextUntil("div").remove(),
    jQuery("#body_trade_response .notify-poll .h3-menu").after(
        '<h3 class="h3-menu">A new poll has been created allowing owners to approve or reject this trade.</h3>'
    ),
    jQuery("#body_trade_response .notify-commish .h3-menu").after(
        '<h3 class="h3-menu">This trades requires commissioner approval.</h3>'
    ),
    jQuery('#body_trade_offer .h3-menu:contains("Trade Proposal to")')
        .parent("#container-wrap")
        .addClass("trade-proposal-form"),
    jQuery("#body_trade_offer div.mobile-wrap table.report").addClass("remove-table"),
    jQuery(
        "#body_trade_offer .trade-proposal-form .h3-menu:first,#body_trade_offer .trade-proposal-form .h3-menu:last,#body_trade_offer .trade-proposal-form br"
    ).remove(),
    jQuery("#body_trade_offer .trade-proposal-form .h3-menu:last a").css("display", "block"),
    jQuery("#body_trade_offer .trade-proposal-form .h3-menu:first").after(
        '<div class="mobile-wrap"><table class="tradesubmit-table"><caption><span>You Have Offered This Trade</span></caption><tbody><tr><th style="text-align:left">Trade Proposed By</th><th style="text-align:left">Trade Proposed To</th></tr><tr><td class="team-proposedby" style="vertical-align:top;width:50%"></td><td class="team-proposedto" style="vertical-align:top;width:50%"></td></tr><tr><td colspan="2" style="border:0;box-shadow:none;padding:0.625rem"></td></tr><tr><td colspan="2" class="trade-expires-by" style="text-align:center"></td></tr></tbody></table></div>'
    ),
    jQuery("#body_trade_offer .trade-proposal-form ul li:eq(0)").contents().appendTo("td.team-proposedby"),
    jQuery("#body_trade_offer .trade-proposal-form ul li:eq(1)").contents().appendTo("td.team-proposedto"),
    jQuery("#body_trade_offer .trade-proposal-form .tradesubmit-table td a").css("display", "block"),
    jQuery("#body_trade_offer .trade-proposal-form .tradesubmit-table td a").css("padding", "0.188rem 0"),
    jQuery(
        "#body_trade_offer .remove-table caption,#body_trade_offer .remove-table a,#body_trade_offer .remove-table ul"
    ).remove(),
    jQuery("#body_trade_offer .remove-table td").contents().appendTo("td.trade-expires-by");
try {
    jQuery("#body_trade_offer .trade-proposal-form td.team-proposedto").html(
        jQuery("#body_trade_offer .trade-proposal-form td.team-proposedto").html().replace(/for/gi, "")
    ),
        jQuery("#body_trade_offer .trade-proposal-form td.team-proposedby").html(
            jQuery("#body_trade_offer .trade-proposal-form td.team-proposedby")
                .html()
                .replace(/will give/gi, "")
        ),
        jQuery("#body_trade_offer .trade-proposal-form td.team-proposedto").html(
            jQuery("#body_trade_offer .trade-proposal-form td.team-proposedto").html().replace(/To/gi, "")
        ),
        jQuery("#body_trade_offer td.trade-expires-by").html(
            $("#body_trade_offer td.trade-expires-by").html().replace("proposed a trade with", "")
        ),
        jQuery("#body_trade_offer td.trade-expires-by").html(
            $("#body_trade_offer td.trade-expires-by").html().replace(":", "")
        );
} catch (t) {}
function doTableScrollShadow() {
    var e = jQuery(".hz-table-wrap").width();
    jQuery(".hz-main-table").width(), jQuery(".fixed-side").width();
    jQuery(".hz-main-table")
        .parent()
        .on("scroll", function (t) {
            var a = $(".hz-main-table").position(),
                r = $(".hz-table-wrap").scrollLeft(),
                s = $(".hz-clone").width();
            a.left > 8 ? $(".fixed-side").addClass("hz-hide-shadow") : $(".fixed-side").removeClass("hz-hide-shadow"),
                r + e >= s - 2
                    ? $(".shadow-right").addClass("hz-hide-shadow")
                    : $(".shadow-right").removeClass("hz-hide-shadow");
        });
}
function doTableScroll(e, t) {
    if (!document.getElementById(t)) return !1;
    switch (
        (jQuery("#" + t + " div.mobile-wrap table:first")
            .addClass("hz-main-table")
            .wrap('<div class="hz-table-wrap">'),
        e)
    ) {
        case 0:
        case 3:
            jQuery("#" + t + " div.mobile-wrap .hz-table-wrap")
                .closest("div.mobile-wrap")
                .addClass("hz-table-scroll"),
                jQuery("#" + t + " div.mobile-wrap table tr:first").wrap("<thead></thead>"),
                jQuery("#" + t + " div.mobile-wrap table tr:first th:first").addClass("fixed-side hz-hide-shadow"),
                jQuery("#" + t + " div.mobile-wrap table thead")
                    .nextUntil("table")
                    .wrapAll("<tbody>"),
                jQuery("#" + t + " div.mobile-wrap table thead").unwrap(),
                jQuery("#" + t + " .hz-table-scroll tbody td:first-of-type").wrapInner(
                    '<th class="fixed-side hz-hide-shadow"></th>'
                ),
                jQuery("#" + t + " tbody .fixed-side").unwrap(),
                jQuery("#" + t + " div.mobile-wrap table tbody th.lh_overall_franchise").addClass(
                    "fixed-side hz-hide-shadow"
                );
            break;
        case 1:
            jQuery("#" + t + " div.mobile-wrap table tr.weeklypointtotals").remove(),
                jQuery("#" + t + " div.mobile-wrap .hz-table-wrap")
                    .closest("div.mobile-wrap")
                    .addClass("hz-table-scroll fx-dbl-tbl"),
                jQuery("#" + t + " div.mobile-wrap table tr:first").wrap("<thead></thead>"),
                jQuery("#" + t + " div.mobile-wrap table tr:first th:first").addClass(
                    "fixed-side fx-dbl hz-hide-shadow"
                ),
                jQuery("#" + t + " div.mobile-wrap table thead")
                    .nextUntil("table")
                    .wrapAll("<tbody>"),
                jQuery("#" + t + " div.mobile-wrap table thead").unwrap(),
                jQuery("#" + t + " .hz-table-scroll tbody td:first-of-type").wrapInner(
                    '<th class="fixed-side fx-dbl hz-hide-shadow"></th>'
                ),
                jQuery("#" + t + " tbody .fixed-side").unwrap(),
                jQuery("#" + t + " div.mobile-wrap table .player").each(function () {
                    $(this).prev("th").append(this);
                }),
                jQuery(".fixed-side").find(".player").contents().unwrap();
            break;
        case 2:
            jQuery("#" + t + " div.mobile-wrap .hz-table-wrap")
                .closest("div.mobile-wrap")
                .addClass("hz-table-scroll fx-dbl-tbl"),
                jQuery("#" + t + " div.mobile-wrap table tr:first").wrap("<thead></thead>"),
                jQuery("#" + t + " div.mobile-wrap table tbody tr th:first-of-type").addClass(
                    "fixed-side fx-dbl hz-hide-shadow"
                ),
                jQuery("#" + t + " div.mobile-wrap table thead")
                    .nextUntil("table")
                    .wrapAll("<tbody>"),
                jQuery("#" + t + " div.mobile-wrap table thead").unwrap();
    }
    jQuery("#" + t + " .hz-main-table")
        .clone(!0)
        .appendTo("#" + t + " .hz-table-scroll")
        .addClass("hz-clone"),
        jQuery(".hz-clone").each(function () {
            $(this).clone(!0).appendTo($(this).parent()).addClass("hz_table_remove");
        }),
        jQuery(".hz-clone td+td:last-of-type,.hz-clone th+th:last-of-type").addClass("shadow-right hz-hide-shadow"),
        jQuery(".hz_table_remove tbody,.hz_table_remove thead").html(""),
        jQuery(document).ready(function () {
            doTableScrollShadow();
        });
}
jQuery("#body_trade_offer .remove-table").parents(".mobile-wrap").remove(),
    jQuery(
        '<table class="two_column_layout no-borderspacing" align="center"><tbody><tr><td class="two_column_layout mobile-view leftV" valign="top"><div class="mobile-wrap"><table class="report" cellspacing="1" align="center"><caption><span>Available Modules</span></caption><tbody><tr><th>Make A Selection</th></tr><tr><td class="selectbox"></td></tr><tr><td><input name="add_to_list" value="Add To List" onclick="add();" type="button"></td></tr><tr><td class="preview-modules"></td></tr></tbody></table></div></td><td class="two_column_layout mobile-view rightV" valign="top"><div class="mobile-wrap"><table class="report" cellspacing="1" align="center"><caption><span>Currently Used Modules</span></caption><tbody><tr><th>Make A Selection</th></tr><tr><td class="selectbox"></td></tr><tr><td><input name="remove_from_list" value="Remove From List" onclick="removeListItem();" type="button"><input name="move_up" value="&#9650;" onclick="moveItem(true);" type="button"><input name="move_down" value="&#9660;" onclick="moveItem(false);" type="button"></td></tr></tbody></table></div></td></tr></tbody></table>'
    ).insertBefore("#options_71 form table"),
    jQuery("#options_71 form table #source_list").appendTo("#options_71 .leftV td.selectbox"),
    jQuery("#options_71 form table #destination_list").appendTo("#options_71 .rightV td.selectbox"),
    jQuery('#options_71 form table a[href*="javascript:void(0);"]').appendTo("#options_71 td.preview-modules"),
    jQuery("#options_71 form table + table").remove(),
    jQuery(
        '<table class="two_column_layout no-borderspacing" align="center"><tbody><tr><td class="two_column_layout mobile-view leftV" valign="top"><div class="mobile-wrap"><table class="report" cellspacing="1" align="center"><caption><span>Available Franchises</span></caption><tbody><tr><th>Make A Selection</th></tr><tr><td class="selectbox"></td></tr><tr><td style="text-align:center"><input name="add_to_list" value="Add To List" onclick="addListItem();" type="button"></td></tr></tbody></table></div></td><td class="two_column_layout mobile-view rightV" valign="top"><div class="mobile-wrap"><table class="report" cellspacing="1" align="center"><caption><span>Current Round Draft Order</span></caption><tbody><tr><th>Make A Selection</th></tr><tr><td class="selectbox"></td></tr><tr><td style="text-align:center"><input name="remove_from_list" value="Remove From List" onclick="removeListItem();" type="button"><input name="move_up" value="&#9650;" onclick="moveItem(true);" type="button"><input name="move_down" value="&#9660;" onclick="moveItem(false);" type="button"></td></tr></tbody></table></div></td></tr></tbody></table>'
    ).insertBefore("#options_91 form table"),
    jQuery("#options_91 form table #source_list").css("width", "100%").appendTo("#options_91 .leftV td.selectbox"),
    jQuery("#options_91 form table #destination_list")
        .css("width", "100%")
        .appendTo("#options_91 .rightV td.selectbox"),
    jQuery("#options_91 form table + table").remove(),
    jQuery(
        '#body_top .report td.status:contains("Free Agent"),#options_236 .report td:contains("Free Agent"),#options_08 .report td.status:contains("Free Agent")'
    ).addClass("is-freeagent"),
    jQuery("head").append(
        '<style>.cal-event-desc li:before{content:"\\f44e";font-family:"Font Awesome 6 Pro";display:inline-block;width:1rem}.cal-wrap{display:none}#calendar{width:100%;display:grid;grid-template-columns:repeat(7,1fr)}#calendar tr,#calendar tbody{grid-column:1 / -1;display:grid;grid-template-columns:repeat(7,1fr);width:100%}#calendar caption{grid-column:1 / -1;margin-bottom:3.75rem}#calendar td,#calendar th{box-sizing:border-box}#calendar .weekdays th{text-align:center;text-transform:uppercase}#calendar td{display:flex;flex-direction:column}#calendar .day{position:relative}#calendar .month_header{position:relative;font-size:20pt}#calendar .month_header th{position:absolute;left:0;right:0;font-size:2rem;top:-3.25rem;line-height:2.5rem}#calendar .month_header th a{position:absolute;text-decoration:none;font-size:0;color:transparent}#calendar .month_header th a[title="Previous Month"]{left:1.25rem}#calendar .month_header th a[title="Next Month"]{right:1.25rem}#calendar .month_header th a[title="Next Month"]:before,#calendar .month_header th a[title="Previous Month"]:before{font-family:"Font Awesome 6 Pro";position:absolute;top:0;font-size:1.875rem;cursor:pointer}#calendar .month_header th a[title="Next Month"]:before{content:"\\f101";right:-0.625rem}#calendar .month_header th a[title="Previous Month"]:before{content:"\\f100";left:-0.625rem}#calendar .date{text-align:center;margin-bottom:0.313rem;width:1.875rem;height:1.875rem;line-height:1.875rem;border-radius:50%;flex:0 0 auto;align-self:flex-end;font-weight:700}#calendar .date a{position:absolute;left:0.125rem;top:0.125rem}.cal-event{flex:0 0 auto;font-size:0.813rem;text-decoration:none;margin:0.125rem 0}.cal-event-desc{padding:0.125rem}#calendar td{border-style:solid;border-left-width:0.063rem;border-bottom-width:0.063rem;border-top:0;border-right-width:0}@media(max-width: 48em){.cal-wrap{display:block}.scoll-div{height:21.875rem}#calendar .weekdays,#calendar .other-month{display:none}#calendar,#calendar tr,#calendar tbody{grid-template-columns:1fr}#calendar tr{grid-column:1 / 2}#calendar .date{align-self:flex-start}#calendar .date a{right:0.125rem;left:auto}#calendar td.first-td{border-style:solid;border-top-width:0.063rem}#calendar td{border-right-width:0.063rem}}</style>'
    ),
    jQuery("head").append(
        '<style>.cal-event-desc-empty li:before{content:none;font-family:"Font Awesome 6 Pro";display:inline-block;width:1rem}.cal-wrap{display:none}#calendar{width:100%;display:grid;grid-template-columns:repeat(7,1fr)}#calendar tr,#calendar tbody{grid-column:1 / -1;display:grid;grid-template-columns:repeat(7,1fr);width:100%}#calendar caption{grid-column:1 / -1;margin-bottom:3.75rem}#calendar td,#calendar th{box-sizing:border-box}#calendar .weekdays th{text-align:center;text-transform:uppercase}#calendar td{display:flex;flex-direction:column}#calendar .day{position:relative}#calendar .month_header{position:relative;font-size:20pt}#calendar .month_header th{position:absolute;left:0;right:0;font-size:2rem;top:-3.25rem;line-height:2.5rem}#calendar .month_header th a{position:absolute;text-decoration:none;font-size:0;color:transparent}#calendar .month_header th a[title="Previous Month"]{left:1.25rem}#calendar .month_header th a[title="Next Month"]{right:1.25rem}#calendar .month_header th a[title="Next Month"]:before,#calendar .month_header th a[title="Previous Month"]:before{font-family:"Font Awesome 6 Pro";position:absolute;top:0;font-size:1.875rem;cursor:pointer}#calendar .month_header th a[title="Next Month"]:before{content:"\\f101";right:-0.625rem}#calendar .month_header th a[title="Previous Month"]:before{content:"\\f100";left:-0.625rem}#calendar .date{text-align:center;margin-bottom:0.313rem;width:1.875rem;height:1.875rem;line-height:1.875rem;border-radius:50%;flex:0 0 auto;align-self:flex-end;font-weight:700}#calendar .date a{position:absolute;left:0.125rem;top:0.125rem}.cal-event{flex:0 0 auto;font-size:0.813rem;text-decoration:none;margin:0.125rem 0}.cal-event-desc{padding:0.125rem}#calendar td{border-style:solid;border-left-width:0.063rem;border-bottom-width:0.063rem;border-top:0;border-right-width:0}@media(max-width: 48em){.cal-wrap{display:block}.scoll-div{height:21.875rem}#calendar .weekdays,#calendar .other-month{display:none}#calendar,#calendar tr,#calendar tbody{grid-template-columns:1fr}#calendar tr{grid-column:1 / 2}#calendar .date{align-self:flex-start}#calendar .date a{right:0.125rem;left:auto}#calendar td.first-td{border-style:solid;border-top-width:0.063rem}#calendar td{border-right-width:0.063rem}}</style>'
    ),
    jQuery("#monthly_calendar").attr("id", "calendar"),
    jQuery("#calendar").parent("div").addClass("scoll-div"),
    jQuery("#calendar .day_of_week_header").attr("class", "weekdays"),
    jQuery("#calendar .weekdays th").attr("scope", "col"),
    jQuery("#calendar tr.oddtablerow,#calendar tr.eventablerow")
        .removeClass("eventablerow")
        .addClass("dayrows oddtablerow"),
    $("#calendar .dayrows td").hasClass("today")
        ? $("#calendar .dayrows td").addClass("other-month")
        : $("#calendar .dayrows td").attr("class", "other-month"),
    jQuery("#calendar .dayrows td.other-month:has(div.calendarday)").removeClass("other-month").addClass("day"),
    jQuery("#calendar td.day:first").addClass("first-td"),
    jQuery("#calendar td.day").removeAttr("valign"),
    jQuery("#calendar div.calendarday").addClass("date"),
    jQuery("#calendar .day ul li").wrap('<div class="cal-event"><div class="cal-event-desc"></div></div>'),
    jQuery("#calendar .day .cal-event").unwrap(),
    jQuery("#calendar .day .cal-event-desc li").css("list-style", "none"),
    jQuery("#calendar .date").html(function (e, t) {
        return t.replace(/&nbsp;/g, "");
    }),
    jQuery("#calendar .month_header th:last-of-type").remove(),
    jQuery("#calendar .month_header th").html(function (e, t) {
        return t
            .replace("Jan", "JANUARY")
            .replace("Feb", "FEBRUARY")
            .replace("Mar", "MARCH")
            .replace("Apr", "APRIL")
            .replace("May", "MAY")
            .replace("Jun", "JUNE")
            .replace("Jul", "JULY")
            .replace("Aug", "AUGUST")
            .replace("Sep", "SEPTEMBER")
            .replace("Oct", "OCTOBER")
            .replace("Nov", "NOVEMBER")
            .replace("Dec", "DECEMBER");
    }),
    jQuery("#calendar .day:not(:has(div.cal-event))").each(function (e) {
        $(this).append(
            '<div class="cal-event"><div class="cal-event-desc-empty" style="font-style:italic"><li style="list-style:none"> </li></div></div>'
        );
    }),
    jQuery(".calendarday.date a").html('<i class="fa-regular fa-square-plus" aria-hidden="true"></i>'),
    jQuery("#body_options_123 h3.h3-menu").remove(),
    fetch(`${baseURLDynamic}/${year}/options?L=${league_id}&O=123`)
        .then((e) => e.text())
        .then((e) => {
            jQuery("#monthly_events ul li").wrap('<div class="cal-event"><div class="cal-event-desc"></div></div>'),
                jQuery(
                    '<div class="mobile-wrap cal-wrap"><table class="report" id="monthly_events" align="center" cellspacing="1"><caption><span>Todays Calendar Events</span></caption><tbody><tr class="oddtablerow"><td class="cal_append"></td></tr></tbody></table></div>'
                ).insertBefore(jQuery("#calendar").closest("div.mobile-wrap")),
                jQuery(e).find("#monthly_calendar td.today ul").appendTo("#monthly_events td.cal_append"),
                jQuery("#monthly_events ul li").wrap('<div class="cal-event"><div class="cal-event-desc"></div></div>'),
                jQuery("#monthly_events .cal-event").unwrap(),
                jQuery("#monthly_events .cal-event-desc li").css("list-style", "none"),
                jQuery("#monthly_events .cal_append:empty").append(
                    '<div class="cal-event"><div class="cal-event-desc-empty" style="font-style:italic"><li style="list-style:none"> </li></div></div>'
                ),
                jQuery("#calendar,#monthly_calendar").css("visibility", "visible"),
                jQuery('.cal-event li a[title|="Delete This Calendar Event"]').parent("li").addClass("remove_char"),
                jQuery(".remove_char").each(function (e, t) {
                    var a = $(this),
                        r = a.html().replace(/\(|\)/g, "");
                    a.html(r);
                }),
                jQuery(".cal-event-desc .remove_char a").html(
                    '<i style="color:#da3636" class="fa-regular fa-circle-xmark" aria-hidden="true"></i>'
                );
        })
        .catch((e) => {
            console.error("Error:", e);
        }),
    jQuery("#body_options_236 .nocaption,#body_top .nocaption,#body_options_08 .nocaption")
        .prepend("<caption><span>Top Players</span></caption>")
        .removeClass("nocaption"),
    jQuery("#body_depth_chart #depth_chart")
        .has('caption span:contains("NFL Depth Chart")')
        .attr("id", "depth_chart_grid"),
    $(window).width() < 890 &&
        (doTableScroll(1, "body_options_08"),
        doTableScroll(1, "body_options_236"),
        doTableScroll(1, "body_top"),
        doTableScroll(0, "body_options_31")),
    doTableScroll(0, "body_options_170"),
    doTableScroll(0, "body_options_93"),
    doTableScroll(2, "depth_chart_grid"),
    doTableScroll(0, "body_options_171"),
    jQuery("th.fixed-side").has("img.lh_franchise_img , img.franchiseicon").addClass("has-ficon"),
    jQuery("#body_options_170 .report.hz-main-table.hz-clone td").html("<select><option>None</option></select>"),
    jQuery("#body_options_93 .report.hz-main-table.hz-clone td").html('<input type="checkbox">'),
    jQuery("head").append(
        '<style>.hz-table-scroll{position:relative;overflow:hidden;white-space:nowrap}.hz-table-wrap{width:100%;overflow:auto}.hz-table-scroll table{padding-bottom:0.625rem;width:100%;margin:auto;border-collapse:separate;border-spacing:0}.hz-main-table caption,.hz-main-table .fixed-side,.hz-clone th,.hz-clone td{visibility:hidden}.hz_table_remove{padding:0;margin:0;background:none;box-shadow:none;border:0;background-image:none}.hz-clone.hz_table_remove caption,.hz-clone .fixed-side{visibility:visible;pointer-events:auto}.fixed-side{width:6.25rem;padding:0.188rem 0.313rem}.fixed-side img.franchiseicon{max-width:6.25rem;min-width:auto!important}.hz-clone{position:absolute;top:0.625rem;left:0.625rem;pointer-events:none}.fixed-side .franchiseicon,.fixed-side a{max-width:none;height:auto}.fixed-side.fx-dbl{text-align:left;width:0.063rem}.fixed-side a{display:inline}.hz-table-scroll thead th.fixed-side{text-align:center!important}.fixed-side+td,.fixed-side+th{padding-left:0.375rem}#body_options_93 .hz-main-table tbody tr:first-of-type th{font-size:0.688rem}#body_options_93 .hz-main-table thead th{white-space:normal;min-width:6.25rem}#depth_chart_grid thead th,#depth_chart_grid tbody tr:first-of-type th{text-align:left!important}#depth_chart_grid .report.hz-main-table td:nth-child(2){text-align:left}.mobile-wrap.hz-table-scroll{overflow:hidden}.fixed-side{position:sticky}.hz-hide-shadow:after{background-image:none!important}#options_236 th.fixed-side a,#options_08 th.fixed-side a,#body_top th.fixed-side a{padding-left:0.188rem}#options_236 thead .fixed-side,#options_08 thead .fixed-side,#body_top thead .fixed-side{text-align:left!important}.hz-main-table tbody th.fixed-side{text-align:left}.hz-main-table tbody tr.average th.fixed-side{text-align:center}#body_options_93 .hz-main-table tbody tr:first-of-type th.fixed-side{text-align:center}.shadow-right{position:sticky;right:0;visibility:visible}.shadow-right:after{content:"";position:absolute;top:0;width:1.25rem;height:100%;visibility:visible;background:none;right:0;background-image:linear-gradient(to right,rgba(0,0,0,0),rgba(0,0,0,.3))}.hz_table_remove_shadow .shadow-right.hz-hide-shadow:after{display:none}.fixed-side:after{content:"";position:absolute;top:0;width:1.25rem;height:100%}.hz-clone .fixed-side:after{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0));right:-1.25rem}.hz-main-table tbody th.fixed-side.has-ficon{text-align:center}</style>'
    ),
    jQuery("#depth_chart").has('th:contains("Status")').addClass("depth_chart_page"),
    jQuery('.depth_chart_page th:contains("Depth")').addClass("depth"),
    jQuery('.depth_chart_page th:contains("Status")').addClass("status"),
    jQuery("#body_options_84 #container-wrap select").css("width", "50%"),
    jQuery(
        "#body_options_84 #container-wrap div.mobile-wrap td,#body_options_145 div.mobile-wrap td,#body_options_83 div.mobile-wrap td,#body_options_168 div.mobile-wrap td"
    ).css({ width: "50%", "text-align": "center" }),
    jQuery("#MFLBoxWrapper table.MFLGameTable").removeAttr("onclick title"),
    jQuery("#body_options_05 div.mobile-wrap:first table").has("tr.newposition").parent().addClass("filter-div-show"),
    jQuery("#body_options_05 div.mobile-wrap:first")
        .not(".filter-div-show")
        .html("<h3>You have no trade offers to or from</h3>"),
    jQuery("#body_options_05 div.mobile-wrap.filter-div-show table")
        .has("tr.newposition")
        .addClass("filter-table-show"),
    jQuery("#body_options_05 div.mobile-wrap.filter-div-show table:first")
        .not(".filter-table-show")
        .html("<table><caption><span>TRADES OFFERED BY YOU (NONE)</span></caption></table>"),
    jQuery("#body_options_05 div.mobile-wrap.filter-div-show table:last")
        .not(".filter-table-show")
        .html("<table><caption><span>TRADES OFFERED TO YOU (NONE)</span></caption></table>"),
    jQuery("#body_options_67 div.mobile-wrap:first table").has("tr.oddtablerow").parent().addClass("filter-div-show"),
    jQuery("#body_options_67 div.mobile-wrap:first")
        .not(".filter-div-show")
        .html("<h3>There are no transactions to delete</h3>"),
    jQuery("#body_options_03 div.mobile-wrap:first table").has("tr.oddtablerow").parent().addClass("filter-div-show"),
    jQuery("#body_options_03 div.mobile-wrap:first").not(".filter-div-show").html("<h3>There are no transactions</h3>"),
    jQuery('#body_home h2.warning:contains("Your Draft Is Scheduled To Start Shortly")').wrap(
        '<span class="alert alert-info-body draft_warning" style="text-align:center"></span>'
    ),
    jQuery("#body_home span.draft_warning h2").contents().unwrap(),
    jQuery("#body_options_18 .report.nocaption").find('th:contains("Deactivate To IR")').text("Deactivate"),
    jQuery("#body_options_18 .report.nocaption").find('th:contains("Activate From IR?")').text("Activate"),
    jQuery("#body_options_18 .report.nocaption").find('th:contains("Drop From Roster?")').text("Drop"),
    jQuery("#body_options_18 .report.nocaption td.inputfield")
        .find('.warning:contains("Can not be deactivated")')
        .text("Not-Eligible"),
    jQuery("#body_options_18 .report.nocaption").find('th:contains("Starter?")').text("Starter"),
    jQuery("#body_options_18 .report.nocaption td").find('span.warning:contains("Questionable")').text("Q"),
    jQuery("#body_options_18 .report.nocaption td").find('span.warning:contains("Doubtful")').text("D"),
    jQuery("#body_options_18 .report.nocaption td").find('span.warning:contains("Out")').text("O"),
    document.getElementById("auction_bid") &&
        jQuery("head").append(
            "<style>#body_auction_bid #container-wrap table.report td,#body_auction_bid #container-wrap table.report th{text-align:center}#body_auction_bid #container-wrap table.report td:first-child,#body_auction_bid #container-wrap table.report th:first-child{text-align:left}</style>"
        ),
    document.getElementById("options_127") &&
        jQuery("head").append(
            '<style>#body_options_127 form[action="delete_auctions"] table th,#body_options_127 form[action="delete_auctions"] table td,#body_options_127 form[action="delete_auctions"] table th:nth-child(2),#body_options_127 form[action="delete_auctions"] table td:nth-child(2),#body_options_127 form[action="delete_auctions"] table th:nth-child(3),#body_options_127 form[action="delete_auctions"] table td:nth-child(3),#body_options_127 form[action="delete_auctions"] table td:last-child,#body_options_127 form[action="delete_auctions"] table th:last-child{text-align:center}</style>'
        ),
    jQuery("#body_csetup_draftpref .mobile-wrap table td:last-of-type").remove(),
    $('img[src="https://www.myfantasyleague.com/smilies/smile.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/smile.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/smile.png"]').prop("title", "Smile"),
    $('img[src="https://www.myfantasyleague.com/smilies/sad.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/worried.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/worried.png"]').prop("title", "Sad"),
    $('img[src="https://www.myfantasyleague.com/smilies/wink.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/smirk.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/smirk.png"]').prop("title", "Smirk"),
    $('img[src="https://www.myfantasyleague.com/smilies/ohmy.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/open_mouth.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/open_mouth.png"]').prop(
        "title",
        "Say What?"
    ),
    $('img[src="https://www.myfantasyleague.com/smilies/tongue.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/stuck_out_tongue.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/stuck_out_tongue.png"]').prop(
        "title",
        "Suck it!"
    ),
    $('img[src="https://www.myfantasyleague.com/smilies/mad.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/rage.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/rage.png"]').prop("title", "Angry"),
    $('img[src="https://www.myfantasyleague.com/smilies/blink.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/astonished.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/rage.png"]').prop("title", "Blink"),
    $('img[src="https://www.myfantasyleague.com/smilies/unsure.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/confused.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/confused.png"]').prop(
        "title",
        "Unsure"
    ),
    $('img[src="https://www.myfantasyleague.com/smilies/huh.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/expressionless.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/expressionless.png"]').prop(
        "title",
        "Huh ?"
    ),
    $('img[src="https://www.myfantasyleague.com/smilies/biggrin.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/scream.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/scream.png"]').prop(
        "title",
        "Scream"
    ),
    $('img[src="https://www.myfantasyleague.com/smilies/laugh.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/sweat_smile.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/sweat_smile.png"]').prop(
        "title",
        "LOL"
    ),
    $('img[src="https://www.myfantasyleague.com/smilies/cool.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/sunglasses.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/sunglasses.png"]').prop(
        "title",
        "Cool"
    ),
    $('img[src="https://www.myfantasyleague.com/smilies/rolleyes.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/innocent.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/innocent.png"]').prop(
        "title",
        "Roll Eyes"
    ),
    $('img[src="https://www.myfantasyleague.com/smilies/ph34r.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/mask.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/mask.png"]').prop("title", "Mask"),
    $('img[src="https://www.myfantasyleague.com/smilies/dry.gif"]').attr(
        "src",
        "https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/neckbeard.png"
    ),
    $('img[src="https://www.mflscripts.com/ImageDirectory/script-images/chat-icons/neckbeard.png"]').prop(
        "title",
        "Nerd"
    ),
    document.getElementById("body_board_show") &&
        $(".topiclist tr").each(function () {
            $(this)
                .find("td:eq(0) a img[title|='Locked']")
                .each(function () {
                    $(this)
                        .closest("td")
                        .prepend("<i class='fa-sharp fa-regular fa-lock-keyhole' title='Locked!'></i>"),
                        $(this).remove();
                }),
                $(this)
                    .find("td:eq(0) b")
                    .each(function () {
                        $(this)
                            .closest("td")
                            .prepend(
                                "<i class='fa-regular fa-thumbtack' style='padding-right:0.125rem' title='Pinned!'></i>"
                            );
                    });
        }),
    jQuery('#body_options_207 tr[id*="preview_"]').each(function () {
        $(this)
            .nextUntil('tr[id*="preview_"]')
            .addBack()
            .wrapAll('<div class="mobile-wrap" style="position:relative"><table class="previews_table"><tbody>');
    }),
    jQuery('#body_options_177 tr[id*="recap_"]').each(function () {
        $(this)
            .nextUntil('tr[id*="recap_"]')
            .addBack()
            .wrapAll('<div class="mobile-wrap" style="position:relative"><table class="previews_table"><tbody>');
    }),
    jQuery('#body_options_207 tr[id*="preview_"]').each(function () {
        var e = $(this).closest("tbody");
        $(this).insertBefore(e);
    }),
    jQuery('#body_options_177 tr[id*="recap_"]').each(function () {
        var e = $(this).closest("tbody");
        $(this).insertBefore(e);
    }),
    jQuery('#body_options_207 tr[id*="preview_"]').each(function () {
        $(this).wrapInner("<caption><span>");
    }),
    jQuery('#body_options_177 tr[id*="recap_"]').each(function () {
        $(this).wrapInner("<caption><span>");
    }),
    jQuery(".previews_table caption").each(function () {
        $(this).unwrap();
    }),
    jQuery(".previews_table caption span h3").each(function () {
        $(this).unwrap();
    }),
    jQuery(".previews_table caption span h3").each(function () {
        $(this).children().unwrap();
    }),
    jQuery(".previews_table").each(function () {
        $(this).append('<tr class="oddtablerow match_tables"></tr>');
    }),
    $("td.recap_preview_players").each(function () {
        $(this).closest(".previews_table").find(".match_tables").append(this);
    }),
    jQuery(".match_tables table").each(function () {
        $(this).unwrap();
    }),
    jQuery(".previews_table tbody").each(function () {
        $(this).hide();
    }),
    jQuery(".previews_table caption").each(function () {
        $(this).append(
            '<input class="preview_caps-btn" type="button" value="View" style="position:absolute;top:0.25rem;right:0.25rem;padding:0.188rem">'
        );
    });
var toggle_previews = function () {
    $("body").on("click", ".preview_caps-btn", function () {
        $(this).parents("table.previews_table").find("tbody").toggle(),
            "View" == $(this).val() ? $(this).val("Hide") : $(this).val("View");
    });
};
if (
    ($(document).ready(toggle_previews),
    jQuery("head").append(
        '<style>table.previews_table table{width:auto}.matchup_chart{display:none}#body_options_207 #container-wrap > div.mobile-wrap,#body_options_177 #container-wrap > div.mobile-wrap{background:unset;border:unset;box-shadow:unset;margin:unset;padding:unset;border-radius:unset}.previews_table p{white-space:unset!important}.previews_table caption{white-space:nowrap;text-align:center}#body_options_207 div[class*="franTeam_"],#body_options_207 a[class*="franPlayer_"]:before,#body_options_177 div[class*="franTeam_"],#body_options_177 a[class*="franPlayer_"]:before{display:none!important}#body_options_207 a[class*="franPlayer_"],#body_options_177 a[class*="franPlayer_"]{padding-left:0!important}table.previews_table > tbody > tr:nth-child(1) > table.report.nocaption{width:100%;margin:1.25rem 0;max-width:37.875rem;margin:0 auto;margin-top:1.25rem;margin-bottom:1.25rem}tr.match_tables{text-align:center}tr.match_tables table{width:48%;display:inline-table;max-width:18.75rem}tr.match_tables table:first-child{margin-right:0.188rem}tr.match_tables table:last-child{margin-left:0.188rem}tr.match_tables table .player{text-align:left}#body_options_207 tr.match_tables table .points{text-align:center}.previews_table{width:100%}.previews_table p .franchiseicon{margin:0.313rem 0.125rem}.previews_table caption .franchiseicon{margin:0.313rem 0}@media only screen and (max-width: 37.5em){.previews_table > caption > span a{display: block}#body_options_177 .articlepicturetable,#body_options_207 .articlepicturetable{display:none}}</style>'
    ),
    jQuery(
        "#body_options_177 table.previews_table table.report.nocaption,#body_options_207 table.previews_table table.report.nocaption"
    ).each(function () {
        $(this).find("td:contains('No Current Video')").length > 1 && $(this).closest("table").remove();
    }),
    $(document).ready(function () {
        $("#myfantasyleague_tabs #league_chat tr:eq(0) th:eq(0)").append(
            '<a href="' +
                baseURLStatic +
                "/" +
                year +
                "/home/" +
                league_id +
                '?MODULE=LEAGUE_CHAT" onclick="openChatWindow(this); return false;" target="_blank"><i style="margin-left:0.313rem" class="fa-regular fa-comments" aria-hidden="true"></i></a>'
        );
    }),
    $("#body_options_93 .form_buttons").before(
        '<span class="warning" style="display:block;text-align:center">DO NOT ENABLE ABILITIES FOR OWNERS CUSTOMIZE HOME PAGE !! IT WILL MESS UP LAYOUT AND STYLE WHEN USING CUSTOM TEMPLATE.</span>'
    ),
    $("#body_processed_waivers table.report").has('th:contains("Round (or Group)")').addClass("hasGroups"),
    "undefined" != typeof franchise_id &&
        "0000" !== franchise_id &&
        $(
            "#body_options_08 table.report tr,#body_options_236 table.report tr,#body_top table.report tr,#top_adds tr,#top_drops tr,#top_starters tr,#body_options_117 table.report tr"
        ).each(function () {
            var e = $(this).find('a[href*="add_drop"]').closest("tr");
            $(this).find('a[href*="O=05"]').closest("tr");
            $(e).addClass("freeagent"),
                $(this).find('a[href*="player"]').length > 0 &&
                    0 === $(this).find('a[href*="add_drop"]').length &&
                    0 === $(this).find('a[href*="O=05"]').length &&
                    $(this).addClass("myfranchise");
        }),
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll("#body_home #homepagecolumns .homepagecolumn > div").forEach(function (e) {
            e.removeAttribute("style");
        });
    }),
    load_moduleExpand_script &&
        document.getElementById("body_home") &&
        0 === moduleExpand &&
        -1 === location.href.indexOf("MODULE=MESSAGE") &&
        -1 === location.href.indexOf("/message") &&
        -1 === location.href.indexOf("SEQNO="))
) {
    if (void 0 === MFLEnableMedia) var MFLEnableMedia = !0;
    if (void 0 === MFLRememberModuleStates) var MFLRememberModuleStates = !0;
    const a = document.createElement("style");
    function doCustomCollapseAll(e) {
        document
            .querySelectorAll(".homepagetabcontent .homepagemodule:not(.toggle_tabs .homepagemodule)")
            .forEach((t) => {
                const a = t.parentElement.querySelector(".toggle_tabs"),
                    r = t.querySelector("tbody");
                let s = t.id || "noID";
                if ((t.id || (t.id = s), "overview_app" === s && (s = "overviewTabs"), e)) {
                    if ((a ? (a.style.display = "none") : r && (r.style.display = "none"), "irReport" === s)) {
                        r && (r.style.display = "none");
                        const e = document.querySelector("#irReport tfoot");
                        e && (e.style.display = "none");
                    }
                    MFLRememberModuleStates && updateStyleTabs(s, "add"),
                        document.querySelectorAll(".custom_expand").forEach(function (e) {
                            e.removeAttribute("style");
                        }),
                        document.querySelectorAll(".custom_collapse").forEach(function (e) {
                            e.setAttribute("style", "display:none");
                        });
                } else {
                    if (
                        (a ? (a.style.display = "inline") : r && (r.style.display = "table-row-group"),
                        "irReport" === s)
                    ) {
                        r && (r.style.display = "table-row-group");
                        const e = document.querySelector("#irReport tfoot");
                        e && (e.style.display = "table-row-group");
                    }
                    MFLRememberModuleStates && localStorage.setItem("styleTabs", JSON.stringify([])),
                        document.querySelectorAll(".custom_expand").forEach(function (e) {
                            e.setAttribute("style", "display:none");
                        }),
                        document.querySelectorAll(".custom_collapse").forEach(function (e) {
                            e.removeAttribute("style");
                        });
                }
            });
    }
    function doAppendIcon() {
        if (!document.querySelector(".all-module-expand-collapse")) {
            if (void 0 !== MFLEnableMedia && MFLEnableMedia) {
                const e = document.createElement("style");
                (e.textContent =
                    "@media only screen and (max-width:48em){.plus-toggle-main{right:3.25rem;top:1.406rem}#expandLink, #collapseLink{right:2.5rem!important;height:2.813rem!important}}label[for='sub100'] + #homepagetabs{padding-right:2.5rem}@media only screen and (max-width:48em){label[for='sub100'] + #homepagetabs{padding-right:0}}"),
                    document.head.appendChild(e);
            }
            let e = "display:inline;",
                t = "display:none;";
            MFLRememberModuleStates &&
                "true" === localStorage.getItem("moduleExpandAll_" + league_id) &&
                ((e = "display:none;"), (t = "display:inline;"));
            const a = document.querySelector("#tab1")?.parentNode;
            if (a) {
                const r = document.createElement("span");
                r.className = "all-module-expand-collapse";
                const s = document.createElement("a");
                (s.title = "Collapse Tabs"),
                    (s.id = "collapseLink"),
                    (s.className = "collapseLink"),
                    (s.style.cssText = `cursor:pointer;position:absolute;top:0;right:0;width:3.125rem;height:100%;text-align:center;${e}`),
                    (s.onclick = function () {
                        doCustomCollapseAll(!0),
                            (document.querySelector("#expandLink").style.cssText =
                                "cursor: pointer;position: absolute;top:0;right:0;width:3.125rem;height:100%;text-align:center;display:inline;"),
                            (document.querySelector(".collapseLink").style.cssText =
                                "cursor: pointer;position: absolute;top:0;right:0;width:3.125rem;height:100%;text-align:center;display:none;"),
                            MFLRememberModuleStates && localStorage.setItem("moduleExpandAll_" + league_id, "true");
                    });
                const o = document.createElement("a");
                (o.title = "Expand Tabs"),
                    (o.id = "expandLink"),
                    (o.className = "expandLink"),
                    (o.style.cssText = `cursor:pointer;position:absolute;top:0;right:0;width:3.125rem;height:100%;text-align:center;${t}`),
                    (o.onclick = function () {
                        doCustomCollapseAll(!1),
                            (document.querySelector("#expandLink").style.cssText =
                                "cursor: pointer;position: absolute;top:0;right:0;width:3.125rem;height:100%;text-align:center;display:none;"),
                            (document.querySelector(".collapseLink").style.cssText =
                                "cursor: pointer;position:absolute;top:0;right:0;width:3.125rem;height:100%;text-align:center;display:inline;"),
                            MFLRememberModuleStates && localStorage.removeItem("moduleExpandAll_" + league_id);
                    });
                const l = document.createElement("span");
                l.className = "plus-toggle-main";
                const i = document.createElement("span");
                (i.className = "toggle-btn-main"),
                    l.appendChild(i),
                    r.appendChild(s),
                    r.appendChild(o),
                    r.appendChild(l),
                    a.appendChild(r);
            }
        }
    }
    function getStyleTabs() {
        return JSON.parse(localStorage.getItem("styleTabs")) || [];
    }
    function updateStyleTabs(e, t) {
        let a = getStyleTabs();
        "add" !== t || a.includes(e) ? "remove" === t && (a = a.filter((t) => t !== e)) : a.push(e),
            localStorage.setItem("styleTabs", JSON.stringify(a));
    }
    function applyHiddenStyles() {
        const e = getStyleTabs();
        if (e.length > 0) {
            let t = document.getElementById("styleTabsStylesheet");
            t
                ? (t.textContent = "")
                : ((t = document.createElement("style")), (t.id = "styleTabsStylesheet"), document.head.appendChild(t));
            let a = e
                .map((e) => {
                    const t = document.getElementById(e);
                    return t
                        ? "irReport" === e
                            ? `#${e}  > tbody,#${e} tfoot { display: none; }`
                            : "fantasy_ticker_table" === e
                              ? `#${e}  > tbody { display: none; }`
                              : "overviewTabs" === e
                                ? `#${e} .toggle_tabs { display: none; }`
                                : t.parentElement.querySelector(".toggle_tabs")
                                  ? `#${e} + .toggle_tabs { display: none; }`
                                  : t.querySelector("tbody")
                                    ? `#${e} tbody { display: none; }`
                                    : `#${e} { display: none; }`
                        : "";
                })
                .join(" ");
            t.textContent = a;
        }
    }
    function toggleModule(e, t, a, r, s) {
        if (((e.style.display = "none"), (t.style.display = ""), "irReport" === s)) {
            r && (r.style.display = "table-row-group");
            const e = document.querySelector("#irReport tfoot");
            e && (e.style.display = "table-row-group");
        } else a ? (a.style.display = "inline") : r && (r.style.display = "table-row-group");
        MFLRememberModuleStates && updateStyleTabs(s, "remove");
    }
    function collapseModule(e, t, a, r, s) {
        if ((e.style.removeProperty("display"), (t.style.display = "none"), "irReport" === s)) {
            r && (r.style.display = "none");
            const e = document.querySelector("#irReport tfoot");
            e && (e.style.display = "none");
        } else a ? (a.style.display = "none") : r && (r.style.display = "none");
        MFLRememberModuleStates && updateStyleTabs(s, "add");
    }
    function doCustomCollapseHPM() {
        document
            .querySelectorAll(".homepagetabcontent .homepagemodule:not(.toggle_tabs .homepagemodule)")
            .forEach((e) => {
                if (!e.querySelector("span.module_expand")) {
                    let t = e.id || "noID";
                    e.id || (e.id = t), "overview_app" === t && (t = "overviewTabs");
                    const a = e.parentElement.querySelector(".toggle_tabs");
                    let r = null;
                    a || (r = e.querySelector("tbody"));
                    const s = e.querySelector("caption");
                    if (s) {
                        const e = document.createElement("span");
                        (e.title = "Expand Report"),
                            (e.style.cssText = "display:none"),
                            (e.className = "module_expand custom_expand");
                        const o = document.createElement("span");
                        (o.title = "Collapse Report"),
                            (o.style.cssText = ""),
                            (o.className = "module_expand custom_collapse");
                        const l = document.createElement("span");
                        (l.className = "plus-toggle"), (l.innerHTML = '<span class="toggle-btn"></span>');
                        getStyleTabs().includes(t)
                            ? ((e.style.display = ""), (o.style.display = "none"))
                            : ((o.style.display = ""), (e.style.display = "none")),
                            s.append(e, o, l),
                            e.addEventListener("click", () => {
                                toggleModule(e, o, a, r, t);
                            }),
                            o.addEventListener("click", () => {
                                collapseModule(e, o, a, r, t);
                            });
                    }
                }
            }),
            MFLRememberModuleStates && applyHiddenStyles();
    }
    (a.textContent =
        '#All_Scores_Table .all_scores_tablewrap tbody{display:table-row-group}.homepagecolumn .mobile-wrap{position:relative}#home caption span a{position:relative;z-index:2}span.custom_collapse:before,span.custom_expand:before{content:"";position:absolute;width:100%;height:1.875rem;left:0;visibility:visible}span.custom_collapse:before,span.custom_expand:before{z-index:1}span.plus-toggle {position: absolute;margin-top: 0.625rem;width: 1.375rem;right: 0.5rem;}.plus-toggle span::before,.plus-toggle span::after{content:"";display:block;position:absolute;width:.2rem;border-radius:1.4rem;height:1rem;top:0;bottom:0;left:0;right:0;margin:auto;-webkit-transition:all .3s ease;transition:all .3s ease;z-index:0}.plus-toggle span::after{width:1rem;height:.2rem}.custom_expand[style="display:none"] + span + .plus-toggle span::after,.custom_expand[style*="display: none"] + span + .plus-toggle span::after{-webkit-transform:rotate(180deg);transform:rotate(180deg);opacity:0}.custom_expand[style="display:none"] + span + .plus-toggle span::before,.custom_expand[style*="display: none"] + span + .plus-toggle span::before{-webkit-transform:rotate(90deg);transform:rotate(90deg);width:.25rem}#collapseLink.collapseLink,#expandLink.expandLink{z-index:1}.plus-toggle-main{right:0.313rem;position:absolute;width:1.625rem;height:1.625rem;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);background:#fff;border-radius:50%}.toggle-btn-main::before,.toggle-btn-main::after{content:"";display:block;position:absolute;width:.2rem;border-radius:1.4rem;height:1rem;top:0;bottom:0;left:0;right:0;margin:auto;-webkit-transition:all .3s ease;transition:all .3s ease;z-index:0}.toggle-btn-main::after{width:1rem;height:.2rem}#expandLink[style*="display:none"] + .plus-toggle-main span::after,#expandLink[style*="display: none"] + .plus-toggle-main span::after{-webkit-transform:rotate(180deg);transform:rotate(180deg);opacity:0}#expandLink[style*="display:none"] + .plus-toggle-main span::before,#expandLink[style*="display: none"] + .plus-toggle-main span::before{-webkit-transform:rotate(90deg);transform:rotate(90deg);width:.25rem}'),
        document.head.appendChild(a),
        document.addEventListener("DOMContentLoaded", function () {
            document.querySelectorAll(".toggle-btn").forEach(function (e) {
                e.textContent = "";
            }),
                document.getElementById("waiver_request_list")?.classList.add("homepagemodule"),
                document.querySelectorAll(".playoffbracket.homepagemodule").forEach(function (e) {
                    e.classList.add("report");
                });
            const e = document.querySelector("#waiver_request_list caption span");
            e && (e.innerHTML = "Current Waiver Claims"), doCustomCollapseHPM();
            document.querySelector("div.myfantasyleague_tabmenu.main_tabmenu") && doAppendIcon();
        });
}
if ("ajax_ls" === thisProgram && load_replace_mflScoring_h2h)
    if (0 === $('script[src*="mfl_live_scoring.js"]').length || 0 === liveScoringWeek)
        $("#body_ajax_ls #marquee_home, #body_ajax_ls #marquee_away").show(),
            $("#container-wrap").html(
                '<h2 class="warning">Live Scoring Will Start 24 Hours Prior To Kickoff Of First Game Of The Week</h2>'
            );
    else {
        var ls_away_id,
            ls_home_id,
            ls_ticker_speed = 200,
            ls_pace_tracker = [];
        if (void 0 === ls_scoreboardName) var ls_scoreboardName = "Live Scoring";
        if (void 0 === showTeamName) var showTeamName = !0;
        if (void 0 === showTeamIcon) var showTeamIcon = !0;
        if (void 0 === ls_includeProjections) var ls_includeProjections = !0;
        if (void 0 === ls_includeInjuryStatus) var ls_includeInjuryStatus = !0;
        if (void 0 === ls_loader) var ls_loader = !1;
        if (void 0 === ls_excludeIR) var ls_excludeIR = !1;
        if (void 0 === ls_excludeTaxi) var ls_excludeTaxi = !1;
        if (void 0 === ls_orig_proj_when_final) var ls_orig_proj_when_final = !1;
        if (void 0 === ls_box_abbrev_name_icon) var ls_box_abbrev_name_icon = 2;
        if (void 0 === ls_popup_abbrev_name_icon) var ls_popup_abbrev_name_icon = 0;
        if (void 0 === ls_popup_status) var ls_popup_status = !1;
        if (void 0 === ls_hide_bye_teams) var ls_hide_bye_teams = !1;
        if (void 0 === ls_show_win_probability) var ls_show_win_probability = !1;
        if (isAllPlay) ls_show_win_probability = !1;
        if (void 0 === ls_is_live_week) var ls_is_live_week = !0;
        if (void 0 === largeLeagueSB) var largeLeagueSB = !1;
        if (void 0 === BreakRows) var BreakRows = 1;
        if (void 0 === fixedWidthBox) var fixedWidthBox = !1;
        if (void 0 === setBoxWidth) var setBoxWidth = "150";
        var ls_onSwitch = !1;
        if (void 0 === ls_commish_id) var ls_commish_id = "0001";
        var ls_global_allplay,
            ls_trigger_run = 1,
            ls_target_franchise = "";
        if (
            ("undefined" != typeof franchise_id &&
                (ls_target_franchise = "0000" === franchise_id ? ls_commish_id : franchise_id),
            "undefined" != typeof ls_liveScoringWeekCheck)
        ) {
            if (-1 === location.href.indexOf("W="))
                if (liveScoringWeek < 1) var _liveScoringWeek = 1;
                else _liveScoringWeek = liveScoringWeek;
            else _liveScoringWeek = parseInt(location.href.substr(location.href.indexOf("W=") + 2, 2));
            liveScoringWeek !== _liveScoringWeek && (ls_is_live_week = !1);
        }
        ls_is_live_week || (ls_show_win_prob = 0);
        var seasonNotAvailable = $(
                '#body_ajax_ls h3.warning:contains("Scoring"):contains("Not"):contains("Available")'
            ),
            seasonNotAvailablePay = $('#body_ajax_ls h3.warning:contains("league"):contains("not"):contains("paid")');
        if ($(seasonNotAvailablePay).length)
            $(
                '<h3 id="ls_error" class="warning h3-menu" style="max-width:31.25rem;visibility:visible;margin:0 auto"><span style="font-size:1.75rem;display:block;text-align:center">Live Scoring has failed to load.</span><br><span style="font-size:1.25rem;display:block;text-align:center">Scoring not available for unpaid leagues</span></h3>'
            ).insertBefore(seasonNotAvailablePay),
                $(seasonNotAvailablePay).remove();
        else if ($(seasonNotAvailable).length || liveScoringWeek < 1 || liveScoringWeek > 23)
            $(
                '<h3 id="ls_error" class="warning h3-menu" style="max-width:31.25rem;visibility:visible;margin:0 auto"><span style="font-size:1.75rem;display:block;text-align:center">Live Scoring has failed to load.</span><br><span style="font-size:1.25rem;display:block;text-align:center">There are several reasons why this may happen.</span><br><span style="font-size:0.875rem;display:block;text-align:left">1. The regular season has not started (MFL starts live scoring 24 hours prior to kickeoff of Week 1 games)</span><span style="font-size:0.875rem;display:block;text-align:left;padding-top:0.313rem">2. This is a playoff league and the playoff week has not started (MFL starts live scoring 24 hours prior to kickoff of first playoff game)</span><span style="font-size:0.875rem;display:block;text-align:left;padding-top:0.313rem">3. NFL Season has ended. (MFL disables scoring once the season has ended)</span><span style="font-size:0.875rem;display:block;text-align:left;padding-top:0.625rem">Please contact your commissioner or see the MFL support thread link located below if you feel the scoreboard has not loaded for some other reason <br><br><span style="display:block;text-align:center;padding:0.625rem 0 1.25rem 0;"><a href="http://forums.myfantasyleague.com/forums/index.php?showtopic=38170" target="_blank">Support</a></span></span></h3>'
            ).insertBefore(seasonNotAvailable),
                $(seasonNotAvailable).remove();
        else {
            try {
                ls_player[""] = new LSPlayer("", "Blank", "QB", "FA", "QB");
            } catch (r) {}
            if (
                (ls_setup_html(),
                ls_append_css(),
                "undefined" != typeof ls_liveScoringWeekCheck && ls_navbar(),
                void 0 === triggerLiveScoring_ran)
            )
                var triggerLiveScoring_ran = !1;
            if (void 0 === triggerLiveScoring_count) var triggerLiveScoring_count = 0;
            if (largeLeagueSB) {
                if (void 0 === liveScoringListener)
                    var liveScoringListener = setInterval("liveScoringListenerCheck()", 1e3);
            } else if (void 0 === liveScoringListener)
                liveScoringListener = setInterval("liveScoringListenerCheck()", 100);
            ls_error_check();
        }
        function ls_error_check() {
            $(
                '<div class="ls_loading_message" style="visibility:visible"><div id="MFLPlayerPopupLoading" style="top:auto;position:relative;transform:none"><center>Loading Live Scoreboard . . .<br><br><div class="MFLPlayerPopupLoader"></div></center></div></div>'
            ).insertBefore("#myNavigationHolder"),
                ls_loader || $(".ls_loading_message #MFLPlayerPopupLoading").remove();
            var e = !1,
                t = setInterval(function () {
                    (126 !== ls_trigger_run && 212 !== ls_trigger_run) ||
                        (show_game(),
                        setTimeout(() => {
                            ls_reorder_ls_games(),
                                setTimeout(() => {
                                    ls_is_live_week || $('#other_games div[id*="og_"]:visible:first').trigger("click"),
                                        ls_hide_bye_teams &&
                                            $("#other_games .current_matchup").is(":hidden") &&
                                            $('#other_games div[id*="og_"]:visible:first').trigger("click"),
                                        (e = !0);
                                }, 10);
                        }, 50),
                        clearInterval(t, r));
                }, 50),
                a = setInterval(function () {
                    e &&
                        ($(".ls_loading_message,#ls_error").remove(),
                        $("head").append(
                            '<style>#body_ajax_ls #myNavigationHolder,#body_ajax_ls #ls_setting_drop,#body_ajax_ls table[style="margin-top: 0.313rem"],#body_ajax_ls table[style*="margin-top: 0.313rem"],#body_ajax_ls #ls_mfl_notes,#body_ajax_ls #ls_ticker_tab_id,#body_ajax_ls table[style*="margin-top: 0.313rem"] + div.mobile-wrap,#body_ajax_ls table[style="margin-top: 0.313rem"] + div.mobile-wrap{visibility:visible!important}</style>'
                        ),
                        $('div[id*="og_"]').is(":visible") ||
                            ($(".ls-outer-table").replaceWith(
                                '<h3 class="warning" style="font-size:1.25rem;padding:1.25rem 0;visibility:visible">There are no fantasy matchups this week or all teams on bye</h3>'
                            ),
                            $("#ls_ticker_tab_id,#ls_mfl_notes,.settings-mobile-wrap").remove()),
                        clearInterval(a, r));
                }, 10),
                r = setInterval(function () {
                    false;
                }, 100);
        }
        if (
            ($('div[id*="usmg_ad"],#ajax_ls div[style="margin-bottom:5px;"]').remove(),
            $('[src="/ads/ad-live_scoring_js.html"]').remove(),
            (googletag = null),
            /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))
        ) {
            var style = document.createElement("style");
            document.head.appendChild(style), style.sheet.insertRule("::-webkit-scrollbar{display:none}");
        }
        function ls_reorder_ls_games() {
            if (ls_vert_og) {
                for (var e = 0; e < ls_games.length; e++)
                    ls_games[e] === ls_target_franchise && (ls_global_allplay = ls_target_franchise);
                void 0 === ls_global_allplay && (ls_global_allplay = ls_games[0]);
                var t = [];
                switch_game(ls_global_allplay, "");
            } else {
                for (t = [], e = 0; e < 3; e++)
                    for (var a = 0; a < ls_games.length; a++)
                        switch (e) {
                            case 0:
                                "BYE" !== ls_games[a].split(",")[0] &&
                                    "AVG" !== ls_games[a].split(",")[0] &&
                                    "BYE" !== ls_games[a].split(",")[1] &&
                                    "AVG" !== ls_games[a].split(",")[1] &&
                                    ((ls_target_franchise !== ls_games[a].split(",")[0] &&
                                        ls_target_franchise !== ls_games[a].split(",")[1]) ||
                                        t.push(ls_games[a]));
                                break;
                            case 1:
                                ("AVG" !== ls_games[a].split(",")[0] && "AVG" !== ls_games[a].split(",")[1]) ||
                                    (ls_target_franchise !== ls_games[a].split(",")[0] &&
                                        ls_target_franchise !== ls_games[a].split(",")[1]) ||
                                    ("AVG" === ls_games[a].split(",")[1]
                                        ? t.push(ls_games[a].split(",")[1] + "," + ls_games[a].split(",")[0])
                                        : t.push(ls_games[a]));
                                break;
                            case 2:
                                ("BYE" !== ls_games[a].split(",")[0] && "BYE" !== ls_games[a].split(",")[1]) ||
                                    (ls_target_franchise !== ls_games[a].split(",")[0] &&
                                        ls_target_franchise !== ls_games[a].split(",")[1]) ||
                                    ("BYE" === ls_games[a].split(",")[1]
                                        ? t.push(ls_games[a].split(",")[1] + "," + ls_games[a].split(",")[0])
                                        : t.push(ls_games[a]));
                        }
                for (e = 0; e < 3; e++)
                    for (a = 0; a < ls_games.length; a++)
                        switch (e) {
                            case 0:
                                "BYE" !== ls_games[a].split(",")[0] &&
                                    "AVG" !== ls_games[a].split(",")[0] &&
                                    "BYE" !== ls_games[a].split(",")[1] &&
                                    "AVG" !== ls_games[a].split(",")[1] &&
                                    ls_target_franchise !== ls_games[a].split(",")[0] &&
                                    ls_target_franchise !== ls_games[a].split(",")[1] &&
                                    t.push(ls_games[a]);
                                break;
                            case 1:
                                ("AVG" !== ls_games[a].split(",")[0] && "AVG" !== ls_games[a].split(",")[1]) ||
                                    (ls_target_franchise !== ls_games[a].split(",")[0] &&
                                        ls_target_franchise !== ls_games[a].split(",")[1] &&
                                        ("AVG" === ls_games[a].split(",")[1]
                                            ? t.push(ls_games[a].split(",")[1] + "," + ls_games[a].split(",")[0])
                                            : t.push(ls_games[a])));
                                break;
                            case 2:
                                ("BYE" !== ls_games[a].split(",")[0] && "BYE" !== ls_games[a].split(",")[1]) ||
                                    (ls_target_franchise !== ls_games[a].split(",")[0] &&
                                        ls_target_franchise !== ls_games[a].split(",")[1] &&
                                        ("BYE" === ls_games[a].split(",")[1]
                                            ? t.push(ls_games[a].split(",")[1] + "," + ls_games[a].split(",")[0])
                                            : t.push(ls_games[a])));
                        }
                (ls_games = t), (t = null), switch_game(ls_games[0].split(",")[1], ls_games[0].split(",")[0]);
            }
        }
        function ls_append_css() {
            $("head").append(
                '<style>.LS_MainScoreboard .ls_team_name{white-space:nowrap}.ls_other_game .ls_og_full_name,.LS_MainScoreboard .ls_team_name{overflow:hidden;text-overflow:ellipsis}.ls-outer-table td.ls_game_info br{display:none}.ls-outer-table td.ls_game_info br + br{display:block}td.ls_projections span:empty:before{content:"0"}.ls-matchup caption span{max-width:unset!important;display:unset!important}.ls_player_stats div:empty:before{content:"- stats - "}.ls_allplay_final{width:0.625rem;text-align:right;padding-left:0.188rem}.wp_bar div{border-radius:0.5rem;}#TeamWinPctRow td{padding:0.188rem}#winprob_away{float:right;text-align:right;padding: 0 0.188rem;min-width: 1.563rem;min-width: fit-content;}#winprob_home{float:left;text-align:left;padding: 0 0.188rem;min-width: 1.563rem;min-width: fit-content;}h3#ls_error{max-width:37.5rem;margin:0 auto;background:red;color:#fff;padding:0.625rem;border-radius:0.313rem}h3#ls_error a{background:#fff;color:red;padding:0.063rem 0.313rem;border-radius:0.188rem;text-decoration:none;display:block;width:6.25rem;text-align:center;margin:0 auto;}#body_ajax_ls h4,#body_ajax_ls table[style="margin-top: 0.313rem"],#body_ajax_ls #ls_ticker_tab_id,#body_ajax_ls #ls_ticker_tab_id,#ls_ticker_tab_id + p,#body_ajax_ls #ls_ticker_tab_id + p + p,#body_ajax_ls #ls_ticker_tab_id + p + p + p,#body_ajax_ls #myNavigationHolder,#body_ajax_ls #ls_setting_drop,#body_ajax_ls table[style*="margin-top: 0.313rem"],#body_ajax_ls #ls_mfl_notes,#body_ajax_ls #ls_ticker_tab_id,#body_ajax_ls table[style*="margin-top: 0.313rem"] + div.mobile-wrap,#body_ajax_ls table[style="margin-top: 0.313rem"] + div.mobile-wrap{visibility:hidden!important}#other_games > tbody > tr > td{font-size:0}#other_games div.ls_other_game {margin: 0 0.125rem;font-size:0.813rem}#body_ajax_ls #ls-modal-container.hide-overlay .ls-modal-content{display:none}#body_ajax_ls #other_games td.ls_og_cell{font-size:0.813rem}#body_ajax_ls #nfl_games td.ls_box_possession:after{content:"";background-size:0.75rem 0.75rem;height:0.75rem;width:0.75rem;position:absolute;margin-left:0.313rem;top:50%;transform:translateY(-50%)}#body_ajax_ls #nfl_games td.ls_box_possession.ls_has_ball+td,#body_ajax_ls #nfl_games td.ls_box_possession.ls_in_redzone+td{width:5.625rem}#body_ajax_ls #nfl_games td.ls_box_possession.ls_has_ball,#body_ajax_ls #nfl_games td.ls_box_possession.ls_in_redzone{width:2.625rem}#body_ajax_ls #nfl_games td.ls_box_possession.ls_in_redzone:after{background-image:url(https://www.mflscripts.com/ImageDirectory/script-images/goal-post.svg)}#body_ajax_ls #nfl_games td.ls_box_possession.ls_has_ball:after{background-image:url(https://www.mflscripts.com/ImageDirectory/script-images/football.svg)}#body_ajax_ls #nfl_games div.ls_other_game td{padding:0.063rem 0.125rem}#nfl_games td[style="border:none;"]:last-of-type{padding:0!important}div.ls_team_name{font-size:1.25rem!important;line-height:3.125rem}.ls-modal{display:none;position:fixed;z-index:99999;padding-top:1.875rem;left:0;top:0;width:100%;height:100%;overflow:auto}.ls-modal-content{position:relative;margin:auto;padding:0;width:96%;-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;animation-duration:.4s;margin-bottom:1.875rem;max-width:25rem;border-radius:0.188rem}#ls-modal-content{max-height:31.25rem;overflow-x:auto}@-webkit-keyframes animatetop{from{top:-18.75rem;opacity:0}to{top:0;opacity:1}}@keyframes animatetop{from{top:-18.75rem;opacity:0}to{top:0;opacity:1}}.ls-modal-header{padding:0.188rem;background:none}.ls-modal-header h2{text-align:left;margin:0;padding:0;padding-left:0.313rem;text-transform:uppercase}.ls-modal-header .close{font-size:1.25rem;font-weight:700;position:absolute;right:0.313rem;top:0.313rem;text-align:center;border-radius:0.188rem;padding:0;height:1.375rem;width:1.375rem;line-height:1.375rem}.ls-modal-header .close:hover,.ls-modal-header .close:focus{text-decoration:none;cursor:pointer}.ls-modal-body{padding:0 0.125rem;font-size:0.813rem;padding-bottom:0.063rem}#ls-modal-content li,#ls-modal-content ul{margin:0;padding:0;list-style:none}#ls-modal-content .ls-popup-position-li{font-weight:700;font-size:0.875rem;padding-left:0.313rem}#ls-modal-content .ls-popup-player-li{position:relative;padding-left:0.5rem}#ls-modal-content .ls-popup-player-li:last-child{border:0}#ls-modal-content .ls-popup-stats{font-style:italic;display:block;font-size:0.688rem;line-height:0.688rem;font-weight:400;padding:0.125rem 0;padding-left:0.188rem;max-width:21.875rem}#ls-modal-content span.ls-popup-points{text-indent:0;display:inline;position:absolute;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);right:0.313rem;font-weight:700;font-size:0.813rem;border:0}.ls-explain-points-total::before{content:"Total Points :";padding-right:0.313rem}.ls-explain-points-li::before{content:"\\f441";font-family:"Font Awesome 6 Pro";padding-right:0.188rem;margin-left:-1.5em}tr[onclick^="ls_nfl_stats_popup_setup"]{cursor:pointer}div.mobile-wrap.ls-boxscore{padding:0 0.625rem;padding-bottom:0.313rem}.ls_scroller{padding:0.625rem 0;padding-bottom:0.313rem;overflow-x:auto;-webkit-overflow-scrolling:touch}#ls-modal-content span.ls-popup-text{font-style:italic;font-weight:700}.ls-popup-text::before,.ls-popup-icon-wrapper::before{content:"-";padding:0 0.125rem}#ls-modal-content img.ls-popup-icon{max-height:1rem;max-width:5rem}#body_ajax_ls table#roster_away,#body_ajax_ls table#roster_home{table-layout:fixed}#body_ajax_ls .ls-matchup td.ls_projections,#body_ajax_ls th.ls_projections{width:6.25rem}#body_ajax_ls td.ls_marquee_value{padding-left:0;padding-right:0}#body_ajax_ls .ls-matchup th:last-of-type,#body_ajax_ls .ls-matchup td:last-of-type{width:3.125rem}.ls_other_game .ls_projections{cursor:pointer}.ls_pace_box .ls_projected{display:none}.hide-overlay{background:none!important}@media only screen and (max-width:26.875em){#ls-modal-content .ls-popup-stats{max-width:17.5rem}}@media only screen and (max-width:22.5em){#ls-modal-content .ls-popup-stats{max-width:12.5rem}}@media only screen and (max-width:20em){#ls-modal-content .ls-popup-stats{max-width:11.25rem}}@media only screen and (max-height:37.5em) and (orientation:landscape){#ls-modal-content{max-height:28.75rem}}@media only screen and (max-height:31.25em) and (orientation:landscape){#ls-modal-content{max-height:22.5rem}}@media only screen and (max-height:28.125em) and (orientation:landscape){#ls-modal-content{max-height:19.375rem}}@media only screen and (max-height:25em) and (orientation:landscape){#ls-modal-content{max-height:16.25rem}}@media only screen and (max-height:21.875em) and (orientation:landscape){#ls-modal-content{max-height:13.125rem}}@media only screen and (max-height:18.75em) and (orientation:landscape){#ls-modal-content{max-height:10rem}}@media only screen and (max-height:15.625em) and (orientation:landscape){#ls-modal-content{max-height:6.875rem}}@media only screen and (max-height:12.5em) and (orientation:landscape){#ls-modal-content{max-height:9.375rem}}@media only screen and (max-width:70em){#body_ajax_ls .ls-matchup td.ls_projections,#body_ajax_ls th.ls_projections{width:5rem}}@media only screen and (max-width:60em){#body_ajax_ls .ls-matchup td.ls_projections,#body_ajax_ls th.ls_projections{width:3.75rem}}@media only screen and (max-width:55em){#body_ajax_ls .ls-matchup td.ls_projections,#body_ajax_ls th.ls_projections{width:2.5rem}}@media only screen and (max-width:48em){#body_ajax_ls .ls-matchup td.ls_projections,#body_ajax_ls th.ls_projections{width:8.75rem}}@media only screen and (max-width:33em){#body_ajax_ls .ls-matchup td.ls_projections,#body_ajax_ls th.ls_projections{width:5rem}}@media only screen and (max-width:30em){#body_ajax_ls .ls-matchup td.ls_projections,#body_ajax_ls th.ls_projections{width:2.5rem}}@media only screen and (max-width: 30em){.ls_pace_legend_title{display:block}#body_ajax_ls .ls-has-bye #LS_TopTableHolder .LS_ScoreboardTitle,#body_ajax_ls .ls-has-bye #LS_TopTableHolder .prmin{font-size:0.625rem}}@media only screen and (max-width: 25em){.ls_projected{display:block}}#body_ajax_ls #roster_away .no_stats td,#body_ajax_ls #roster_home .no_stats td{padding-bottom:0}#body_ajax_ls .no_stats div.ls_player_stats{display:none!important}</style>'
            ),
                isAllPlay
                    ? $("head").append(
                          "<style>#ls_setting_drop,.ls-outer-table,.ls-outer-table+div.mobile-wrap,.ls-outer-table+table{max-width:50rem;margin:0 auto}#body_ajax_ls div.ls_other_game{min-width:7.5rem}#body_ajax_ls .mobile-wrap.ls-matchup,#LS_TopTableHolder div.mobile-wrap{margin:0 auto;margin-bottom:0.625rem}#body_ajax_ls #other_games td.ls_og_cell{font-size:0.813rem}div.ls_team_name{font-size:20pt}#LS_HomeTeamName,#LS_CenterTop{width:50%}#other_games .ls_other_game tr{height:1.5rem}#other_games th{display:none}@media only screen and (max-width: 54.25em){#LS_TopTableHolder #LS_CenterTop,#LS_TopTableHolder .prmin,#LS_TopTableHolder .LS_ScoreboardTitle{display:table-cell}}@media only screen and (min-width:48.1em){#body_ajax_ls .ls-outer-table{table-layout:fixed}#body_ajax_ls #roster_away caption,#roster_home caption{display:none}}@media only screen and (max-width:40em){#LS_TopTableHolder #LS_CenterTop,#LS_TopTableHolder .prmin,#LS_TopTableHolder .LS_ScoreboardTitle{display:none}#LS_HomeTeamName{width:50%}.LS_MainScoreboard{table-layout:auto!important}}@media only screen and (max-width:28.000em){#LS_HomeScore span{font-size:1.875rem;min-width:1.5rem}}@media only screen and (max-width:22.5em){td.ls_projections,th.ls_projections,#ls_pace_wrapper{display:none!important}}</style>"
                      )
                    : $("head").append(
                          "<style>#body_ajax_ls .ls_proj_points{visibility:hidden;width:0!important;font-size:0!important;color:transparent;border:0!important;padding:0!important}.ls-has-bye #LS_TopTableHolder div.mobile-wrap,.ls-has-bye .mobile-wrap.ls-matchup{margin:0.625rem auto;margin-top:0}#body_ajax_ls .ls-has-bye .ls_players_table td.mobile-view:last-of-type{display:table-cell!important}#body_ajax_ls .ls-has-bye .ls-bye-hide,#body_ajax_ls .ls-has-bye .ls_players_table td.mobile-view:first-of-type{display:none!important}#body_ajax_ls .ls-has-bye #LS_TopTableHolder div.mobile-wrap,#body_ajax_ls .ls-has-bye .ls_players_table div.mobile-wrap.ls-matchup{max-width:40.625rem}.ls-has-bye #LS_HomeTeamName div{opacity:1!important}@media only screen and (max-width: 48em){.ls_players_table td.mobile-view:last-of-type{display:none}#LS_HomeTeamName div{opacity:.3}}@media only screen and (min-width: 48em){#body_ajax_ls .ls_players_table td.mobile-view:last-of-type,#body_ajax_ls .ls_players_table td.mobile-view:first-of-type{display:table-cell!important}#LS_HomeTeamName div,#LS_AwayTeamName div{opacity:1!important}}@media only screen and (max-width: 54.25em){#body_ajax_ls .ls-has-bye #LS_TopTableHolder .LS_ScoreboardTitle,#body_ajax_ls .ls-has-bye #LS_TopTableHolder .prmin{display:table-cell}}</style>"
                      ),
                isAllPlay &&
                    fixedWidthBox &&
                    $("head").append(
                        "<style>#body_ajax_ls #other_games div.ls_other_game{width:" +
                            setBoxWidth +
                            (useREM ? "rem" : "px") +
                            "!important;min-width:" +
                            setBoxWidth +
                            (useREM ? "rem" : "px") +
                            "!important}</style>"
                    ),
                (ls_trigger_run += 4);
        }
        function ls_hide_projections(e) {
            e.checked
                ? ($(".ls_projections").attr("style", "display:none"),
                  localStorage.setItem("ls_includeProjections_" + league_id, "1"))
                : ($(".ls_projections").removeAttr("style"),
                  localStorage.removeItem("ls_includeProjections_" + league_id));
        }
        function ls_hide_nfl_boxscore(e) {
            e.checked
                ? ($(".ls-nfl-boxscore").slideToggle("500"), localStorage.setItem("ls_includeNFLBox_" + league_id, "1"))
                : ($(".ls-nfl-boxscore").slideToggle("500"), localStorage.removeItem("ls_includeNFLBox_" + league_id));
        }
        function ls_get_player_projection(e) {
            try {
                return 0 === ls_nfl_games[ls_player[e].nfl_team].secs_left
                    ? void 0 === ls_player[e] || isNaN(ls_player[e].points)
                        ? void 0 === ls_projections["pid_" + e]
                            ? {
                                  pace: 0,
                                  points: 0,
                                  projected: 0,
                                  formatted: format_points(0),
                                  game_sec_remaining: ls_nfl_games[ls_player[e].nfl_team].secs_left,
                              }
                            : {
                                  pace: 0,
                                  points: 0,
                                  projected: parseFloat(ls_projections["pid_" + e]),
                                  formatted: format_points(0),
                                  game_sec_remaining: ls_nfl_games[ls_player[e].nfl_team].secs_left,
                              }
                        : void 0 === ls_projections["pid_" + e]
                          ? {
                                pace: ls_player[e].points,
                                points: ls_player[e].points,
                                projected: 0,
                                formatted: format_points(ls_player[e].points),
                                game_sec_remaining: ls_nfl_games[ls_player[e].nfl_team].secs_left,
                            }
                          : {
                                pace: ls_player[e].points,
                                points: ls_player[e].points,
                                projected: parseFloat(ls_projections["pid_" + e]),
                                formatted: format_points(ls_player[e].points),
                                game_sec_remaining: ls_nfl_games[ls_player[e].nfl_team].secs_left,
                            }
                    : 3600 === ls_nfl_games[ls_player[e].nfl_team].secs_left
                      ? void 0 === ls_projections["pid_" + e]
                          ? {
                                pace: 0,
                                points: 0,
                                projected: 0,
                                formatted: "",
                                game_sec_remaining: ls_nfl_games[ls_player[e].nfl_team].secs_left,
                            }
                          : {
                                pace: parseFloat(ls_projections["pid_" + e]),
                                points: 0,
                                projected: parseFloat(ls_projections["pid_" + e]),
                                formatted: ls_projections["pid_" + e],
                                game_sec_remaining: ls_nfl_games[ls_player[e].nfl_team].secs_left,
                            }
                      : void 0 === ls_projections["pid_" + e]
                        ? {
                              pace: ls_player[e].points,
                              points: ls_player[e].points - 0,
                              projected: ls_player[e].points,
                              formatted: format_points(ls_player[e].points),
                              game_sec_remaining: ls_nfl_games[ls_player[e].nfl_team].secs_left,
                          }
                        : {
                              pace:
                                  ls_player[e].points +
                                  parseFloat(ls_projections["pid_" + e]) *
                                      (ls_nfl_games[ls_player[e].nfl_team].secs_left / 3600),
                              points: ls_player[e].points,
                              projected: parseFloat(ls_projections["pid_" + e]),
                              formatted: format_points(
                                  ls_player[e].points +
                                      parseFloat(ls_projections["pid_" + e]) *
                                          (ls_nfl_games[ls_player[e].nfl_team].secs_left / 3600)
                              ),
                              game_sec_remaining: ls_nfl_games[ls_player[e].nfl_team].secs_left,
                          };
            } catch (e) {
                return { pace: 0, points: 0, projected: 0, formatted: "", game_sec_remaining: 0 };
            }
        }
        function ls_update_projections() {
            for (var e in ls_rosters)
                if (ls_rosters.hasOwnProperty(e)) {
                    var t = 0,
                        a = 0,
                        r = 0;
                    if (ls_rosters[e].hasOwnProperty("S"))
                        for (var s = 0; s < ls_rosters[e].S.length; s++) {
                            (t += (o = ls_get_player_projection(ls_rosters[e].S[s])).pace),
                                (a += o.projected),
                                o.points,
                                (r += o.game_sec_remaining),
                                ls_orig_proj_when_final && 0 === o.game_sec_remaining
                                    ? ($("#ls_pace_pts_" + ls_rosters[e].S[s]).html(
                                          '<span class="ls_projected" title="Original Projection">' +
                                              format_points(parseFloat(o.projected)) +
                                              "</span>"
                                      ),
                                      o.pace - o.projected < 0
                                          ? $(".pfpts_" + ls_rosters[e].S[s]).addClass("ls_below_projected")
                                          : o.pace - o.projected > 0 &&
                                            $(".pfpts_" + ls_rosters[e].S[s]).addClass("ls_above_projected"))
                                    : o.pace - o.projected < 0
                                      ? $("#ls_pace_pts_" + ls_rosters[e].S[s]).html(
                                            '<span class="ls_below_projected" title="Original Projection: ' +
                                                format_points(parseFloat(o.projected)) +
                                                '">' +
                                                o.formatted +
                                                "</span>"
                                        )
                                      : o.pace - o.projected > 0
                                        ? $("#ls_pace_pts_" + ls_rosters[e].S[s]).html(
                                              '<span class="ls_above_projected" title="Original Projection: ' +
                                                  format_points(parseFloat(o.projected)) +
                                                  '">' +
                                                  o.formatted +
                                                  "</span>"
                                          )
                                        : $("#ls_pace_pts_" + ls_rosters[e].S[s]).html(
                                              '<span class="ls_at_projected" title="Original Projection: ' +
                                                  format_points(parseFloat(o.projected)) +
                                                  '">' +
                                                  o.formatted +
                                                  "</span>"
                                          );
                        }
                    (ls_pace_tracker["fid_" + e] = { S: "", NS: "", IR: "", TS: "" }),
                        ls_orig_proj_when_final && 0 === r
                            ? ((ls_pace_tracker["fid_" + e].S =
                                  '<span class="ls_projected" title="Original Projection">' +
                                  format_points(a) +
                                  "</span>"),
                              t - a < 0
                                  ? $(".ogffpts_" + e + ", #ogffpts_" + e).addClass("ls_below_projected")
                                  : t - a > 0 && $(".ogffpts_" + e + ", #ogffpts_" + e).addClass("ls_above_projected"))
                            : (ls_pace_tracker["fid_" + e].S =
                                  t - a < 0
                                      ? '<span class="ls_below_projected" title="Original Projection: ' +
                                        format_points(a) +
                                        '">' +
                                        format_points(t) +
                                        "</span>"
                                      : t - a > 0
                                        ? '<span class="ls_above_projected" title="Original Projection: ' +
                                          format_points(a) +
                                          '">' +
                                          format_points(t) +
                                          "</span>"
                                        : '<span class="ls_at_projected" title="Original Projection: ' +
                                          format_points(a) +
                                          '">' +
                                          format_points(t) +
                                          "</span>"),
                        $("#ls_pace_" + e + ".ls_projections.ls_projections_S.ffpts_pace_total").html(
                            ls_pace_tracker["fid_" + e].S
                        ),
                        $(".ls_pace_box_" + e).html(ls_pace_tracker["fid_" + e].S);
                    (t = 0), (a = 0), (r = 0);
                    if (ls_rosters[e].hasOwnProperty("NS"))
                        for (s = 0; s < ls_rosters[e].NS.length; s++) {
                            (t += (o = ls_get_player_projection(ls_rosters[e].NS[s])).pace),
                                (a += o.projected),
                                o.points,
                                (r += o.game_sec_remaining),
                                ls_orig_proj_when_final && 0 === o.game_sec_remaining
                                    ? ($("#ls_pace_pts_" + ls_rosters[e].NS[s]).html(
                                          '<span class="ls_projected" title="Original Projection">' +
                                              format_points(parseFloat(o.projected)) +
                                              "</span>"
                                      ),
                                      o.pace - o.projected < 0
                                          ? $(".pfpts_" + ls_rosters[e].NS[s]).addClass("ls_below_projected")
                                          : o.pace - o.projected > 0 &&
                                            $(".pfpts_" + ls_rosters[e].NS[s]).addClass("ls_above_projected"))
                                    : o.pace - o.projected < 0
                                      ? $("#ls_pace_pts_" + ls_rosters[e].NS[s]).html(
                                            '<span class="ls_below_projected" title="Original Projection: ' +
                                                format_points(parseFloat(o.projected)) +
                                                '">' +
                                                o.formatted +
                                                "</span>"
                                        )
                                      : o.pace - o.projected > 0
                                        ? $("#ls_pace_pts_" + ls_rosters[e].NS[s]).html(
                                              '<span class="ls_above_projected" title="Original Projection: ' +
                                                  format_points(parseFloat(o.projected)) +
                                                  '">' +
                                                  o.formatted +
                                                  "</span>"
                                          )
                                        : $("#ls_pace_pts_" + ls_rosters[e].NS[s]).html(
                                              '<span class="ls_at_projected" title="Original Projection: ' +
                                                  format_points(parseFloat(o.projected)) +
                                                  '">' +
                                                  o.formatted +
                                                  "</span>"
                                          );
                        }
                    (ls_pace_tracker["fid_" + e] = { S: "", NS: "", IR: "", TS: "" }),
                        (ls_pace_tracker["fid_" + e].NS =
                            ls_orig_proj_when_final && 0 === r
                                ? '<span class="ls_projected" title="Original Projection">' +
                                  format_points(a) +
                                  "</span>"
                                : t - a < 0
                                  ? '<span class="ls_below_projected" title="Original Projection: ' +
                                    format_points(a) +
                                    '">' +
                                    format_points(t) +
                                    "</span>"
                                  : t - a > 0
                                    ? '<span class="ls_above_projected" title="Original Projection: ' +
                                      format_points(a) +
                                      '">' +
                                      format_points(t) +
                                      "</span>"
                                    : '<span class="ls_at_projected" title="Original Projection: ' +
                                      format_points(a) +
                                      '">' +
                                      format_points(t) +
                                      "</span>"),
                        $("#ls_pace_" + e + ".ls_projections.ls_projections_NS.ffpts_pace_total").html(
                            ls_pace_tracker["fid_" + e].NS
                        );
                    (t = 0), (a = 0), (r = 0);
                    if (ls_rosters[e].hasOwnProperty("IR"))
                        for (s = 0; s < ls_rosters[e].IR.length; s++) {
                            (t += (o = ls_get_player_projection(ls_rosters[e].IR[s])).pace),
                                (a += o.projected),
                                o.points,
                                (r += o.game_sec_remaining),
                                ls_orig_proj_when_final && 0 === o.game_sec_remaining
                                    ? ($("#ls_pace_pts_" + ls_rosters[e].IR[s]).html(
                                          '<span class="ls_projected" title="Original Projection">' +
                                              format_points(parseFloat(o.projected)) +
                                              "</span>"
                                      ),
                                      o.pace - o.projected < 0
                                          ? $(".pfpts_" + ls_rosters[e].IR[s]).addClass("ls_below_projected")
                                          : o.pace - o.projected > 0 &&
                                            $(".pfpts_" + ls_rosters[e].IR[s]).addClass("ls_above_projected"))
                                    : o.pace - o.projected < 0
                                      ? $("#ls_pace_pts_" + ls_rosters[e].IR[s]).html(
                                            '<span class="ls_below_projected" title="Original Projection: ' +
                                                format_points(parseFloat(o.projected)) +
                                                '">' +
                                                o.formatted +
                                                "</span>"
                                        )
                                      : o.pace - o.projected > 0
                                        ? $("#ls_pace_pts_" + ls_rosters[e].IR[s]).html(
                                              '<span class="ls_above_projected" title="Original Projection: ' +
                                                  format_points(parseFloat(o.projected)) +
                                                  '">' +
                                                  o.formatted +
                                                  "</span>"
                                          )
                                        : $("#ls_pace_pts_" + ls_rosters[e].IR[s]).html(
                                              '<span class="ls_at_projected" title="Original Projection: ' +
                                                  format_points(parseFloat(o.projected)) +
                                                  '">' +
                                                  o.formatted +
                                                  "</span>"
                                          );
                        }
                    (t = 0), (a = 0), (r = 0);
                    if (ls_rosters[e].hasOwnProperty("TS"))
                        for (s = 0; s < ls_rosters[e].TS.length; s++) {
                            var o;
                            (t += (o = ls_get_player_projection(ls_rosters[e].TS[s])).pace),
                                (a += o.projected),
                                o.points,
                                (r += o.game_sec_remaining),
                                ls_orig_proj_when_final && 0 === o.game_sec_remaining
                                    ? ($("#ls_pace_pts_" + ls_rosters[e].TS[s]).html(
                                          '<span class="ls_projected" title="Original Projection">' +
                                              format_points(parseFloat(o.projected)) +
                                              "</span>"
                                      ),
                                      o.pace - o.projected < 0
                                          ? $(".pfpts_" + ls_rosters[e].TS[s]).addClass("ls_below_projected")
                                          : o.pace - o.projected > 0 &&
                                            $(".pfpts_" + ls_rosters[e].TS[s]).addClass("ls_above_projected"))
                                    : o.pace - o.projected < 0
                                      ? $("#ls_pace_pts_" + ls_rosters[e].TS[s]).html(
                                            '<span class="ls_below_projected" title="Original Projection: ' +
                                                format_points(parseFloat(o.projected)) +
                                                '">' +
                                                o.formatted +
                                                "</span>"
                                        )
                                      : o.pace - o.projected > 0
                                        ? $("#ls_pace_pts_" + ls_rosters[e].TS[s]).html(
                                              '<span class="ls_above_projected" title="Original Projection: ' +
                                                  format_points(parseFloat(o.projected)) +
                                                  '">' +
                                                  o.formatted +
                                                  "</span>"
                                          )
                                        : $("#ls_pace_pts_" + ls_rosters[e].TS[s]).html(
                                              '<span class="ls_at_projected" title="Original Projection: ' +
                                                  format_points(parseFloat(o.projected)) +
                                                  '">' +
                                                  o.formatted +
                                                  "</span>"
                                          );
                        }
                }
        }
        function ls_parse_projections() {
            if (((ls_projections = {}), liveScoringWeek < 1)) var e = 1;
            else e = liveScoringWeek;
            for (var t = "w_" + e, a = 0; a < reportProjectedScores_ar[t].projectedScores.playerScore.length; a++)
                0 === reportProjectedScores_ar[t].projectedScores.playerScore[a].score.length
                    ? (ls_projections["pid_" + reportProjectedScores_ar[t].projectedScores.playerScore[a].id] = 0)
                    : (ls_projections["pid_" + reportProjectedScores_ar[t].projectedScores.playerScore[a].id] =
                          reportProjectedScores_ar[t].projectedScores.playerScore[a].score);
            ls_trigger_run += 14;
        }
        function ls_parse_injuries() {
            ls_injuries = [];
            for (var e = 0; e < reportInjuries_ar.injuries.injury.length; e++)
                ls_injuries["pid_" + reportInjuries_ar.injuries.injury[e].id] = {
                    code: reportInjuries_ar.injuries.injury[e].status.substr(0, 1),
                    status: reportInjuries_ar.injuries.injury[e].status,
                    details: reportInjuries_ar.injuries.injury[e].details,
                };
            ls_trigger_run += 17;
        }
        function ls_check_if_bye() {
            $(".ls_other_game_avg.current_matchup,.ls_other_game_bye.current_matchup").length
                ? ($("#ajax_ls").addClass("ls-has-bye"),
                  $("#body_ajax_ls .ls-has-bye .ls_players_table td.mobile-view:last-of-type").attr("colspan", 2),
                  $("#body_ajax_ls .ls-has-bye #LS_HomeTeamRecord").attr("colspan", 7),
                  $("#body_ajax_ls .ls-has-bye #LS_HomeTeamName").attr("colspan", 7),
                  $("#body_ajax_ls .ls-has-bye #LS_HomeScore").attr("colspan", 4),
                  $(
                      "#body_ajax_ls .ls-has-bye #LS_HomeTeamPercent,#body_ajax_ls .ls-has-bye #LS_AwayTeamPercent"
                  ).hide())
                : ($("#ajax_ls").removeClass("ls-has-bye"),
                  $("#body_ajax_ls .ls_players_table td.mobile-view:last-of-type").removeAttr("colspan"),
                  $("#body_ajax_ls #LS_HomeTeamRecord").removeAttr("colspan"),
                  $("#body_ajax_ls #LS_HomeTeamName").removeAttr("colspan"),
                  $("#body_ajax_ls #LS_HomeScore").removeAttr("colspan"),
                  $("#body_ajax_ls #LS_HomeTeamPercent,#body_ajax_ls #LS_AwayTeamPercent").show());
        }
        function ls_check_if_final() {
            isAllPlay
                ? $('#other_games .ls_other_game div[class^="oggstat"]:contains("F")')
                      .closest("td")
                      .replaceWith('<td class="ls_allplay_final"><div>(F)</div></td>')
                : $('div[id*="og_"]').each(function () {
                      (top_score = Number($(this).find('tr:first-child div[class*="ogffpts_"]').text())),
                          (bottom_score = Number($(this).find('tr:last-child div[class*="ogffpts_"]').text())),
                          2 === $(this).find('div[class^="oggstat"]:contains("F")').length ||
                          1 === $(this).filter(".ls_other_game_avg").find('div[class^="oggstat"]:contains("F")').length
                              ? ($(this).addClass("ls_box_gameover"),
                                top_score > bottom_score
                                    ? $(this)
                                          .find("tr:first-child td:last")
                                          .replaceWith(
                                              '<td class="winner_mark" style="border:none;"><div class="oggstat_9999"><i class="fa-regular fa-caret-left" aria-hidden="true"></i></div></td>'
                                          )
                                    : bottom_score > top_score
                                      ? $(this)
                                            .find("tr:last-child td:last")
                                            .replaceWith(
                                                '<td class="winner_mark" style="border:none;"><div class="oggstat_9999"><i class="fa-regular fa-caret-left" aria-hidden="true"></i></div></td>'
                                            )
                                      : bottom_score === top_score &&
                                        $(this)
                                            .find("tr:first-child td:last,tr:last-child td:last")
                                            .replaceWith('<td class="tie_mark" style="border:none;"><div>T</div></td>'))
                              : 1 ===
                                    $(this).filter(".ls_other_game_bye").find('div[class^="oggstat"]:contains("F")')
                                        .length &&
                                ($(this).addClass("ls_box_gameover"),
                                $(this)
                                    .find("tr:last-child td:last")
                                    .replaceWith(
                                        '<td class="winner_mark" style="border:none;"><div class="oggstat_9999"><i class="fa-regular fa-caret-left" aria-hidden="true"></i></div></td>'
                                    ));
                  });
        }
        function ls_format_score() {
            $(".ls_team_points span,.ls_team_points a").contents().unwrap(), $(".ls_team_points a:empty").remove();
            for (var e = $("#ffpts_away").text(), t = $("#ffpts_home").text(), a = e, r = 8; r > a.length; r--)
                e = "x" + e;
            for (a = t, r = 8; r > a.length; r--) t = "x" + t;
            var s = "";
            for (r = 0; r < e.length; r++)
                "x" === e.substr(r, 1)
                    ? (s += '<span class="blank ls_num_' + (r + 1) + '"><a></a></span>')
                    : (s += '<span class="ls_num_' + (r + 1) + '"><a>' + e.substr(r, 1) + "</a></span>");
            $("#ffpts_away").html(s), (s = "");
            for (r = 0; r < t.length; r++)
                "x" === t.substr(r, 1)
                    ? (s += '<span class="blank ls_num_' + (r + 1) + '"><a></a></span>')
                    : (s += '<span class="ls_num_' + (r + 1) + '"><a>' + t.substr(r, 1) + "</a></span>");
            $("#ffpts_home").html(s);
        }
        function ls_removeIR() {
            var e = !1,
                t = !1;
            for (var a in ($("#roster_away tr.ls_nonstarters").each(function () {
                "Injured Reserve" === $(this).find("th:first-child").text() && (e = !0),
                    "Taxi Squad" === $(this).find("th:first-child").text() && (t = !0),
                    e && !t && $(this).remove();
            }),
            (e = !1),
            (t = !1),
            $("#roster_home tr.ls_nonstarters").each(function () {
                "Injured Reserve" === $(this).find("th:first-child").text() && (e = !0),
                    "Taxi Squad" === $(this).find("th:first-child").text() && (t = !0),
                    e && !t && $(this).remove();
            }),
            ls_rosters))
                ls_rosters.hasOwnProperty(a) && (ls_rosters[a].IR = []);
        }
        function ls_removeTaxi() {
            var e = !1;
            for (var t in ($("#roster_away tr.ls_nonstarters").each(function () {
                "Taxi Squad" === $(this).find("th:first-child").text() && (e = !0), e && $(this).remove();
            }),
            (e = !1),
            $("#roster_home tr.ls_nonstarters").each(function () {
                "Taxi Squad" === $(this).find("th:first-child").text() && (e = !0), e && $(this).remove();
            }),
            ls_rosters))
                ls_rosters.hasOwnProperty(t) && (ls_rosters[t].TS = []);
        }
        function switch_game(e, t) {
            isAllPlay
                ? ((ls_global_allplay = e),
                  (ls_onSwitch = !0),
                  (ls_update_all = 1),
                  (ls_home_id = e),
                  show_game(ls_home_id),
                  update_scores())
                : ((ls_onSwitch = !0),
                  (ls_update_all = 1),
                  (ls_home_id = e),
                  show_game(ls_home_id, (ls_away_id = t)),
                  update_scores(),
                  ls_check_if_bye(),
                  $("#winprob_home:visible").length && ls_show_win_probability
                      ? $("#LS_CenterTop").html(
                            "<span class='hometeam ls-bye-hide'>% WIN HOME</span><span class='awayteam ls-bye-hide'>AWAY WIN %</span>" +
                                ls_scoreboardName
                        )
                      : $("#LS_CenterTop").html(
                            "<span class='hometeam ls-bye-hide'>HOME</span><span class='awayteam ls-bye-hide'>AWAY</span>" +
                                ls_scoreboardName
                        )),
                $("#LS_AwayTeamName,#LS_AwayTeamRecord,#LS_AwayScore").trigger("click");
        }
        function ls_after_update_scores() {
            if (
                ($("#LS_AwayTeamPercent div,#LS_HomeTeamPercent div").each(function () {
                    var e = $(this),
                        t = e.text();
                    "NaN%" === t && (e.text("50%"), (t = "50%")),
                        (number = parseFloat($(this).text())),
                        number < 50 && $(this).removeClass("greaterthan").addClass("lessthan"),
                        number > 50 && $(this).removeClass("lessthan").addClass("greaterthan"),
                        50 === number && $(this).removeClass("lessthan").addClass("greaterthan"),
                        $(this).css("width", t);
                }),
                ls_format_score(),
                ls_update_nfl_box(),
                ls_check_if_final(),
                ls_includeProjections && ls_update_projections(),
                !ls_is_live_week)
            ) {
                (ls_timeout = 0), (ls_update_all = 1);
            }
            $('.ls_projections.ls_pace_box:contains("NaN"),.ls_projections.ls_pace_box:contains("undefined")').html(
                '<i class="fa-regular fa-spinner fa-spin" style="font-size:0.875rem" title="Wait..As MFL Prepares Games Starting"></i>'
            ),
                $(
                    '.ls_projections span:contains("undefined"),.ls_projections span:contains("NaN"),.ls_game_info:contains("NaN"),.ls_game_info:contains("undefined")'
                ).html(
                    '<i class="fa-regular fa-spinner fa-spin" style="font-size:1.375rem" title="Wait..As MFL Prepares Games Starting"></i>'
                );
        }
        function ls_navbar() {
            var e = "";
            e +=
                '<div id="myNavigationHolder" style="margin-top:0.625rem"><span class="weekly-navbar"><span class="reportnavigationheader">Select Week: </span>';
            var t = startWeek,
                a = endWeek;
            if (-1 === location.href.indexOf("W="))
                if (liveScoringWeek < 1) var r = 1;
                else r = liveScoringWeek;
            else r = parseInt(location.href.substr(location.href.indexOf("W=") + 2, 2));
            for (var s = t; s <= a; s++)
                s < liveScoringWeek
                    ? (e +=
                          '<a href="#week' +
                          s +
                          '" onclick="location.href=\'' +
                          baseURLDynamic +
                          "/" +
                          year +
                          "/ajax_ls?L=" +
                          league_id +
                          "&W=" +
                          r +
                          "&W2=" +
                          s +
                          "';\"> " +
                          s +
                          " </a>")
                    : s === liveScoringWeek
                      ? (e += '<span class="currentweek"> ' + s + " </span>")
                      : (e +=
                            s <= r
                                ? '<a href="#week' +
                                  s +
                                  '" onclick="location.href=\'' +
                                  baseURLDynamic +
                                  "/" +
                                  year +
                                  "/ajax_ls?L=" +
                                  league_id +
                                  "&W=" +
                                  r +
                                  "&W2=" +
                                  s +
                                  "';\"> " +
                                  s +
                                  " </a>"
                                : '<a href="#week' + s + '" class="inactive" style="cursor:default"> ' + s + " </a>");
            (e += "</span>"),
                (e += '<span class="weekly-navbar-mobile">Select Week: '),
                (e +=
                    '<select size="1" id="ls_scoreboardWeek" onchange="location.href=\'' +
                    baseURLDynamic +
                    "/" +
                    year +
                    "/ajax_ls?L=" +
                    league_id +
                    "&W=" +
                    r +
                    "&W2='+document.getElementById('ls_scoreboardWeek').value;\">");
            for (s = t; s <= a; s++)
                s < liveScoringWeek
                    ? (e += '<option value="' + s + '">' + s + "</option>")
                    : s === liveScoringWeek
                      ? (e += '<option value="' + s + '" selected="selected">' + s + "</option>")
                      : (e +=
                            s <= r
                                ? '<option value="' + s + '">' + s + "</option>"
                                : '<option value="' + s + '" disabled="disabled">' + s + "</option>");
            (e += "</select>"),
                (e += "</span>"),
                (e += "</div>"),
                $("#ls_setting_drop").before(e),
                (ls_trigger_run += 11);
        }
        var ls_nfl_records = [];
        function ls_update_nfl_records() {
            for (var e = 1; e < liveScoringWeek; e++) {
                for (var t = reportNflSchedule_ar["w_" + e], a = 0; a < t.nflSchedule.matchup.length; a++)
                    void 0 === ls_nfl_records[t.nflSchedule.matchup[a].team[0].id] &&
                        (ls_nfl_records[t.nflSchedule.matchup[a].team[0].id] = { w: 0, l: 0, t: 0 }),
                        void 0 === ls_nfl_records[t.nflSchedule.matchup[a].team[1].id] &&
                            (ls_nfl_records[t.nflSchedule.matchup[a].team[1].id] = { w: 0, l: 0, t: 0 }),
                        parseInt(t.nflSchedule.matchup[a].team[0].score) >
                        parseInt(t.nflSchedule.matchup[a].team[1].score)
                            ? ((ls_nfl_records[t.nflSchedule.matchup[a].team[0].id].w += 1),
                              (ls_nfl_records[t.nflSchedule.matchup[a].team[1].id].l += 1))
                            : parseInt(t.nflSchedule.matchup[a].team[0].score) <
                                parseInt(t.nflSchedule.matchup[a].team[1].score)
                              ? ((ls_nfl_records[t.nflSchedule.matchup[a].team[0].id].l += 1),
                                (ls_nfl_records[t.nflSchedule.matchup[a].team[1].id].w += 1))
                              : ((ls_nfl_records[t.nflSchedule.matchup[a].team[0].id].t += 1),
                                (ls_nfl_records[t.nflSchedule.matchup[a].team[1].id].t += 1));
                t = null;
            }
            ls_trigger_run += 12;
        }
        function ls_update_nfl_schedule(e) {
            for (var t = 0; t < e.nflSchedule.matchup.length; t++)
                (ls_nfl_games[e.nflSchedule.matchup[t].team[0].id] = []),
                    (ls_nfl_games[e.nflSchedule.matchup[t].team[1].id] = []),
                    (ls_nfl_games[e.nflSchedule.matchup[t].team[0].id].time = parseInt(
                        e.nflSchedule.matchup[t].kickoff
                    )),
                    (ls_nfl_games[e.nflSchedule.matchup[t].team[0].id].pretty_time = ""),
                    (ls_nfl_games[e.nflSchedule.matchup[t].team[0].id].opp = e.nflSchedule.matchup[t].team[1].id),
                    (ls_nfl_games[e.nflSchedule.matchup[t].team[0].id].where = "away"),
                    (ls_nfl_games[e.nflSchedule.matchup[t].team[1].id].time = parseInt(
                        e.nflSchedule.matchup[t].kickoff
                    )),
                    (ls_nfl_games[e.nflSchedule.matchup[t].team[1].id].pretty_time = ""),
                    (ls_nfl_games[e.nflSchedule.matchup[t].team[1].id].opp = e.nflSchedule.matchup[t].team[0].id),
                    (ls_nfl_games[e.nflSchedule.matchup[t].team[1].id].where = "home");
        }
        function ls_update_weekly_results_allplay(e) {
            var t = "",
                a = [];
            if (((a[0] = ""), e.hasOwnProperty("weeklyResults") && e.weeklyResults.hasOwnProperty("franchise"))) {
                var r = [];
                e.weeklyResults.hasOwnProperty("id")
                    ? (r[0] = e.weeklyResults.franchise)
                    : (r = e.weeklyResults.franchise);
                for (var s = 0; s < r.length; s++)
                    if ("BYE" !== r[s].id) {
                        ls_games.push(r[s].id),
                            "" === t && (t = r[s].id),
                            "undefined" != typeof franchise_id && franchise_id === r[s].id && (t = r[s].id),
                            (ls_rosters[r[s].id] = {}),
                            (ls_rosters[r[s].id].TS = []),
                            (ls_rosters[r[s].id].IR = []),
                            0 === ls_best_lineup
                                ? ((ls_rosters[r[s].id].S = []), (ls_rosters[r[s].id].NS = []))
                                : (ls_rosters[r[s].id].R = []);
                        try {
                            for (var o = 0; o < r[s].player.length; o++) {
                                switch (r[s].player[o].status) {
                                    case "starter":
                                        0 === ls_best_lineup
                                            ? ls_rosters[r[s].id].S.push(r[s].player[o].id)
                                            : ls_rosters[r[s].id].R.push(r[s].player[o].id);
                                        break;
                                    case "nonstarter":
                                        0 === ls_best_lineup
                                            ? ls_rosters[r[s].id].NS.push(r[s].player[o].id)
                                            : ls_rosters[r[s].id].R.push(r[s].player[o].id);
                                        break;
                                    case "taxisquad":
                                        ls_rosters[r[s].id].TS.push(r[s].player[o].id);
                                        break;
                                    case "injuredreserve":
                                        ls_rosters[r[s].id].IR.push(r[s].player[o].id);
                                }
                                "" !== r[s].player[o].id &&
                                    void 0 === ls_player[r[s].player[o].id] &&
                                    (a[a.length - 1].length > 2e3 && a.push(""),
                                    (a[a.length - 1] += r[s].player[o].id + ","));
                            }
                        } catch (e) {}
                    }
            }
            "" !== a[0] &&
                a.forEach((e) => {
                    const t = `${baseURLDynamic}/${year}/export?TYPE=players&L=${league_id}&PLAYERS=${e}&DETAILS=&SINCE&JSON=1&rand=${Math.random()}`;
                    fetch(t)
                        .then((e) => {
                            if (!e.ok) throw new Error("Network response was not ok");
                            return e.json();
                        })
                        .then((e) => {
                            try {
                                for (var t = 0; t < e.players.player.length; t++)
                                    ls_player[e.players.player[t].id] = new LSPlayer(
                                        e.players.player[t].id,
                                        e.players.player[t].name,
                                        e.players.player[t].position,
                                        e.players.player[t].team,
                                        e.players.player[t].position
                                    );
                            } catch (t) {
                                ls_player[e.players.player.id] = new LSPlayer(
                                    e.players.player.id,
                                    e.players.player.name,
                                    e.players.player.position,
                                    e.players.player.team,
                                    e.players.player.position
                                );
                            }
                        })
                        .catch((e) => {
                            console.error("Error:", e);
                        });
                }),
                (ls_trigger_run += 43);
        }
        function ls_update_weekly_results(e) {
            var t = "",
                a = "",
                r = 2e3,
                s = [];
            if (((s[0] = ""), e.hasOwnProperty("weeklyResults"))) {
                if (e.weeklyResults.hasOwnProperty("matchup")) {
                    var o = [];
                    e.weeklyResults.matchup.hasOwnProperty("franchise")
                        ? (o[0] = e.weeklyResults.matchup)
                        : (o = e.weeklyResults.matchup);
                    for (var l = 0; l < o.length; l++) {
                        if (
                            (ls_games.push(o[l].franchise[0].id + "," + o[l].franchise[1].id),
                            "" === t && (t = o[l].franchise[0].id),
                            "" === a && (a = o[l].franchise[1].id),
                            "undefined" != typeof franchise_id &&
                                ((franchise_id !== o[l].franchise[0].id && franchise_id !== o[l].franchise[1].id) ||
                                    ((t = o[l].franchise[0].id), (a = o[l].franchise[1].id))),
                            "BYE" !== o[l].franchise[0].id)
                        ) {
                            (ls_rosters[o[l].franchise[0].id] = {}),
                                (ls_rosters[o[l].franchise[0].id].TS = []),
                                (ls_rosters[o[l].franchise[0].id].IR = []),
                                0 === ls_best_lineup
                                    ? ((ls_rosters[o[l].franchise[0].id].S = []),
                                      (ls_rosters[o[l].franchise[0].id].NS = []))
                                    : (ls_rosters[o[l].franchise[0].id].R = []);
                            try {
                                for (var i = 0; i < o[l].franchise[0].player.length; i++) {
                                    switch (o[l].franchise[0].player[i].status) {
                                        case "starter":
                                            0 === ls_best_lineup
                                                ? ls_rosters[o[l].franchise[0].id].S.push(
                                                      o[l].franchise[0].player[i].id
                                                  )
                                                : ls_rosters[o[l].franchise[0].id].R.push(
                                                      o[l].franchise[0].player[i].id
                                                  );
                                            break;
                                        case "nonstarter":
                                            0 === ls_best_lineup
                                                ? ls_rosters[o[l].franchise[0].id].NS.push(
                                                      o[l].franchise[0].player[i].id
                                                  )
                                                : ls_rosters[o[l].franchise[0].id].R.push(
                                                      o[l].franchise[0].player[i].id
                                                  );
                                            break;
                                        case "taxisquad":
                                            ls_rosters[o[l].franchise[0].id].TS.push(o[l].franchise[0].player[i].id);
                                            break;
                                        case "injuredreserve":
                                            ls_rosters[o[l].franchise[0].id].IR.push(o[l].franchise[0].player[i].id);
                                    }
                                    "" !== o[l].franchise[0].player[i].id &&
                                        void 0 === ls_player[o[l].franchise[0].player[i].id] &&
                                        (s[s.length - 1].length > r && s.push(""),
                                        (s[s.length - 1] += o[l].franchise[0].player[i].id + ","));
                                }
                            } catch (e) {}
                        }
                        if ("BYE" !== o[l].franchise[1].id) {
                            (ls_rosters[o[l].franchise[1].id] = {}),
                                (ls_rosters[o[l].franchise[1].id].TS = []),
                                (ls_rosters[o[l].franchise[1].id].IR = []),
                                0 === ls_best_lineup
                                    ? ((ls_rosters[o[l].franchise[1].id].S = []),
                                      (ls_rosters[o[l].franchise[1].id].NS = []))
                                    : (ls_rosters[o[l].franchise[1].id].R = []);
                            try {
                                for (i = 0; i < o[l].franchise[1].player.length; i++) {
                                    switch (o[l].franchise[1].player[i].status) {
                                        case "starter":
                                            0 === ls_best_lineup
                                                ? ls_rosters[o[l].franchise[1].id].S.push(
                                                      o[l].franchise[1].player[i].id
                                                  )
                                                : ls_rosters[o[l].franchise[1].id].R.push(
                                                      o[l].franchise[1].player[i].id
                                                  );
                                            break;
                                        case "nonstarter":
                                            0 === ls_best_lineup
                                                ? ls_rosters[o[l].franchise[1].id].NS.push(
                                                      o[l].franchise[1].player[i].id
                                                  )
                                                : ls_rosters[o[l].franchise[1].id].R.push(
                                                      o[l].franchise[1].player[i].id
                                                  );
                                            break;
                                        case "taxisquad":
                                            ls_rosters[o[l].franchise[1].id].TS.push(o[l].franchise[1].player[i].id);
                                            break;
                                        case "injuredreserve":
                                            ls_rosters[o[l].franchise[1].id].IR.push(o[l].franchise[1].player[i].id);
                                    }
                                    "" !== o[l].franchise[1].player[i].id &&
                                        void 0 === ls_player[o[l].franchise[1].player[i].id] &&
                                        (s[s.length - 1].length > r && s.push(""),
                                        (s[s.length - 1] += o[l].franchise[1].player[i].id + ","));
                                }
                            } catch (e) {}
                        }
                    }
                }
                if (e.weeklyResults.hasOwnProperty("franchise")) {
                    var n = [];
                    e.weeklyResults.hasOwnProperty("id")
                        ? (n[0] = e.weeklyResults.franchise)
                        : (n = e.weeklyResults.franchise);
                    for (l = 0; l < n.length; l++)
                        if (
                            (ls_games.push("BYE," + n[l].id),
                            "" === t && (t = "BYE"),
                            "" === a && (a = n[l].id),
                            "undefined" != typeof franchise_id &&
                                franchise_id === n[l].id &&
                                ((t = "BYE"), (a = n[l].id)),
                            "BYE" !== n[l].id)
                        ) {
                            (ls_rosters[n[l].id] = {}),
                                (ls_rosters[n[l].id].TS = []),
                                (ls_rosters[n[l].id].IR = []),
                                0 === ls_best_lineup
                                    ? ((ls_rosters[n[l].id].S = []), (ls_rosters[n[l].id].NS = []))
                                    : (ls_rosters[n[l].id].R = []);
                            try {
                                for (i = 0; i < n[l].player.length; i++) {
                                    switch (n[l].player[i].status) {
                                        case "starter":
                                            0 === ls_best_lineup
                                                ? ls_rosters[n[l].id].S.push(n[l].player[i].id)
                                                : ls_rosters[n[l].id].R.push(n[l].player[i].id);
                                            break;
                                        case "nonstarter":
                                            0 === ls_best_lineup
                                                ? ls_rosters[n[l].id].NS.push(n[l].player[i].id)
                                                : ls_rosters[n[l].id].R.push(n[l].player[i].id);
                                            break;
                                        case "taxisquad":
                                            ls_rosters[n[l].id].TS.push(n[l].player[i].id);
                                            break;
                                        case "injuredreserve":
                                            ls_rosters[n[l].id].IR.push(n[l].player[i].id);
                                    }
                                    "" !== n[l].player[i].id &&
                                        void 0 === ls_player[n[l].player[i].id] &&
                                        (s[s.length - 1].length > r && s.push(""),
                                        (s[s.length - 1] += n[l].player[i].id + ","));
                                }
                            } catch (e) {}
                        }
                }
            }
            for (var d in franchiseDatabase)
                franchiseDatabase.hasOwnProperty(d) &&
                    "fid_0000" !== d &&
                    (ls_rosters.hasOwnProperty(franchiseDatabase[d].id) ||
                        ((ls_rosters[franchiseDatabase[d].id] = {}),
                        (ls_rosters[franchiseDatabase[d].id].TS = []),
                        (ls_rosters[franchiseDatabase[d].id].IR = []),
                        0 === ls_best_lineup
                            ? ((ls_rosters[franchiseDatabase[d].id].S = []),
                              (ls_rosters[franchiseDatabase[d].id].NS = []))
                            : (ls_rosters[franchiseDatabase[d].id].R = [])));
            if ("" !== s[0])
                for (l = 0; l < s.length; l++)
                    fetch(
                        `${baseURLDynamic}/${year}/export?TYPE=players&L=${league_id}&PLAYERS=${s[l]}&DETAILS=&SINCE&JSON=1&rand=${Math.random()}`
                    )
                        .then(function (e) {
                            if (!e.ok) throw new Error("Network response was not ok");
                            return e.json();
                        })
                        .then(function (e) {
                            try {
                                for (var t = 0; t < e.players.player.length; t++)
                                    ls_player[e.players.player[t].id] = new LSPlayer(
                                        e.players.player[t].id,
                                        e.players.player[t].name,
                                        e.players.player[t].position,
                                        e.players.player[t].team,
                                        e.players.player[t].position
                                    );
                            } catch (t) {
                                ls_player[e.players.player.id] = new LSPlayer(
                                    e.players.player.id,
                                    e.players.player.name,
                                    e.players.player.position,
                                    e.players.player.team,
                                    e.players.player.position
                                );
                            }
                        })
                        .catch(function (e) {
                            console.log("Error:", e.message);
                        });
            ls_trigger_run += 43;
        }
        function ls_update_week() {
            return new Promise((e) => {
                var t = liveScoringWeek < 1 ? 1 : liveScoringWeek;
                function finishUpdate() {
                    if (!ls_is_live_week) {
                        (ls_timeout = 0), (ls_update_all = 1);
                    }
                    ls_create_nfl_box(), (ls_trigger_run += 55), e();
                }
                if (isAllPlay) {
                    ls_nfl_games = [];
                    try {
                        for (var a = 0; a < reportNflByeWeeks_ar.nflByeWeeks.team.length; a++)
                            (ls_nfl_games[reportNflByeWeeks_ar.nflByeWeeks.team[a].id] = []),
                                (ls_nfl_games[reportNflByeWeeks_ar.nflByeWeeks.team[a].id].time = 0),
                                (ls_nfl_games[reportNflByeWeeks_ar.nflByeWeeks.team[a].id].opp = "BYE");
                    } catch (e) {}
                    ls_update_nfl_schedule(reportNflSchedule_ar["w_" + t]),
                        (ls_games = []),
                        (ls_rosters = []),
                        reportWeeklyResults_ar.hasOwnProperty("w_" + t)
                            ? (ls_update_weekly_results_allplay(reportWeeklyResults_ar["w_" + t]), finishUpdate())
                            : fetch(
                                  `${baseURLDynamic}/${year}/export?TYPE=weeklyResults&L=${league_id}&W=${t}&DETAILS=1&JSON=1&rand=${Math.random()}`
                              )
                                  .then((e) => {
                                      if (!e.ok) throw new Error("Network response was not ok");
                                      return e.json();
                                  })
                                  .then((e) => {
                                      ls_update_weekly_results_allplay(e), finishUpdate();
                                  })
                                  .catch((e) => {
                                      console.error("Error fetching weeklyResults (all-play):", e), finishUpdate();
                                  });
                } else {
                    ls_nfl_games = [];
                    try {
                        for (var r = 0; r < reportNflByeWeeks_ar.nflByeWeeks.team.length; r++)
                            (ls_nfl_games[reportNflByeWeeks_ar.nflByeWeeks.team[r].id] = []),
                                (ls_nfl_games[reportNflByeWeeks_ar.nflByeWeeks.team[r].id].time = 0),
                                (ls_nfl_games[reportNflByeWeeks_ar.nflByeWeeks.team[r].id].opp = "BYE");
                    } catch (e) {}
                    ls_update_nfl_schedule(reportNflSchedule_ar["w_" + t]),
                        (ls_games = []),
                        (ls_rosters = []),
                        reportWeeklyResults_ar.hasOwnProperty(`w_${t}`)
                            ? (ls_update_weekly_results(reportWeeklyResults_ar[`w_${t}`]), finishUpdate())
                            : fetch(
                                  `${baseURLDynamic}/${year}/export?TYPE=weeklyResults&L=${league_id}&W=${t}&DETAILS=1&JSON=1&rand=${Math.random()}`
                              )
                                  .then((e) => {
                                      if (!e.ok) throw new Error("Network response was not ok");
                                      return e.json();
                                  })
                                  .then((e) => {
                                      ls_update_weekly_results(e), finishUpdate();
                                  })
                                  .catch((e) => {
                                      console.error("Error fetching weeklyResults:", e), finishUpdate();
                                  });
                }
            });
        }
        var ls_players_nfl = [],
            ls_players_roster = [];
        function ls_create_players_roster() {
            for (var e in ls_rosters)
                if (ls_rosters.hasOwnProperty(e)) {
                    try {
                        for (var t = 0; t < ls_rosters[e].S.length; t++)
                            ls_players_roster[ls_rosters[e].S[t]] = { fid: e, status: "S", title: "Starter" };
                    } catch (e) {}
                    try {
                        for (t = 0; t < ls_rosters[e].NS.length; t++)
                            ls_players_roster[ls_rosters[e].NS[t]] = { fid: e, status: "NS", title: "Non-Starter" };
                    } catch (e) {}
                    try {
                        for (t = 0; t < ls_rosters[e].IR.length; t++)
                            ls_players_roster[ls_rosters[e].IR[t]] = { fid: e, status: "IR", title: "Fantasy IR" };
                    } catch (e) {}
                    try {
                        for (t = 0; t < ls_rosters[e].TS.length; t++)
                            ls_players_roster[ls_rosters[e].TS[t]] = { fid: e, status: "TS", title: "Taxi Squad" };
                    } catch (e) {}
                    try {
                        for (t = 0; t < ls_rosters[e].R.length; t++)
                            ls_players_roster[ls_rosters[e].R[t]] = { fid: e, status: "R", title: "Reserve" };
                    } catch (e) {}
                }
            ls_trigger_run += 20;
        }
        function ls_nfl_stats_popup_setup(e) {
            void 0 === ls_players_nfl[e]
                ? ((ls_players_nfl[e] = []),
                  fetch(
                      `${baseURLDynamic}/${year}/export?TYPE=players&L=${league_id}&PLAYERS=&DETAILS=&SINCE&JSON=1&rand=${Math.random()}`
                  )
                      .then(function (e) {
                          if (e.ok) return e.json();
                          throw new Error("Network response was not OK");
                      })
                      .then(function (t) {
                          for (var a = 0; a < t.players.player.length; a++)
                              t.players.player[a].team === e &&
                                  void 0 !== ls_team_pos[t.players.player[a].position] &&
                                  (ls_players_nfl[e][t.players.player[a].id] = {
                                      name: t.players.player[a].name,
                                      position: t.players.player[a].position,
                                      isTeam: ls_team_pos[t.players.player[a].position],
                                      isDefense: ls_def_pos[t.players.player[a].position],
                                  }),
                                  void 0 === ls_player[t.players.player[a].id] &&
                                      (ls_player[t.players.player[a].id] = new LSPlayer(
                                          t.players.player[a].id,
                                          t.players.player[a].name,
                                          t.players.player[a].position,
                                          t.players.player[a].team,
                                          t.players.player[a].position
                                      ));
                          ls_nfl_stats_popup(e);
                      })
                      .catch(function (e) {
                          console.error("Error:", e);
                      }))
                : ls_nfl_stats_popup(e);
        }
        function ls_nfl_stats_popup(e) {
            var t = "";
            for (var a in ((t += '<ul class="ls-popup-position-ul">'), ls_team_pos)) {
                (t += '<li class="ls-popup-position-li">' + a + "</li>"), (t += '<ul class="ls-popup-player-ul">');
                var r = [];
                for (var s in ls_players_nfl[e])
                    if (ls_players_nfl[e].hasOwnProperty(s) && a === ls_players_nfl[e][s].position) {
                        try {
                            if (1 === ls_team_pos[a] && 1 === ls_def_pos[a]) var o = get_tstats_str(e);
                            else if (1 === ls_team_pos[a] && 1 !== ls_def_pos[a]) o = get_otstats_str(e);
                            else o = get_stats_str(s);
                        } catch (e) {
                            o = "";
                        }
                        if ("" !== o) {
                            var l = parseFloat(update_player_points(s)),
                                i =
                                    ls_players_nfl[e][s].name.substr(
                                        ls_players_nfl[e][s].name.indexOf(",") + 2,
                                        ls_players_nfl[e][s].name.length
                                    ) +
                                    " " +
                                    ls_players_nfl[e][s].name.substr(0, ls_players_nfl[e][s].name.indexOf(",")),
                                n = "",
                                d = "";
                            if (void 0 !== ls_players_roster[s])
                                switch (
                                    (ls_popup_status &&
                                        (i +=
                                            '<span class="ls-popup-status ls-popup-status-' +
                                            ls_players_roster[s].status.toLowerCase() +
                                            '" title="' +
                                            ls_players_roster[s].title +
                                            '">' +
                                            ls_players_roster[s].status +
                                            "</span>"),
                                    ls_popup_abbrev_name_icon)
                                ) {
                                    case 0:
                                        if ("" === franchiseDatabase["fid_" + ls_players_roster[s].fid].abbrev)
                                            d =
                                                '<span class="ls-popup-text">' +
                                                franchiseDatabase["fid_" + ls_players_roster[s].fid].name +
                                                "</span>";
                                        else
                                            d =
                                                '<span class="ls-popup-text" title="' +
                                                franchiseDatabase["fid_" + ls_players_roster[s].fid].name +
                                                '">' +
                                                franchiseDatabase["fid_" + ls_players_roster[s].fid].abbrev +
                                                "</span>";
                                        break;
                                    case 1:
                                        d =
                                            '<span class="ls-popup-text">' +
                                            franchiseDatabase["fid_" + ls_players_roster[s].fid].name +
                                            "</span>";
                                        break;
                                    case 2:
                                        if ("" === franchiseDatabase["fid_" + ls_players_roster[s].fid].icon)
                                            if ("" === franchiseDatabase["fid_" + ls_players_roster[s].fid].abbrev)
                                                d =
                                                    '<span class="ls-popup-text">' +
                                                    franchiseDatabase["fid_" + ls_players_roster[s].fid].name +
                                                    "</span>";
                                            else
                                                d =
                                                    '<span class="ls-popup-text" title="' +
                                                    franchiseDatabase["fid_" + ls_players_roster[s].fid].name +
                                                    '">' +
                                                    franchiseDatabase["fid_" + ls_players_roster[s].fid].abbrev +
                                                    "</span>";
                                        else
                                            n =
                                                '<span class="ls-popup-icon-wrapper"><img class="ls-popup-icon" src=' +
                                                franchiseDatabase["fid_" + ls_players_roster[s].fid].icon +
                                                ' title="' +
                                                franchiseDatabase["fid_" + ls_players_roster[s].fid].name +
                                                '" alt="" /></span>';
                                }
                            r.push({
                                points: l,
                                html:
                                    '<li class="ls-popup-player-li"><span class="ls-popup-points" style="cursor:pointer" title="Click to View Details" onclick="ls_explain_points(\'' +
                                    s +
                                    "');$('#ls-modal-container').addClass('hide-overlay')\">" +
                                    format_points(l) +
                                    "</span> " +
                                    i +
                                    n +
                                    d +
                                    ' <span class="ls-popup-stats">' +
                                    o +
                                    "</span></li>",
                            });
                        }
                    }
                r.sort(function (e, t) {
                    return t.points - e.points;
                });
                for (var c = 0; c < r.length; c++) t += r[c].html;
                t += "</ul>";
            }
            (t += "</ul>"),
                $("#ls-modal-header-content").html("Live Stats for " + e),
                $("#ls-modal-content").html(t),
                $("#ls-modal-container").attr("style", "display:block");
            const p = document.querySelector("#ls-modal-content");
            try {
                bodyScrollLock.disableBodyScroll(p);
            } catch (e) {}
            $("#ls-modal-content").scrollTop(0);
        }
        var ls_nfl_final = 0,
            ls_nfl_sched = 0;
        function ls_update_nfl_box() {
            for (var e in ls_nfl_games)
                if (ls_nfl_games.hasOwnProperty(e) && "home" === ls_nfl_games[e].where)
                    try {
                        var t = ls_nfl_games[e].opp,
                            a = "",
                            r = ls_nfl_games[e].game_status.substring(
                                ls_nfl_games[e].game_status.indexOf("<br>") + 4,
                                ls_nfl_games[e].game_status.length
                            );
                        -1 !== r.indexOf("<br>") &&
                            ((a =
                                '<div class="ls_down_dist" style="font-size:0.563rem;font-style:italic">' +
                                r.substring(r.indexOf("<br>") + 4, r.length) +
                                "</div>"),
                            (r = r.substring(0, r.indexOf("<br>"))));
                        var s = "",
                            o = "";
                        try {
                            s =
                                '<span class="ls-nfl-record" style="font-size:0.625rem;font-style:italic">(' +
                                ls_nfl_records[e].w +
                                "-" +
                                ls_nfl_records[e].l +
                                "-" +
                                ls_nfl_records[e].t +
                                ")</span>";
                        } catch (e) {}
                        try {
                            o =
                                '<span class="ls-nfl-record" style="font-size:0.625rem;font-style:italic">(' +
                                ls_nfl_records[t].w +
                                "-" +
                                ls_nfl_records[t].l +
                                "-" +
                                ls_nfl_records[t].t +
                                ")</span>";
                        } catch (e) {}
                        if (
                            (ls_tstats.hasOwnProperty(e) && void 0 !== ls_tstats[e].TPS && (s = ls_tstats[e].TPS),
                            ls_tstats.hasOwnProperty(t) && void 0 !== ls_tstats[t].TPS && (o = ls_tstats[t].TPS),
                            $(".nflgffpts_" + e).html(s),
                            $(".nflgffpts_" + t).html(o),
                            $("#ls_nfl_box_status_" + e).removeClass(
                                "ls_nfl_box_over ls_nfl_box_sched ls_nfl_box_inprog"
                            ),
                            $(".ls_box_possession_" + e).removeClass("ls_nothas_ball ls_in_redzone ls_has_ball"),
                            $(".ls_box_possession_" + t).removeClass("ls_nothas_ball ls_in_redzone ls_has_ball"),
                            0 === ls_nfl_games[e].secs_left || "Final" === r
                                ? ($("#ls_nfl_box_status_" + e).addClass("ls_nfl_box_over"),
                                  $(".ls_down_dist_" + e).html(""),
                                  $(".ls_down_dist_" + t).html(""))
                                : 3600 === ls_nfl_games[e].secs_left
                                  ? $("#ls_nfl_box_status_" + e).addClass("ls_nfl_box_sched")
                                  : ($("#ls_nfl_box_status_" + e).addClass("ls_nfl_box_inprog"),
                                    $(".ls-update-box.game_" + e).hasClass("ls_noposs") &&
                                        ($(".ls_box_possession_" + e).addClass("ls_nothas_ball"),
                                        $(".ls_down_dist_" + e).html("")),
                                    $(".ls-update-box.game_" + e).hasClass("ls_redzone") &&
                                        ($(".ls_box_possession_" + e).addClass("ls_in_redzone"),
                                        $(".ls_down_dist_" + e).html(a)),
                                    $(".ls-update-box.game_" + e).hasClass("ls_withposs") &&
                                        ($(".ls_box_possession_" + e).addClass("ls_has_ball"),
                                        $(".ls_down_dist_" + e).html(a)),
                                    $(".ls-update-box.game_" + t).hasClass("ls_noposs") &&
                                        ($(".ls_box_possession_" + t).addClass("ls_nothas_ball"),
                                        $(".ls_down_dist_" + t).html("")),
                                    $(".ls-update-box.game_" + t).hasClass("ls_redzone") &&
                                        ($(".ls_box_possession_" + t).addClass("ls_in_redzone"),
                                        $(".ls_down_dist_" + t).html(a)),
                                    $(".ls-update-box.game_" + t).hasClass("ls_withposs") &&
                                        ($(".ls_box_possession_" + t).addClass("ls_has_ball"),
                                        $(".ls_down_dist_" + t).html(a))),
                            $("#ls_nfl_box_status_" + e).html(r),
                            "Final" === r)
                        )
                            try {
                                parseInt(ls_tstats[e].TPS) > parseInt(ls_tstats[t].TPS)
                                    ? ($(".nflggstat_" + e).html(
                                          '<i class="fa-regular fa-caret-left" aria-hidden="true"></i>'
                                      ),
                                      $(".nflggstat_" + e)
                                          .parent()
                                          .addClass("winner_mark"))
                                    : parseInt(ls_tstats[t].TPS) > parseInt(ls_tstats[e].TPS) &&
                                      ($(".nflggstat_" + t).html(
                                          '<i class="fa-regular fa-caret-left" aria-hidden="true"></i>'
                                      ),
                                      $(".nflggstat_" + t)
                                          .parent()
                                          .addClass("winner_mark"));
                            } catch (e) {}
                    } catch (e) {}
            var l = "",
                i = "",
                n = "",
                d = "",
                c = 0,
                p = 0;
            if (
                ($("#nfl_games tr td div.ls_other_game").each(function () {
                    var e = $(this).attr("id").substr(5, 3),
                        t =
                            '<div id="nflg_' +
                            e +
                            '" class="ls_other_game" style="display:inline-block;margin:0 0.125rem;min-width:6.875rem;cursor:default;width:auto">' +
                            $(this).html() +
                            "</div>";
                    switch (ls_nfl_games[e].status) {
                        case "INPROG":
                            l += t;
                            break;
                        case "OVER":
                            (n += t), c++;
                            break;
                        case "SCHED":
                            (i += t), p++;
                            break;
                        default:
                            d += t;
                    }
                }),
                c > ls_nfl_final || p < ls_nfl_sched)
            ) {
                var h = "";
                (h += l),
                    (h += i),
                    (h += n),
                    (h += d),
                    $("#nfl_games tr td").html(h),
                    (ls_nfl_final = c),
                    (ls_nfl_sched = p);
            }
        }
        function ls_create_nfl_box() {
            var e = "";
            $("#hide_nfl_boxscore_cb").is(":checked")
                ? (e +=
                      '<div class="mobile-wrap ls-boxscore ls-nfl-boxscore" style="margin-top: 0.313rem;text-align:center;display:none"><div class="ls_scroller">')
                : (e +=
                      '<div class="mobile-wrap ls-boxscore ls-nfl-boxscore" style="margin-top: 0.313rem;text-align:center"><div class="ls_scroller">'),
                (e +=
                    '<table id="nfl_games" style="table-layout:fixed;font-size:0.813rem" border="0" cellpadding="0" cellspacing="2"><tbody><tr><td>');
            var t = "",
                a = "",
                r = "",
                s = "";
            for (var o in ls_nfl_games)
                if (ls_nfl_games.hasOwnProperty(o) && "home" === ls_nfl_games[o].where) {
                    var l = ls_nfl_games[o].opp,
                        i = "";
                    switch (
                        ((i +=
                            '<div id="nflg_' +
                            o +
                            '" class="ls_other_game" style="display:inline-block;margin:0 0.125rem;min-width:6.875rem;cursor:default;width:auto">'),
                        (i += '<table border="0" cellspacing="0" cellpadding="0">'),
                        (i += "<tbody>"),
                        (i +=
                            "<tr onclick=\"ls_nfl_stats_popup_setup('" +
                            l +
                            '\')" title="Live Stats for ' +
                            l +
                            '"><td style="position:relative;height:1.375rem" class="ls_og_cell ls_box_possession ls_box_possession_' +
                            l +
                            '"><img src="https://www.mflscripts.com/ImageDirectory/script-images/nflTeamsvg_2/' +
                            l +
                            '.svg" class="ls_nfl_box_icon" style="height:1.875rem;max-width:1.25rem;max-height:1.25rem;" alt="' +
                            l +
                            '" title="' +
                            l +
                            '" /><span class="ls-update-box game_' +
                            l +
                            '" style="display:none"></span></td><td style="font-size:0.563rem;font-style:italic;text-align:left" class="ls_down_dist_' +
                            l +
                            '"></td><td align="right" style="border:none;"><div class="nflgffpts nflgffpts_' +
                            l +
                            '">0</div></td><td style="border:none;"><div style="width:0.125rem" class="nflggstat nflggstat_' +
                            l +
                            '"></div></td></tr>'),
                        (i +=
                            "<tr onclick=\"ls_nfl_stats_popup_setup('" +
                            o +
                            '\')" title="Live Stats for ' +
                            o +
                            '"><td style="position:relative;height:1.375rem" class="ls_og_cell ls_box_possession ls_box_possession_' +
                            o +
                            '"><img src="https://www.mflscripts.com/ImageDirectory/script-images/nflTeamsvg_2/' +
                            o +
                            '.svg" class="ls_nfl_box_icon" style="height:1.875rem;max-width:1.25rem;max-height:1.25rem;" alt="' +
                            o +
                            '" title="' +
                            o +
                            '" /><span class="ls-update-box game_' +
                            o +
                            '" style="display:none"></span></td><td style="font-size:0.563rem;font-style:italic;text-align:left" class="ls_down_dist_' +
                            o +
                            '"></td><td align="right" style="border:none;"><div class="nflgffpts nflgffpts_' +
                            o +
                            '">0</div></td><td style="border:none;"><div style="width:0.125rem" class="nflggstat nflggstat_' +
                            o +
                            '"></div></td></tr>'),
                        (i +=
                            '<tr><td class="ls_og_cell_status" colspan="4" style="height:1rem"><span id="ls_nfl_box_status_' +
                            o +
                            '" class="ls_nfl_box_status" style="font-size:0.688rem">Gametime</span></td></tr>'),
                        (i += "</tbody>"),
                        (i += "</table>"),
                        (i += "</div>"),
                        ls_nfl_games[o].status)
                    ) {
                        case "INPROG":
                            t += i;
                            break;
                        case "OVER":
                            (r += i), ls_nfl_final++;
                            break;
                        case "SCHED":
                            (a += i), ls_nfl_sched++;
                            break;
                        default:
                            s += i;
                    }
                }
            (e += t),
                (e += a),
                (e += r),
                (e += s),
                (e += "</td></tr></tbody></table>"),
                (e += "</div>"),
                $(".settings-mobile-wrap").after(e),
                (ls_trigger_run += 8);
        }
        function ls_explain_points(e) {
            var t = "",
                a = ls_player[e].pos;
            if (ls_includeProjections)
                try {
                    var r = isNaN(ls_nfl_games[ls_player[e].nfl_team].secs_left)
                            ? 0
                            : ls_nfl_games[ls_player[e].nfl_team].secs_left,
                        s = isNaN(parseFloat(ls_projections["pid_" + e])) ? 0 : parseFloat(ls_projections["pid_" + e]);
                } catch (e) {}
            var o = 0;
            if (((ls_explain = ""), 1 === ls_team_pos[a])) {
                var l = ls_player[e].nfl_team;
                void 0 !== ls_tstats[l] && (points = score_player(l, a));
            } else 0 === ls_team_pos[a] && void 0 !== ls_stats[e] && (points = score_player(e, a));
            if (
                ((t +=
                    '<div class="ls-explain-points-wrapper" style="padding-left:2.5rem"><div class="ls-explain-points-name" style="font-size:0.875rem;margin-left:-1.25rem;padding-bottom:0.5rem;font-weight:bold">' +
                    ls_player[e].name +
                    " " +
                    ls_player[e].nfl_team +
                    " " +
                    ls_player[e].pos +
                    "</div>"),
                "" !== ls_explain)
            ) {
                t += '<ul class="ls-explain-points-ul">';
                var n = ls_explain.split("|");
                for (i = 0; i < n.length; i++)
                    if ("" !== n[i]) {
                        var d = n[i].split(",");
                        try {
                            o += parseFloat(d[2]);
                        } catch (e) {}
                        (t += '<li class="ls-explain-points-li">' + d[2] + " points for " + d[1] + " "),
                            void 0 !== ls_cat_desc[d[0]] ? (t += ls_cat_desc[d[0]]) : (t += d[0]),
                            (t += "</li>");
                    }
                (t += "</ul>"),
                    (t +=
                        '<div class="ls-explain-points-total" style="font-size:1rem;margin-left:-1.25rem;padding-top:0.5rem;font-weight:bold">' +
                        format_points(o) +
                        "</div>");
            } else t += '<div class="ls-explain-no-stats">No stats</div>';
            if (ls_includeProjections) {
                var c = o + (r / 3600) * s;
                $('input[name="hide_projections"]').is(":checked")
                    ? (t += '<div class="ls_projections" style="display:none">')
                    : (t += '<div class="ls_projections">'),
                    (t += '<hr style="margin:0.625rem 0.313rem 0.625rem -2.25rem;border-color:#555">'),
                    3600 === r
                        ? (t +=
                              '<div class="ls-explain-points-orig-proj" style="font-size:0.75rem;margin-left:-1.25rem;padding-top:0.25rem;font-weight:bold"><span style="display:inline-block;min-width:5.625rem;text-align:right">Original Proj :</span><span style="display:inline-block;text-align:right;min-width:2.75rem">' +
                              format_points(s) +
                              "</span></div>")
                        : 0 === r
                          ? ((t +=
                                '<div class="ls-explain-points-orig-proj" style="font-size:0.75rem;margin-left:-1.25rem;padding-top:0.25rem;font-weight:bold"><span style="display:inline-block;min-width:5.625rem;text-align:right">Original Proj :</span><span style="display:inline-block;text-align:right;min-width:2.75rem">' +
                                format_points(s) +
                                "</span></div>"),
                            (t +=
                                o - s < 0
                                    ? '<div class="ls-explain-points-diff" style="font-size:0.75rem;margin-left:-1.25rem;padding-top:0.25rem;font-weight:bold"><span style="display:inline-block;min-width:5.625rem;text-align:right">Difference :</span><span class="ls_below_projected" style="display:inline-block;text-align:right;min-width:2.75rem">' +
                                      format_points(o - s) +
                                      "</span></div>"
                                    : '<div class="ls-explain-points-diff" style="font-size:0.75rem;margin-left:-1.25rem;padding-top:0.25rem;font-weight:bold"><span style="display:inline-block;min-width:5.625rem;text-align:right">Difference :</span><span class="ls_above_projected" style="display:inline-block;text-align:right;min-width:2.75rem">+' +
                                      format_points(o - s) +
                                      "</span></div>"))
                          : ((t +=
                                '<div class="ls-explain-points-orig-proj" style="font-size:0.75rem;margin-left:-1.25rem;padding-top:0.25rem;font-weight:bold"><span style="display:inline-block;min-width:5.625rem;text-align:right">Original Proj :</span><span style="display:inline-block;text-align:right;min-width:2.75rem">' +
                                format_points(s) +
                                "</span></div>"),
                            (t +=
                                '<div class="ls-explain-points-pace" style="font-size:0.75rem;margin-left:-1.25rem;padding-top:0.25rem;font-weight:bold"><span style="display:inline-block;min-width:5.625rem;text-align:right">Pace Points :</span><span style="display:inline-block;text-align:right;min-width:2.75rem">' +
                                format_points(c) +
                                "</span></div>"),
                            (t +=
                                c - s < 0
                                    ? '<div class="ls-explain-points-diff" style="font-size:0.75rem;margin-left:-1.25rem;padding-top:0.25rem;font-weight:bold"><span style="display:inline-block;min-width:5.625rem;text-align:right">Difference :</span><span class="ls_below_projected" style="display:inline-block;text-align:right;min-width:2.75rem">' +
                                      format_points(c - s) +
                                      "</span></div>"
                                    : '<div class="ls-explain-points-diff" style="font-size:0.75rem;margin-left:-1.25rem;padding-top:0.25rem;font-weight:bold"><span style="display:inline-block;min-width:5.625rem;text-align:right">Difference :</span><span class="ls_above_projected" style="display:inline-block;text-align:right;min-width:2.75rem">+' +
                                      format_points(c - s) +
                                      "</span></div>")),
                    (t += "</div>");
            }
            (t += "</div>"),
                $("#ls-modal-container-2 #ls-modal-header-content").html("Points Breakdown"),
                $("#ls-modal-container-2 #ls-modal-content").html(t),
                $("#ls-modal-container-2").attr("style", "display:block");
            const p = document.querySelector("#ls-modal-content");
            try {
                bodyScrollLock.disableBodyScroll(p);
            } catch (e) {}
            $("#ls-modal-container-2 #ls-modal-content").scrollTop(0);
        }
        async function triggerLiveScoring() {
            (triggerLiveScoring_ran = !0),
                ls_includeInjuryStatus && ls_parse_injuries(),
                ls_includeProjections && ls_parse_projections(),
                ls_is_live_week
                    ? (ls_update_nfl_records(),
                      ls_excludeIR && ls_removeIR(),
                      ls_excludeTaxi && ls_removeTaxi(),
                      ls_create_nfl_box())
                    : await ls_update_week(),
                setTimeout("clear_highlights()", 500),
                ls_create_players_roster(),
                (ls_trigger_run +=
                    ls_includeInjuryStatus || ls_includeProjections
                        ? ls_includeInjuryStatus
                            ? ls_includeProjections
                                ? 18
                                : 32
                            : 35
                        : 49);
        }
        function liveScoringListenerCheck() {
            largeLeagueSB
                ? (triggerLiveScoring_count++,
                  "undefined" != typeof reportDailyFullyLoaded &&
                      reportFiveMinuteFullyLoaded &&
                      reportDailyFullyLoaded &&
                      (clearInterval(liveScoringListener), triggerLiveScoring_ran || triggerLiveScoring()),
                  triggerLiveScoring_count > 50 &&
                      (clearInterval(liveScoringListener),
                      (listenerCleared = !0),
                      $(".ls_loading_message")
                          .removeClass("ls_loading_message")
                          .addClass("ls_loading_message_offseason"),
                      $(".ls_loading_message_offseason").replaceWith(
                          '<h3 id="ls_error" class="warning h3-menu" style="max-width:31.25rem"><span style="font-size:1.75rem;display:block;text-align:center">Live Scoring has failed to load.</span><br><span style="font-size:1.25rem;display:block;text-align:center">There are 2 different reasons why this has happened.</span><br><span style="font-size:0.875rem;display:block;text-align:left">1. You have accessed this page during the offseason. MFL does not display Live Scores after the season has ended or up to 24 hours before kickoff of week 1 games.</span><br><span style="font-size:0.875rem;display:block;text-align:left">2. The scoring has failed to load for some other reason. Please contact your commissioner or see the MFL support thread located <a href="http://forums.myfantasyleague.com/forums/index.php?showtopic=38170" target="_blank">HERE</a></span></h3>'
                      ),
                      clearInterval(errorMsgCk, errorClassCk, listenerCk)))
                : (triggerLiveScoring_count++,
                  "undefined" != typeof reportDailyFullyLoaded &&
                      reportFiveMinuteFullyLoaded &&
                      reportDailyFullyLoaded &&
                      (clearInterval(liveScoringListener), triggerLiveScoring_ran || triggerLiveScoring()),
                  triggerLiveScoring_count > 200 &&
                      (clearInterval(liveScoringListener),
                      (listenerCleared = !0),
                      $(".ls_loading_message")
                          .removeClass("ls_loading_message")
                          .addClass("ls_loading_message_offseason"),
                      $(".ls_loading_message_offseason").replaceWith(
                          '<h3 id="ls_error" class="warning h3-menu" style="max-width:31.25rem"><span style="font-size:1.75rem;display:block;text-align:center">Live Scoring has failed to load.</span><br><span style="font-size:1.25rem;display:block;text-align:center">There are 2 different reasons why this has happened.</span><br><span style="font-size:0.875rem;display:block;text-align:left">1. You have accessed this page during the offseason. MFL does not display Live Scores after the season has ended or up to 24 hours before kickoff of week 1 games.</span><br><span style="font-size:0.875rem;display:block;text-align:left">2. The scoring has failed to load for some other reason. Please contact your commissioner or see the MFL support thread located <a href="http://forums.myfantasyleague.com/forums/index.php?showtopic=38170" target="_blank">HERE</a></span></h3>'
                      ),
                      clearInterval(errorMsgCk, errorClassCk, listenerCk)));
        }
        function ls_setup_html() {
            isAllPlay
                ? ($("h4:first").remove(),
                  $("#other_games").wrap('<div class="mobile-wrap ls-boxscore"></div>'),
                  $(".ls-boxscore #other_games").wrap('<div class="ls_scroller"></div>'),
                  $("table").has("div.ls-boxscore").addClass("ls-outer-table"),
                  $(".ls-outer-table").css("margin-top", "0.313rem"),
                  $('td.mobile-view[valign="middle"]').removeClass().addClass("td-boxscore").unwrap().wrap("<tr></tr>"),
                  $("td.mobile-view").wrap('</tr><tr class="ls_players_table"></tr>'),
                  $("td.mobile-view").wrapInner('<div class="mobile-wrap ls-matchup"></div>'),
                  $("p").wrapAll('<div class="mobile-wrap ls-btm-table"></div>'),
                  $("div.mobile-wrap > table.ls-outer-table").unwrap(),
                  $('.ls_marquee_label:contains("Playing")').addClass("playing").text("P"),
                  $('.ls_marquee_label:contains("Yet"):contains("to"):contains("Play")').addClass("ytp").text("YTP"),
                  $('.ls_marquee_label:contains("Minutes"):contains("Remaining")').addClass("pmr").text("PMR"))
                : ($("h4:first").remove(),
                  $("#other_games").wrap('<div class="mobile-wrap ls-boxscore"></div>'),
                  $(".ls-boxscore #other_games").wrap('<div class="ls_scroller"></div>'),
                  $("table").has("div.ls-boxscore").addClass("ls-outer-table"),
                  $(".ls-outer-table").css("margin-top", "0.313rem"),
                  $("td.mobile-view").wrapInner('<div class="mobile-wrap ls-matchup"></div>'),
                  $("td").has("div.ls-boxscore").css({ padding: "0", "text-align": "center" }),
                  $("div.mobile-wrap:first table:first").unwrap(),
                  $("p").wrapAll('<div class="mobile-wrap ls-btm-table"></div>'),
                  $("div.mobile-wrap > table.ls-outer-table").unwrap(),
                  $('.ls_marquee_label:contains("Playing")').addClass("playing").text("P"),
                  $('.ls_marquee_label:contains("Yet"):contains("to"):contains("Play")').addClass("ytp").text("YTP"),
                  $('.ls_marquee_label:contains("Minutes"):contains("Remaining")').addClass("pmr").text("PMR")),
                "1" === localStorage["ls_includeNFLBox_" + league_id]
                    ? $("#hide_ticker_cb")
                          .parent()
                          .append(
                              ' | <input type="checkbox" name="hide_nfl_boxscore" checked="checked" id="hide_nfl_boxscore_cb" onclick="ls_hide_nfl_boxscore(this)"> Hide NFL'
                          )
                    : $("#hide_ticker_cb")
                          .parent()
                          .append(
                              ' | <input type="checkbox" name="hide_nfl_boxscore" id="hide_nfl_boxscore_cb" onclick="ls_hide_nfl_boxscore(this)"> Hide NFL'
                          ),
                ls_includeProjections &&
                    ("1" === localStorage["ls_includeProjections_" + league_id]
                        ? $("#hide_ticker_cb")
                              .parent()
                              .append(
                                  ' | <input type="checkbox" name="hide_projections" checked="checked" id="hide_projections_cb" onclick="ls_hide_projections(this)"> Hide Pace'
                              )
                        : $("#hide_ticker_cb")
                              .parent()
                              .append(
                                  ' | <input type="checkbox" name="hide_projections" id="hide_projections_cb" onclick="ls_hide_projections(this)"> Hide Pace'
                              )),
                $(
                    '<div id="ls_setting_drop"><div class="settings-mobile-wrap"><div class="ls_setting_container"><span class="ls_toggle_settings" style="cursor:pointer;font-size:1rem;padding-left:0.313rem;width:100%;display:block;"><i class="fa-regular fa-gears" aria-hidden="true"></i> Settings</span><div class="ls_append_input" style="display:none;margin-left:0.313rem"></div></div></div></div>'
                ).insertBefore(".ls-outer-table"),
                $("input#hide_nonstarters_cb")
                    .wrap('<div class="hide_bench"></div>')
                    .after('<label for="hide_nonstarters_cb">Bench</label>'),
                $("input#hide_game_info_cb")
                    .wrap('<div class="hide_bench"></div>')
                    .after('<label for="hide_game_info_cb">Games</label>'),
                $("input#hide_stats_cb")
                    .wrap('<div class="hide_bench"></div>')
                    .after('<label for="hide_stats_cb">Stats</label>'),
                $("input#hide_ticker_cb")
                    .wrap('<div class="hide_bench"></div>')
                    .after('<label for="hide_ticker_cb">Ticker</label>'),
                $("input#hide_nfl_boxscore_cb")
                    .wrap('<div class="hide_bench" id="ls_nfl_boxscore_wrapper"></div>')
                    .after('<label for="hide_nfl_boxscore_cb">NFL</label>'),
                ls_includeProjections &&
                    $("input#hide_projections_cb")
                        .wrap('<div class="hide_bench" id="ls_pace_wrapper"></div>')
                        .after('<label for="hide_projections_cb">Pace</label>'),
                $(".hide_bench").appendTo(".ls_append_input"),
                $("#ls_setting_drop .ls_toggle_settings").on("click", function () {
                    $(".ls_append_input").slideToggle("500");
                }),
                $('input[name="hide_stats"]').on("click", function () {
                    $("#roster_away td, #roster_home td").toggleClass("td-pad");
                }),
                $(
                    '<div id="ls_mfl_notes"><div class="ls_update_msg" style="display:inline;text-align:center">Data last updated on: </div> , stats will update roughly every 40 seconds while games are in progress.<br>Stats are unofficial and subject to change. Official results can be viewed on <a href="' +
                        baseURLDynamic +
                        "/" +
                        year +
                        "/options?L=" +
                        league_id +
                        '&O=22" target="_blank">Weekly Results</a></div>'
                ).insertAfter("#ls_ticker_tab_id"),
                ls_orig_proj_when_final &&
                    $("#ls_mfl_notes").append(
                        '<br><span class="ls_projections ls_pace_legend"><span class="ls_pace_legend_title" style="padding:0 0.188rem">Pace Legend:</span><span class="ls_above_projected" style="padding:0 0.188rem">Above Projected</span><span class="ls_below_projected" style="padding:0 0.188rem">Below Projected</span><span class="ls_at_projected" style="padding:0 0.188rem">At Projected</span><span class="ls_projected" style="padding:0 0.188rem">Original Projection</span></span>'
                    ),
                $("#last_update").appendTo(".ls_update_msg"),
                $("div.ls-btm-table").remove(),
                $("tr").has(".ls-matchup").addClass("ls_players_table"),
                isAllPlay
                    ? $(
                          '<tr><td id="LS_TopTableHolder"><div class="mobile-wrap"><table class="LS_MainScoreboard" style="table-layout:fixed"><tbody><tr><td colspan="2" rowspan="2" id="LS_CenterTop">Live Scoring</td><td colspan="3" id="LS_HomeTeamName"></td></tr><tr><td colspan="3" id="LS_HomeTeamRecord">0-0-0</td></tr><tr><td colspan="2" rowspan="2" id="LS_HomeScore"></td><td class="LS_ScoreboardTitle" title="Player Minutes Remaining">PMR</td><td class="LS_ScoreboardTitle" title="Players Yet to Play">YTP</td><td class="LS_ScoreboardTitle" title="Players Currently Playing">P</td></tr><tr><td id="LS_HomePMR" class="prmin" title="Player Minutes Remaining"></td><td id="LS_HomeYTP" class="prmin" title="Players Yet to Play"></td><td id="LS_HomePlayers" class="prmin" title="Players Currently Playing"></td></tr></tbody></table></div></td></tr>'
                      ).insertBefore(".ls_players_table")
                    : $("#winprob_home").length && ls_show_win_probability && liveScoringWeek >= real_ls_week
                      ? $(
                            '<tr><td id="LS_TopTableHolder" colspan="2"><div class="mobile-wrap"><table class="LS_MainScoreboard" style="table-layout:fixed"><tbody><tr><td id="LS_AwayTeamName" class="ls-bye-hide"></td><td colspan="6" rowspan="3" id="LS_CenterTop" class="ls-bye-hide"><span class="hometeam ls-bye-hide">% WIN HOME</span><span class="awayteam ls-bye-hide">AWAY WIN %</span></td><td id="LS_HomeTeamName"></td></tr><tr><td id="LS_AwayTeamRecord" class="ls-bye-hide">0-0-0</td><td id="LS_HomeTeamRecord">0-0-0</td></tr><tr id="TeamWinPctRow"><td id="LS_AwayTeamPercent" class="ls-bye-hide"><span class="wp_bar" style="position:relative;display:block"><span style="display:inline-block;margin-left:0.313rem"></span>0%</span></td><td id="LS_HomeTeamPercent"><span class="wp_bar" style="position:relative;display:block"><span style="display:inline-block;margin-left:0.313rem"></span>0%</div></span></td></tr><tr><td rowspan="2" id="LS_AwayScore" class="ls-bye-hide"></td><td class="LS_ScoreboardTitle ls-bye-hide" title="Players Currently Playing">P</td><td class="LS_ScoreboardTitle ls-bye-hide" title="Players Yet to Play">YTP</td><td class="LS_ScoreboardTitle ls-bye-hide" title="Player Minutes Remaining">PMR</td><td class="LS_ScoreboardTitle" title="Player Minutes Remaining">PMR</td><td class="LS_ScoreboardTitle" title="Players Yet to Play">YTP</td><td class="LS_ScoreboardTitle" title="Players Currently Playing">P</td><td rowspan="2" id="LS_HomeScore"></td></tr><tr><td id="LS_AwayPlayers" class="prmin ls-bye-hide" title="Players Currently Playing"></td><td id="LS_AwayYTP" class="prmin ls-bye-hide" title="Players Yet to Play"></td><td id="LS_AwayPMR" class="prmin ls-bye-hide" title="Player Minutes Remaining"></td><td id="LS_HomePMR" class="prmin" title="Player Minutes Remaining"></td><td id="LS_HomeYTP" class="prmin" title="Players Yet to Play"></td><td id="LS_HomePlayers" class="prmin" title="Players Currently Playing"></td></tr></tbody></table></div></td></tr>'
                        ).insertBefore(".ls_players_table")
                      : $(
                            '<tr><td id="LS_TopTableHolder" colspan="2"><div class="mobile-wrap"><table class="LS_MainScoreboard" style="table-layout:fixed"><tbody><tr><td id="LS_AwayTeamName" class="ls-bye-hide"></td><td colspan="6" rowspan="2" id="LS_CenterTop" class="ls-bye-hide"><span class="hometeam ls-bye-hide">HOME</span><span class="awayteam ls-bye-hide">AWAY</span></td><td id="LS_HomeTeamName"></td></tr><tr><td id="LS_AwayTeamRecord" class="ls-bye-hide">0-0-0</td><td id="LS_HomeTeamRecord">0-0-0</td></tr><tr><td rowspan="2" id="LS_AwayScore" class="ls-bye-hide"></td><td class="LS_ScoreboardTitle ls-bye-hide" title="Players Currently Playing">P</td><td class="LS_ScoreboardTitle ls-bye-hide" title="Players Yet to Play">YTP</td><td class="LS_ScoreboardTitle ls-bye-hide" title="Player Minutes Remaining">PMR</td><td class="LS_ScoreboardTitle" title="Player Minutes Remaining">PMR</td><td class="LS_ScoreboardTitle" title="Players Yet to Play">YTP</td><td class="LS_ScoreboardTitle" title="Players Currently Playing">P</td><td rowspan="2" id="LS_HomeScore"></td></tr><tr><td id="LS_AwayPlayers" class="prmin ls-bye-hide" title="Players Currently Playing"></td><td id="LS_AwayYTP" class="prmin ls-bye-hide" title="Players Yet to Play"></td><td id="LS_AwayPMR" class="prmin ls-bye-hide" title="Player Minutes Remaining"></td><td id="LS_HomePMR" class="prmin" title="Player Minutes Remaining"></td><td id="LS_HomeYTP" class="prmin" title="Players Yet to Play"></td><td id="LS_HomePlayers" class="prmin" title="Players Currently Playing"></td></tr></tbody></table></div></td></tr>'
                        ).insertBefore(".ls_players_table"),
                isAllPlay
                    ? ($("#LS_TopTableHolder #LS_HomeTeamName").append($("#ficon_home")),
                      $("#LS_TopTableHolder #LS_HomeTeamName").append($("#fname_home")),
                      $("#LS_TopTableHolder #LS_HomeScore").append($("#ffpts_home")),
                      $("#LS_TopTableHolder #LS_HomePlayers").append($("#playing_home")),
                      $("#LS_TopTableHolder #LS_HomeYTP").append($("#ytp_home")),
                      $("#LS_TopTableHolder #LS_HomePMR").append($("#pmr_home")),
                      ls_scoreboardName && $("#LS_CenterTop").html(ls_scoreboardName),
                      $("#LS_HomeTeamRecord:empty") &&
                          ($("#LS_HomeTeamRecord").closest("tr").remove(), $("#LS_CenterTop").attr("rowspan", "1")))
                    : ($("#LS_TopTableHolder #LS_AwayTeamName").append($("#ficon_away")),
                      $("#LS_TopTableHolder #LS_HomeTeamName").append($("#ficon_home")),
                      $("#LS_TopTableHolder #LS_AwayTeamName").append($("#fname_away")),
                      $("#LS_TopTableHolder #LS_HomeTeamName").append($("#fname_home")),
                      $("#LS_TopTableHolder #LS_AwayScore").append($("#ffpts_away")),
                      $("#LS_TopTableHolder #LS_HomeScore").append($("#ffpts_home")),
                      $("#LS_TopTableHolder #LS_AwayPlayers").append($("#playing_away")),
                      $("#LS_TopTableHolder #LS_HomePlayers").append($("#playing_home")),
                      $("#LS_TopTableHolder #LS_AwayYTP").append($("#ytp_away")),
                      $("#LS_TopTableHolder #LS_HomeYTP").append($("#ytp_home")),
                      $("#LS_TopTableHolder #LS_AwayPMR").append($("#pmr_away")),
                      $("#LS_TopTableHolder #LS_HomePMR").append($("#pmr_home")),
                      $("#LS_AwayTeamName,#LS_AwayTeamRecord,#LS_AwayScore").on("click", function () {
                          $(".ls_players_table td.mobile-view:last-of-type").css("display", "none"),
                              $(".ls_players_table td.mobile-view:first-of-type").css("display", "table-cell"),
                              $("#LS_AwayTeamName div").css("opacity", "1"),
                              $("#LS_HomeTeamName div").css("opacity", ".3");
                      }),
                      $("#LS_HomeTeamName,#LS_HomeTeamRecord,#LS_HomeScore").on("click", function () {
                          $(".ls_players_table td.mobile-view:first-of-type").css("display", "none"),
                              $(".ls_players_table td.mobile-view:last-of-type").css("display", "table-cell"),
                              $("#LS_HomeTeamName div").css("opacity", "1"),
                              $("#LS_AwayTeamName div").css("opacity", ".3");
                      }),
                      ls_scoreboardName &&
                          $("#LS_CenterTop").html(
                              "<span class='hometeam ls-bye-hide'>HOME</span><span class='awayteam ls-bye-hide'>AWAY</span>" +
                                  ls_scoreboardName
                          )),
                ls_show_win_probability &&
                    ($("#LS_TopTableHolder #LS_AwayTeamPercent span").html($("#winprob_away")),
                    $("#LS_TopTableHolder #LS_HomeTeamPercent span").html($("#winprob_home"))),
                showTeamName || $("#fname_away,#fname_home").css("display", "none"),
                showTeamIcon || $("#ficon_away,#ficon_home").css("display", "none"),
                $("body").append(
                    '<div id="ls-modal-container" class="ls-modal"><div class="ls-modal-content"><div class="ls-modal-header"><span class="close" onclick="$(\'#ls-modal-container\').removeAttr(\'style\');const scorespop = document.querySelector(\'#ls-modal-content\');try{bodyScrollLock.enableBodyScroll(scorespop);}catch(er){}">X</span><h2 id="ls-modal-header-content"></h2></div><div class="ls-modal-body"><p id="ls-modal-content"></p></div></div></div><div id="ls-modal-container-2" class="ls-modal"><div class="ls-modal-content"><div class="ls-modal-header"><span class="close" onclick="if($(\'.hide-overlay\').is(\':visible\')){}else{const scorespop = document.querySelector(\'#ls-modal-content\');try {bodyScrollLock.enableBodyScroll(scorespop);} catch(er) {};};$(\'#ls-modal-container-2\').removeAttr(\'style\');$(\'#ls-modal-container\').removeClass(\'hide-overlay\')">X</span><h2 id="ls-modal-header-content"></h2></div><div class="ls-modal-body"><p id="ls-modal-content"></p></div></div></div>'
                ),
                $("#ls-modal-container").on("click", function () {
                    $("#ls-modal-container").css("display", "none");
                    const e = document.querySelector("#ls-modal-content");
                    try {
                        bodyScrollLock.enableBodyScroll(e);
                    } catch (e) {}
                }),
                $("#ls-modal-container-2").on("click", function () {
                    if ($(".hide-overlay").is(":visible"));
                    else {
                        const e = document.querySelector("#ls-modal-content");
                        try {
                            bodyScrollLock.enableBodyScroll(e);
                        } catch (e) {}
                    }
                    $("#ls-modal-container-2").css("display", "none"),
                        $("#ls-modal-container").removeClass("hide-overlay");
                }),
                $(".ls-modal-content").on("click", function (e) {
                    e.stopPropagation();
                }),
                (ls_trigger_run += 21);
        }
        function ls_wp_calc_one_team_check(e, t) {
            var a = [];
            if (0 == ls_fran_totals[e].pmr) {
                for (var r in ls_rosters[e].S) {
                    var s = ls_rosters[e].S[r];
                    if (ls_player[s])
                        (null == (t = ls_player[s].points) || isNaN(t)) && (t = 0),
                            update_field_by_class("ls_projs_" + s, format_points(t), 1);
                }
                for (r = 0; r < ls_wp_simulations; r++) a[r] = ls_fran_totals[e].total;
            } else a = ls_wp_calc_one_team(e, t);
            return a;
        }
        function update_scores() {
            var e = 0;
            for (var t in ls_nfl_games) update_game_status(t);
            for (var a in ls_player) update_player_points(a);
            var r = 0,
                s = 0;
            for (var o in ls_fran_totals) {
                var l,
                    i,
                    n = 0;
                if (
                    ((ls_fran_totals[o].pmr = 0),
                    (ls_fran_totals[o].playing = 0),
                    (ls_fran_totals[o].ytp = 0),
                    (ls_fran_totals[o].fin = ""),
                    ls_showing.away == o
                        ? ((l = ls_rkeys), (n = 1), (i = "away"))
                        : ls_showing.home == o
                          ? ((l = ls_rkeys), (n = 1), (i = "home"))
                          : (l = ls_addns > 0 ? ["S", "NS"] : ["S"]),
                    ls_best_lineup)
                ) {
                    var d = ls_fran_totals[o].best_lineup;
                    get_best_lineup(o), ls_fran_totals[o].best_lineup != d && n && build_one_team(i, o);
                }
                for (var c in ((ls_fran_totals[o].old_total = ls_fran_totals[o].total), l)) {
                    var p = l[c],
                        h = 0;
                    for (var _ in ls_rosters[o][p]) {
                        a = ls_rosters[o][p][_];
                        if (ls_player[a]) {
                            var m = ls_player[a].pos,
                                y = ls_player[a].nfl_team;
                            /^FA/.test(y) ||
                                ("INPROG" == ls_nfl_games[y].status || "OVER" == ls_nfl_games[y].status
                                    ? ((h += ls_player[a].points),
                                      1 == n &&
                                          (update_field_by_class("pfpts_" + a, format_points(ls_player[a].points), 1),
                                          1 == ls_team_pos[m] && 1 == ls_def_pos[m]
                                              ? (ls_player[a].stats_str = get_tstats_str(y))
                                              : 1 == ls_team_pos[m] && 1 != ls_def_pos[m]
                                                ? (ls_player[a].stats_str = get_otstats_str(y))
                                                : (ls_player[a].stats_str = get_stats_str(a)),
                                          null != ls_player[a].stats_str &&
                                              update_field_by_class("stats_" + a, ls_player[a].stats_str, 1)),
                                      "S" == p &&
                                          "INPROG" == ls_nfl_games[y].status &&
                                          ((ls_fran_totals[o].playing += 1),
                                          (ls_fran_totals[o].pmr += ls_nfl_games[y].secs_left)))
                                    : "SCHED" == ls_nfl_games[y].status &&
                                      "S" == p &&
                                      ((ls_fran_totals[o].ytp += 1), (ls_fran_totals[o].pmr += 3600)));
                        }
                    }
                    "S" == p ? (ls_fran_totals[o].total = h) : "NS" == p && (ls_fran_totals[o].nstotal = h);
                }
                if (ls_addns > 0) {
                    var u = ls_fran_totals[o].nstotal * ls_addns;
                    null == ls_adjust[o]
                        ? (ls_adjust[o] = { label: "Non-starter adjustment", value: u })
                        : (ls_adjust[o].value = u);
                }
                null != ls_adjust[o] && (ls_fran_totals[o].total += ls_adjust[o].value),
                    null != ls_hfa[o] && (ls_fran_totals[o].total += ls_hfa[o]),
                    ls_vert_og && ls_fran_totals[o].total != ls_fran_totals[o].old_total && (e = 1),
                    null != ls_rosters[o].H &&
                        ((ls_fran_totals[o].ytp += ls_rosters[o].H), (ls_fran_totals[o].pmr += 3600 * ls_rosters[o].H)),
                    ls_best_lineup || 0 != ls_fran_totals[o].pmr || 0 != ls_fran_totals[o].playing
                        ? ls_vert_og && (ls_fran_totals[o].fin = "&nbsp;&nbsp;&nbsp;&nbsp;")
                        : (ls_fran_totals[o].fin = ls_vert_og ? "&nbsp;(F)" : "F"),
                    n &&
                        (update_field("ffpts_" + i, format_points(ls_fran_totals[o].total), 1),
                        update_field("fspts_" + o, format_points(ls_fran_totals[o].total), 1),
                        update_field("frpts_" + o, format_points(ls_fran_totals[o].nstotal), 1),
                        update_field("playing_" + i, ls_fran_totals[o].playing, 1),
                        update_field("ytp_" + i, ls_fran_totals[o].ytp, 1),
                        update_field("pmr_" + i, format_time_rem(ls_fran_totals[o].pmr), 1));
            }
            for (var o in (e && build_other_games(), ls_fran_totals)) {
                var f = ls_fran_totals[o].fin + "&nbsp;";
                update_field_by_class("oggstat_" + o, f, 1),
                    update_field_by_class("ogffpts_" + o, format_points(ls_fran_totals[o].total), 1),
                    (r += ls_fran_totals[o].total),
                    s++;
            }
            if (ls_do_avg && s > 0) {
                var b = format_points(r / s);
                update_field_by_class("ogffpts_avg", b, 1), ls_avg_field && update_field(ls_avg_field, b);
            }
            1 != ls_show_win_prob || ls_should_hide_wp || ls_wp_calc(),
                (ls_update_all = 0),
                setTimeout(clear_highlights, 1e4),
                ls_onSwitch &&
                    (ls_after_update_scores(),
                    setTimeout(function () {
                        ls_after_update_scores();
                    }, 100));
        }
        function init_marquee(e, t) {
            var a = "fid_" + t,
                r = "";
            "BYE" === t || "AVG" === t
                ? ("BYE" == t
                      ? (load_elem("fname_" + e, "BYE"), update_field("ffpts_" + e, "&nbsp;"))
                      : (load_elem("fname_" + e, "Average"),
                        (ls_avg_field = "ffpts_" + e),
                        (ls_do_avg = 1),
                        update_field(ls_avg_field, "&nbsp;")),
                  load_elem("ficon_" + e, "&nbsp;"),
                  update_field("playing_" + e, "&nbsp;"),
                  update_field("ytp_" + e, "&nbsp;"),
                  update_field("pmr_" + e, "&nbsp;"))
                : null != franchiseDatabase[a].icon &&
                  (franchiseDatabase[a].icon.length > 1 &&
                      (r =
                          '<img src="' +
                          franchiseDatabase[a].icon +
                          '" ' +
                          ls_icon_dim +
                          ' id="franchiseicon_' +
                          t +
                          '" class="franchiseicon" />'),
                  load_elem("ficon_" + e, r),
                  load_elem("fname_" + e, franchiseDatabase[a].name),
                  "away" === e && load_elem("LS_AwayTeamRecord", ls_records[t]),
                  "home" === e && load_elem("LS_HomeTeamRecord", ls_records[t]),
                  update_field("ffpts_" + e, format_points(ls_fran_totals[t].total)),
                  update_field("playing_" + e, ls_fran_totals[t].playing),
                  update_field("ytp_" + e, ls_fran_totals[t].ytp),
                  update_field("pmr_" + e, format_time_rem(ls_fran_totals[t].pmr)));
        }
        function update_game_status(e) {
            var t = ls_nfl_games[e].opp;
            if (liveScoringWeek < 1);
            else liveScoringWeek;
            var a =
                    '<table style="border:0!important;border-spacing:0;box-shadow:none!important;padding:0;width:auto;margin:0 auto"><tbody>',
                r = "",
                s = "",
                o = !1;
            if (0 === ls_nfl_games[e].time)
                (a =
                    '<table style="border:0!important;border-spacing:0;box-shadow:none!important;padding:0;margin:0;width:100%"><tbody><tr><td style="text-align:center;border:0!important;padding:0;margin:0;box-shadow:none!important">BYE</td></tr></tbody></table>'),
                    (ls_nfl_games[e].secs_left = 0),
                    (ls_nfl_games[e].status = "BYE"),
                    (s = "no_stats");
            else if (ls_nfl_games[e].time > ls_last_update_secs)
                (a =
                    (a =
                        "away" === ls_nfl_games[e].where
                            ? a +
                              '<tr><td style="border:0!important;padding:0;margin:0;box-shadow:none!important;width:1.5rem;height:1.25rem;text-align:right"><img style="margin:0;max-height:1.25rem;max-width:1.25rem" src="https://www.mflscripts.com/ImageDirectory/script-images/nflTeamsvg_2/' +
                              e +
                              '.svg" class="ls_nfl_icon"></td><td style="border:0!important;margin:0;box-shadow:none!important;text-align:center;padding:0 0.25rem;font-style:normal;font-size:0.75rem">&#64;</td><td style="border:0!important;padding:0;margin:0;box-shadow:none!important;width:1.5rem;height:1.25rem;text-align:left"><img style="margin:0;max-height:1.25rem;max-width:1.25rem" src="https://www.mflscripts.com/ImageDirectory/script-images/nflTeamsvg_2/' +
                              t +
                              '.svg" class="ls_nfl_icon"></td></tr>'
                            : a +
                              '<tr><td style="border:0!important;padding:0;margin:0;box-shadow:none!important;width:1.5rem;height:1.25rem;text-align:right"><img style="margin:0;max-height:1.25rem;max-width:1.25rem" src="https://www.mflscripts.com/ImageDirectory/script-images/nflTeamsvg_2/' +
                              t +
                              '.svg" class="ls_nfl_icon"></td><td style="border:0!important;margin:0;box-shadow:none!important;text-align:center;padding:0 0.25rem;font-style:normal;font-size:0.75rem">vs</td><td style="border:0!important;padding:0;margin:0;box-shadow:none!important;width:1.5rem;height:1.25rem;text-align:left"><img style="margin:0;max-height:1.25rem;max-width:1.25rem" src="https://www.mflscripts.com/ImageDirectory/script-images/nflTeamsvg_2/' +
                              e +
                              '.svg" class="ls_nfl_icon"></td></tr>') +
                    "</tbody></table><br>" +
                    ls_nfl_games[e].pretty_time),
                    (ls_nfl_games[e].secs_left = 3600),
                    (ls_nfl_games[e].status = "SCHED"),
                    (s = "ls_gameis_scheduled");
            else {
                if (void 0 === ls_tstats[e]) return;
                if (void 0 === ls_tstats[t]) return;
                if (
                    (void 0 === ls_tstats[e].TPS && (ls_tstats[e].TPS = 0),
                    void 0 === ls_tstats[t].TPS && (ls_tstats[t].TPS = 0),
                    (a =
                        "away" === ls_nfl_games[e].where
                            ? a +
                              '<tr><td style="border:0!important;padding:0;margin:0;box-shadow:none!important;width:1.5rem;height:1.25rem;text-align:right"><img style="margin:0;max-height:1.25rem;max-width:1.25rem" src="https://www.mflscripts.com/ImageDirectory/script-images/nflTeamsvg_2/' +
                              e +
                              '.svg" class="ls_nfl_icon"></td><td style="border:0!important;padding:0 0.188rem;font-size:0.875rem;font-weight:bold;font-style:normal;margin:0;box-shadow:none!important;text-align:center">' +
                              ls_tstats[e].TPS +
                              '</td><td style="border:0!important;padding:0;margin:0;box-shadow:none!important;text-align:center;font-style:normal;font-size:0.75rem">&#64;</td><td style="border:0!important;padding:0 0.188rem;font-size:0.875rem;font-weight:bold;font-style:normal;margin:0;box-shadow:none!important;text-align:center">' +
                              ls_tstats[t].TPS +
                              '</td><td style="border:0!important;padding:0;margin:0;box-shadow:none!important;width:1.5rem;height:1.25rem;text-align:left"><img style="margin:0;max-height:1.25rem;max-width:1.25rem" src="https://www.mflscripts.com/ImageDirectory/script-images/nflTeamsvg_2/' +
                              t +
                              '.svg" class="ls_nfl_icon"></td></tr>'
                            : a +
                              '<tr><td style="border:0!important;padding:0;margin:0;box-shadow:none!important;width:1.5rem;height:1.25rem;text-align:right"><img style="margin:0;max-height:1.25rem;max-width:1.25rem" src="https://www.mflscripts.com/ImageDirectory/script-images/nflTeamsvg_2/' +
                              t +
                              '.svg" class="ls_nfl_icon"></td><td style="border:0!important;padding:0 0.188rem;font-size:0.875rem;font-weight:bold;font-style:normal;margin:0;box-shadow:none!important;text-align:center">' +
                              ls_tstats[t].TPS +
                              '</td><td style="border:0!important;padding:0;margin:0;box-shadow:none!important;text-align:center;font-style:normal;font-size:0.75rem">vs</td><td style="border:0!important;padding:0 0.188rem;font-size:0.875rem;font-weight:bold;font-style:normal;margin:0;box-shadow:none!important;text-align:center">' +
                              ls_tstats[e].TPS +
                              '</td><td style="border:0!important;padding:0;margin:0;box-shadow:none!important;width:1.5rem;height:1.25rem;text-align:left"><img style="margin:0;max-height:1.25rem;max-width:1.25rem" src="https://www.mflscripts.com/ImageDirectory/script-images/nflTeamsvg_2/' +
                              e +
                              '.svg" class="ls_nfl_icon"></td></tr>'),
                    (a += "</tbody></table><br>"),
                    "" == ls_tstats[e].QUARTER || "F" === ls_tstats[e].QUARTER)
                )
                    (ls_nfl_games[e].secs_left = 0),
                        (ls_nfl_games[e].status = "OVER"),
                        (a += "Final"),
                        (s = "ls_gameis_over");
                else {
                    var l;
                    (s = "ls_gameinprogress"), (r = "ls_noposs"), (ls_nfl_games[e].status = "INPROG");
                    var i = ls_tstats[e].REMAINING.split(":");
                    (ls_nfl_games[e].secs_left = 60 * i[0] + Number(i[1])),
                        "O" === ls_tstats[e].QUARTER || ls_tstats[e].QUARTER > 4
                            ? (l = "OT")
                            : "H" === ls_tstats[e].QUARTER
                              ? ((l = "H"), (ls_nfl_games[e].secs_left += 1800), (o = !0))
                              : ((ls_nfl_games[e].secs_left += 900 * (4 - ls_tstats[e].QUARTER)),
                                (l = ls_tstats[e].QUARTER + "Q")),
                        (l = l + "&nbsp;" + ls_tstats[e].REMAINING);
                    var n = ls_tstats[e].DOWN;
                    if (
                        ((void 0 !== n && 0 !== n) || (n = 1),
                        1 === n ? (n += "st") : 2 === n ? (n += "nd") : 3 === n ? (n += "rd") : 4 === n && (n += "th"),
                        (a += l),
                        void 0 !== ls_tstats[e].YARDLINE && "" !== ls_tstats[e].YARDLINE)
                    ) {
                        var d = ls_tstats[e].YARDLINE.split(":"),
                            c = d[0],
                            p = Number(d[1]);
                        if (
                            ("50" == c && ((c = ""), (p = 50)),
                            void 0 !== ls_tstats[e].TOGO && "" !== ls_tstats[e].TOGO)
                        )
                            (a = a + "<br>" + (n + "&nbsp;and&nbsp;" + ls_tstats[e].TOGO + " at " + c + "&nbsp;" + p)),
                                ls_tstats[e].POSSESSION > 0 &&
                                    ((r = "ls_withposs"), c !== e && p < 20 && (r = "ls_redzone"));
                    }
                }
            }
            "no_stats" === s
                ? ($(".ls_players_table div.game_" + e)
                      .closest("tr")
                      .removeClass("ls_nothas_ball ls_in_redzone ls_gameinprogress ls_has_ball")
                      .addClass("ls_gameis_over no_stats"),
                  $(".ls_players_table div[class*='game_FA']")
                      .closest("tr")
                      .removeClass("ls_nothas_ball ls_in_redzone ls_gameinprogress ls_has_ball")
                      .addClass("ls_gameis_over no_stats"),
                  $(".ls_players_table div[class*='game_FA']").html(
                      '<table style="border:0!important;border-spacing:0;box-shadow:none!important;padding:0;margin:0;width:100%"><tbody><tr><td style="text-align:center;border:0!important;padding:0;margin:0;box-shadow:none!important">NO MATCHUP</td></tr></tbody></table>'
                  ))
                : "ls_gameis_over" === s
                  ? $(".ls_players_table div.game_" + e)
                        .closest("tr")
                        .removeClass("ls_nothas_ball ls_in_redzone ls_gameinprogress ls_has_ball")
                        .addClass("ls_gameis_over")
                  : "ls_gameinprogress" === s
                    ? $(".ls_players_table div.game_" + e)
                          .closest("tr")
                          .removeClass("ls_gameis_scheduled ls_gameis_over")
                          .addClass("ls_gameinprogress")
                    : "ls_gameis_scheduled" === s &&
                      $(".ls_players_table div.game_" + e)
                          .closest("tr")
                          .removeClass("ls_nothas_ball ls_in_redzone ls_has_ball ls_gameinprogress ls_gameis_over")
                          .addClass("class", "ls_gameis_scheduled"),
                o &&
                    $(".ls_players_table div.game_" + e)
                        .closest("tr")
                        .closest("tr")
                        .removeClass("ls_nothas_ball ls_in_redzone ls_has_ball"),
                (ls_nfl_games[e].game_status = a),
                update_field_by_class("game_" + e, a, 1),
                update_class_by_class("game_" + e, r);
        }
        function update_class_by_class(e, t) {
            for (var a = document.getElementsByClassName(e), r = 0; r < a.length; r++)
                a[r] &&
                    ("ls_redzone" !== t && removeClass(a[r], "ls_redzone"),
                    "ls_withposs" !== t && removeClass(a[r], "ls_withposs"),
                    "ls_noposs" !== t && removeClass(a[r], "ls_noposs"),
                    void 0 !== t && "" !== t && addClass(a[r], t));
            "ls_withposs" === t
                ? $(".ls_players_table div." + e)
                      .closest("tr")
                      .removeClass("ls_nothas_ball ls_in_redzone")
                      .addClass("ls_has_ball")
                : "ls_noposs" === t
                  ? $(".ls_players_table div." + e)
                        .closest("tr")
                        .removeClass("ls_has_ball ls_in_redzone")
                        .addClass("ls_nothas_ball")
                  : "ls_redzone" === t &&
                    $(".ls_players_table div." + e)
                        .closest("tr")
                        .addClass("ls_in_redzone"),
                $('td.ls_game_info:contains("0:00")')
                    .closest("tr")
                    .removeClass("ls_has_ball ls_withposs ls_redzone ls_nothas_ball");
        }
        function build_other_games(e, t) {
            for (var a, r = [], s = 0, o = 0; o < ls_games.length; o++)
                (r[o] = o),
                    ls_vert_og || (ls_games[o].split(",")[1] === e && ls_games[o].split(",")[0] === t && (s = o));
            if (
                (ls_vert_og &&
                    r.sort(function (e, t) {
                        var a = ls_games[e],
                            r = ls_games[t],
                            s = null == ls_fran_totals[a] ? 0 : ls_fran_totals[a].total,
                            o = null == ls_fran_totals[r] ? 0 : ls_fran_totals[r].total;
                        return a === ls_target_franchise ? -1 : r === ls_target_franchise || s < o ? 1 : s > o ? -1 : 0;
                    }),
                (a = "<tr><td>\n"),
                $("#hide_projections_cb").is(":checked"))
            )
                var l = ' style="display:none"';
            else l = "";
            for (var i = 0; i < r.length; i++) {
                o = r[i];
                var n = [];
                /,/.test(ls_games[o]) ? (n = ls_games[o].split(",")) : ((n[0] = ""), (n[1] = ls_games[o]));
                var d = "switch_game('" + n[1] + "','" + n[0] + "');",
                    c = "",
                    p = "";
                if (ls_vert_og) n[1] === ls_global_allplay && (c = " current_matchup");
                else {
                    o === s && (c = " current_matchup");
                    for (var h = 0; h < 2; h++)
                        "BYE" === n[h] && (p = " ls_other_game_bye"), "AVG" === n[h] && (p = " ls_other_game_avg");
                }
                a =
                    a +
                    '<div id="og_' +
                    o +
                    '" class="ls_other_game' +
                    p +
                    c +
                    '" onclick="' +
                    d +
                    '" onmouseenter="set_border(this,1);" onmouseleave="set_border(this,0);" style="display:inline-block;" title="View Match Up"><table border="0" cellspacing="0" cellpadding="0">\n';
                for (h = 0; h < 2; h++)
                    if ("" == n[h]);
                    else if ("BYE" == n[h])
                        a =
                            a +
                            '<tr><td class="ls_og_cell">BYE</td><td id="ls_pace_box_BYE" class="ls_pace_box_BYE ls_projections ls_pace_box"' +
                            l +
                            '></td><td style="border:none;"><div></div></td><td style="border:none;"><div></div></td></tr>\n';
                    else if ("AVG" == n[h])
                        (ls_do_avg = 1),
                            (a =
                                a +
                                '<tr><td class="ls_og_cell">AVG</td><td id="ls_pace_box_AVG" class="ls_pace_box_BYE ls_projections ls_pace_box"' +
                                l +
                                '></td><td align="right" style="border:none;"><div class="ogffpts_avg">0</div></td><td style="border:none;"><div></div></td></tr>\n');
                    else {
                        var _ = "fid_" + n[h];
                        (a =
                            (a = a + '<tr><td class="ls_og_cell">' + ls_get_icon_abbrev(_) + "</td>") +
                            '<td id="ls_pace_box_' +
                            n[h] +
                            '" class="ls_pace_box_' +
                            n[h] +
                            ' ls_projections ls_pace_box"' +
                            l +
                            ">"),
                            ls_includeProjections && ls_pace_tracker.hasOwnProperty(_) && (a += ls_pace_tracker[_].S),
                            (a =
                                (a += "</td>") +
                                '<td align="right" style="border:none;"><div class="ogffpts_' +
                                n[h] +
                                '">'),
                            (a =
                                (a += format_points(ls_fran_totals[n[h]].total)) +
                                '</div></td><td style="border:none;"><div class="oggstat_' +
                                n[h] +
                                '">'),
                            (a += ls_fran_totals[n[h]].fin),
                            (a += "</div></td></tr>\n");
                    }
                a += "</table></div>\n";
            }
            (a += "</td>"),
                (a += "</tr>\n"),
                load_elem("other_games", a),
                ls_hide_bye_teams &&
                    $("[id^=og_].ls_other_game_bye").each(function () {
                        $(this).hide();
                    });
            const m = $("#other_games .ls_other_game:visible").length,
                y = m / 2,
                u = Math.round(y),
                f = m / 3,
                b = Math.round(f),
                g = +b + +b;
            switch (BreakRows) {
                case 1:
                    break;
                case 2:
                    $("#other_games div.ls_other_game:nth-child(" + u + ")").after(
                        '<div class="ls_divide" style="display:block;height:0.313rem"></div>'
                    );
                    break;
                case 3:
                    $(
                        "#other_games div.ls_other_game:nth-child(" +
                            b +
                            "),#other_games div.ls_other_game:nth-child(" +
                            g +
                            ")"
                    ).after('<div class="ls_divide" style="display:block;height:0.313rem"></div>');
            }
        }
        function ls_get_icon_abbrev(e) {
            switch (ls_box_abbrev_name_icon) {
                case 0:
                default:
                    return '<span class="ls_og_abbrev">' + franchiseDatabase[e].abbrev + "</span>";
                case 1:
                    return (
                        '<span class="ls_og_full_name" style="display:inline-block;max-width:5rem;overflow:hidden">' +
                        franchiseDatabase[e].name +
                        "</span>"
                    );
                case 2:
                    return "" !== franchiseDatabase[e].icon
                        ? '<img class="ls_og_icon" src="' +
                              franchiseDatabase[e].icon +
                              '" alt="' +
                              franchiseDatabase[e].name +
                              '" title="' +
                              franchiseDatabase[e].name +
                              '" />'
                        : "" !== franchiseDatabase[e].logo
                          ? '<img class="ls_og_icon" src="' +
                            franchiseDatabase[e].logo +
                            '" alt="' +
                            franchiseDatabase[e].name +
                            '" title="' +
                            franchiseDatabase[e].name +
                            '" />'
                          : '<span class="ls_og_abbrev">' + franchiseDatabase[e].abbrev + "</span>";
                case 3:
                    return "" !== franchiseDatabase[e].icon
                        ? '<img class="ls_og_icon" src="' +
                              franchiseDatabase[e].icon +
                              '" alt="' +
                              franchiseDatabase[e].name +
                              '" title="' +
                              franchiseDatabase[e].name +
                              '" /><span class="ls_og_icon_abbrev" style="vertical-align:middle;padding-left:0.25rem">' +
                              franchiseDatabase[e].abbrev +
                              "</span>"
                        : "" !== franchiseDatabase[e].logo
                          ? '<img class="ls_og_icon" src="' +
                            franchiseDatabase[e].logo +
                            '" alt="' +
                            franchiseDatabase[e].name +
                            '" title="' +
                            franchiseDatabase[e].name +
                            '" /><span class="ls_og_icon_abbrev" style="vertical-align:middle;padding-left:0.25rem">' +
                            franchiseDatabase[e].abbrev +
                            "</span>"
                          : '<span class="ls_og_abbrev">' + franchiseDatabase[e].abbrev + "</span>";
                case 4:
                    return "" !== franchiseDatabase[e].icon
                        ? '<img class="ls_og_icon" src="' +
                              franchiseDatabase[e].icon +
                              '" alt="' +
                              franchiseDatabase[e].name +
                              '" title="' +
                              franchiseDatabase[e].name +
                              '" /><span class="ls_og_icon_full_name" style="display:inline-block;max-width:3.125rem;overflow:hidden;vertical-align:middle;padding-left:0.25rem">' +
                              franchiseDatabase[e].name +
                              "</span>"
                        : "" !== franchiseDatabase[e].logo
                          ? '<img class="ls_og_icon" src="' +
                            franchiseDatabase[e].logo +
                            '" alt="' +
                            franchiseDatabase[e].name +
                            '" title="' +
                            franchiseDatabase[e].name +
                            '" /><span class="ls_og_icon_full_name" style="display:inline-block;max-width:3.125rem;overflow:hidden;vertical-align:middle;padding-left:0.25rem">' +
                            franchiseDatabase[e].name +
                            "</span>"
                          : '<span class="ls_og_full_name" style="display:inline-block;max-width:5rem;overflow:hidden">' +
                            franchiseDatabase[e].name +
                            "</span>";
            }
        }
        function build_one_team(e, t) {
            var a = "",
                r = $("#hide_projections_cb").is(":checked") ? ' style="display:none"' : "",
                s = $('input[name="hide_stats"]').is(":checked") ? " td-pad" : "";
            if ("BYE" != t && "AVG" != t) {
                ls_showing[e] = t;
                var o = "fid_" + [t];
                for (var l in ((a = a + "<caption>" + ls_get_icon_abbrev(o) + "</caption>"), ls_rkeys)) {
                    var i = ls_rkeys[l],
                        n = "";
                    if (void 0 !== ls_rosters[t][i] && ls_rosters[t][i].length > 0) {
                        var d = "ls_" + ("S" == i ? "starters" : "nonstarters");
                        (a =
                            a +
                            '<tr class="' +
                            d +
                            '"><th>' +
                            ls_rkey_labels[i] +
                            '</th><th class="ls_game_info">Game</th>'),
                            ls_includeProjections &&
                                (a = a + '<th class="ls_projections"' + r + ' title="Pace/Projected Points">PP</th>'),
                            (a += "<th>Points</th>");
                        var c = 0;
                        for (var p in ls_rosters[t][i]) {
                            u = (u = c % 2 ? "oddtablerow" : "eventablerow") + " " + d;
                            var h = ls_rosters[t][i][p];
                            if (ls_player[h]) {
                                var _ = ls_player[h].nfl_team;
                                /^FA/.test(_)
                                    ? (pgame = "")
                                    : (ls_def_pos[ls_player[h].pos] &&
                                          "BYE" != ls_nfl_games[_].opp &&
                                          (_ = ls_nfl_games[_].opp),
                                      (pgame = ls_nfl_games[_].game_status),
                                      void 0 === pgame && (pgame = "No Matchup")),
                                    p > 0 && ls_player[h].pos != n && (u += " newposition"),
                                    (n = ls_player[h].pos);
                                var m = format_points(null == ls_player[h].points ? 0 : ls_player[h].points),
                                    y = null == ls_player[h].stats_str ? "- stats -" : ls_player[h].stats_str;
                                a =
                                    a +
                                    '<tr class="' +
                                    u +
                                    '"><td class="td-first-type"><a href="' +
                                    ("player?L=" + league_id + "&P=" + h) +
                                    '" target="new" class="reallysmall" title="View Player News">' +
                                    ls_player[h].name +
                                    "</a><br>" +
                                    ls_player[h].nfl_team +
                                    " " +
                                    ls_player[h].pos;
                                try {
                                    void 0 !== ls_injuries["pid_" + h] &&
                                        (a =
                                            a +
                                            ' (<span class="warning injurystatus" title="' +
                                            ls_injuries["pid_" + h].status +
                                            '">' +
                                            ls_injuries["pid_" + h].code +
                                            "</span>)");
                                } catch (e) {}
                                (a =
                                    (a =
                                        a +
                                        '<div class="ls_player_stats" style="position: absolute;bottom:0.125rem;height:unset"><div class="stats_' +
                                        h +
                                        ' reallysmall" style="font-size: 0.625rem;white-space: nowrap">' +
                                        y +
                                        "</div></div></td>") +
                                    '<td class="ls_game_info"><div class="game_' +
                                    _ +
                                    ' reallysmall">' +
                                    pgame +
                                    "</div></td>"),
                                    ls_includeProjections &&
                                        (a =
                                            a +
                                            '<td class="ls_projections' +
                                            s +
                                            '"' +
                                            r +
                                            ' id="ls_pace_pts_' +
                                            h +
                                            '"></td>'),
                                    (a =
                                        a +
                                        '<td align="right"><div onclick="' +
                                        ("ls_explain_points('" + h + "');") +
                                        '" class="pfpts_' +
                                        h +
                                        ' reallysmall" style="text-decoration:underline;" title="Click to View Details">' +
                                        m +
                                        "</div></td></tr>"),
                                    c++;
                            }
                        }
                        if ("S" == i && null != ls_hfa[t] && 0 != ls_hfa[t] && "home" == e)
                            (a =
                                a +
                                '<tr class="td-totals-row ' +
                                (u = (u = c % 2 ? "oddtablerow" : "eventablerow") + " " + d + " newposition") +
                                '"><td class="reallysmall td-totals">Home Field Advantage</td>'),
                                (a += '<td class="ls_game_info"><div class="reallysmall"></div></td>'),
                                ls_includeProjections && (a = a + '<td class="ls_projections' + s + '"' + r + "></td>"),
                                (a =
                                    a + '<td align="right"><div class="reallysmall">' + ls_hfa[t] + "</div></td></tr>"),
                                c++;
                        if ("S" == i && null != ls_adjust[t])
                            (a =
                                a +
                                '<tr class="td-totals-row ' +
                                (u = (u = c % 2 ? "oddtablerow" : "eventablerow") + " " + d + " newposition") +
                                '"><td class="reallysmall" class="td-totals">' +
                                ls_adjust[t].label +
                                "</td>"),
                                (a += '<td class="ls_game_info"><div class="reallysmall"></div></td>'),
                                ls_includeProjections && (a = a + '<td class="ls_projections' + s + '"' + r + "></td>"),
                                (a =
                                    a +
                                    '<td align="right"><div class="reallysmall">' +
                                    format_points(ls_adjust[t].value) +
                                    "</div></td></tr>"),
                                c++;
                        if ("S" == i || "NS" == i) {
                            var u;
                            (a =
                                a +
                                '<tr class="td-totals-row ' +
                                (u = c % 2 ? "odd" : "even") +
                                "tablerow " +
                                d +
                                '"><td align="left" class="td-totals"><b>Total Points</b></td><td class="ls_game_info"></td>'),
                                ls_includeProjections &&
                                    (a =
                                        a +
                                        '<td class="ls_projections ls_projections_' +
                                        i +
                                        " ffpts_pace_total" +
                                        s +
                                        '"' +
                                        r +
                                        ' id="ls_pace_' +
                                        t +
                                        '"></td>'),
                                (a += '<td class="ls_marquee_value" align="right"><div id="'),
                                (a += "S" == i ? "fspts_" : "frpts_");
                            var f = "S" == i ? ls_fran_totals[t].total : ls_fran_totals[t].nstotal;
                            a = a + t + '">' + format_points(f) + "</div></td></tr>";
                        }
                    } else
                        "S" == i &&
                            (a += ls_includeProjections
                                ? '<tr><th colspan="5">This franchise did not set a lineup this week or the lineups are hidden.</th></tr>'
                                : '<tr><th colspan="4">This franchise did not set a lineup this week or the lineups are hidden.</th></tr>');
                }
            }
            load_elem("roster_" + e, a),
                ls_should_hide_gs && hide_by_class("ls_game_info", !0, "table-cell"),
                ls_should_hide_ps && hide_by_class("ls_player_stats", !0, "table-cell"),
                ls_should_hide_rs && hide_by_class("ls_nonstarters", !0, "table-row"),
                ls_should_hide_ts && hide_by_id("ls_ticker_tab_id", !0, "inline"),
                ls_should_hide_wp &&
                    (hide_by_class("ls_proj_points", !0, "table-cell"),
                    hide_by_id("ls_row_winprob_home", ls_should_hide_wp, "table-row"),
                    hide_by_id("ls_row_winprob_away", ls_should_hide_wp, "table-row")),
                $('input[name="hide_stats"]').is(":checked") &&
                    $("#roster_away td, #roster_home td").addClass("td-pad");
        }
    }
if (
    ($(document).ready(function () {
        setTimeout(function () {
            var e = new URLSearchParams(window.location.search).get("TEST_WEEK");
            ((0 === liveScoringWeek && e) || 0 === liveScoringWeek) &&
                $.each($('a[href*="ajax_ls?L"]'), function (e, t) {
                    $(t).addClass("scoringLinkDisable");
                }),
                (completedWeek > endWeek || real_ls_week > endWeek) &&
                    $.each($('a[href*="ajax_ls?L"]'), function (e, t) {});
        }, 1e3);
    }),
    $(document).on("click", ".scoringLinkDisable", function (e) {
        e.preventDefault(),
            alert(
                "Live Scoring Will Start 24 Hours Prior To Kickoff Of First Game Of The Week. Live Scoring is disabled during offseason."
            );
    }),
    load_standingSettings_script &&
        (document.getElementById("body_home") ||
            document.getElementById("body_options_247") ||
            document.getElementById("body_standings")))
) {
    const s = document.createElement("div");
    (s.innerHTML =
        '<div class="standings-settings_overlay" style="display: none;"></div><div id="standings-settings" class="standings-settings-content" style="display:none;"><p style="text-align:center;font-weight:bold;text-decoration:underline;margin:0;font-size:0.938rem">SELECT STANDINGS COLUMNS</p><div class="ss_setting_ck"><input type="checkbox" name="fname_checkbox" id="fname_checkbox" class="fname" checked="checked" onchange="ss_checkbox(this)"><label for="fname_checkbox">Franchise Name</label></div><div class="ss_setting_ck"><input type="checkbox" name="ficon_checkbox" id="ficon_checkbox" class="ficon" checked="checked" onchange="ss_checkbox(this)"><label for="ficon_checkbox">Franchise Icon</label></div><div class="ss_setting_ck"><input type="checkbox" name="ficonname_checkbox" id="ficonname_checkbox" class="ficonname" checked="checked" onchange="ss_checkbox(this)"><label for="ficonname_checkbox">Franchise Icon and Name</label></div><div class="ss_wrapper"><p class="headp-carrot" style="text-align:left;font-weight:bold;margin:0">Overall Columns</p><div class="ss_setting_ck"><input type="checkbox" name="h2hwlt_checkbox" id="h2hwlt_checkbox" class="h2hwlt" checked="checked" onchange="ss_checkbox(this)"><label for="h2hwlt_checkbox">Overall Wins, Losses and Ties</label></div><div class="ss_setting_ck"><input type="checkbox" name="h2hpct_checkbox" id="h2hpct_checkbox" class="h2hpct" checked="checked" onchange="ss_checkbox(this)"><label for="h2hpct_checkbox">Overall Winning Percentage</label></div><div class="ss_setting_ck"><input type="checkbox" name="h2hw_checkbox" id="h2hw_checkbox" class="h2hw" checked="checked" onchange="ss_checkbox(this)"><label for="h2hw_checkbox">Overall Wins</label></div><div class="ss_setting_ck"><input type="checkbox" name="h2hl_checkbox" id="h2hl_checkbox" class="h2hl" checked="checked" onchange="ss_checkbox(this)"><label for="h2hl_checkbox">Overall Losses</label></div><div class="ss_setting_ck"><input type="checkbox" name="h2ht_checkbox" id="h2ht_checkbox" class="h2ht" checked="checked" onchange="ss_checkbox(this)"><label for="h2ht_checkbox">Overall Ties</label></div><div class="ss_setting_ck"><input type="checkbox" name="gb_checkbox" id="gb_checkbox" class="gb" checked="checked" onchange="ss_checkbox(this)"><label for="gb_checkbox">Games Back</label></div><div class="ss_setting_ck"><input type="checkbox" name="strk_checkbox" id="strk_checkbox" class="strk" checked="checked" onchange="ss_checkbox(this)"><label for="strk_checkbox">Winning-Losing Streak</label></div></div><div class="ss_wrapper"><p class="headp-carrot" style="text-align:left;font-weight:bold;margin:0">Division Columns</p><div class="ss_setting_ck"><input type="checkbox" name="divw_checkbox" id="divw_checkbox" class="divw" checked="checked" onchange="ss_checkbox(this)"><label for="divw_checkbox">Divisional Wins</label></div><div class="ss_setting_ck"><input type="checkbox" name="divl_checkbox" id="divl_checkbox" class="divl" checked="checked" onchange="ss_checkbox(this)"><label for="divl_checkbox">Divisional Losses</label></div><div class="ss_setting_ck"><input type="checkbox" name="divt_checkbox" id="divt_checkbox" class="divt" checked="checked" onchange="ss_checkbox(this)"><label for="divt_checkbox">Divisional Ties</label></div><div class="ss_setting_ck"><input type="checkbox" name="divwlt_checkbox" id="divwlt_checkbox" class="divwlt" checked="checked" onchange="ss_checkbox(this)"><label for="divwlt_checkbox">Divisional Wins, Losses and Ties</label></div><div class="ss_setting_ck"><input type="checkbox" name="divpct_checkbox" id="divpct_checkbox" class="divpct" checked="checked" onchange="ss_checkbox(this)"><label for="divpct_checkbox">Divisional Winning Percentage</label></div><div class="ss_setting_ck"><input type="checkbox" name="nondivw_checkbox" id="nondivw_checkbox" class="nondivw" checked="checked" onchange="ss_checkbox(this)"><label for="nondivw_checkbox">Non-Divisional Wins</label></div><div class="ss_setting_ck"><input type="checkbox" name="nondivl_checkbox" id="nondivl_checkbox" class="nondivl" checked="checked" onchange="ss_checkbox(this)"><label for="nondivl_checkbox">Non-Divisional Losses</label></div><div class="ss_setting_ck"><input type="checkbox" name="nondivt_checkbox" id="nondivt_checkbox" class="nondivt" checked="checked" onchange="ss_checkbox(this)"><label for="nondivt_checkbox">Non-Divisional Ties</label></div><div class="ss_setting_ck"><input type="checkbox" name="nondivwlt_checkbox" id="nondivwlt_checkbox" class="nondivwlt" checked="checked" onchange="ss_checkbox(this)"><label for="nondivwlt_checkbox">Non-Divisional Wins, Losses and Ties</label></div><div class="ss_setting_ck"><input type="checkbox" name="nondivpct_checkbox" id="nondivpct_checkbox" class="nondivpct" checked="checked" onchange="ss_checkbox(this)"><label for="nondivpct_checkbox">Non-Divisional Winning Percentage</label></div></div><div class="ss_wrapper"><p class="headp-carrot" style="text-align:left;font-weight:bold;margin:0">Conference Columns</p><div class="ss_setting_ck"><input type="checkbox" name="confw_checkbox" id="confw_checkbox" class="confw" checked="checked" onchange="ss_checkbox(this)"><label for="confw_checkbox">Conference Wins</label></div><div class="ss_setting_ck"><input type="checkbox" name="confl_checkbox" id="confl_checkbox" class="confl" checked="checked" onchange="ss_checkbox(this)"><label for="confl_checkbox">Conference Losses</label></div><div class="ss_setting_ck"><input type="checkbox" name="conft_checkbox" id="conft_checkbox" class="conft" checked="checked" onchange="ss_checkbox(this)"><label for="conft_checkbox">Conference Ties</label></div><div class="ss_setting_ck"><input type="checkbox" name="confwlt_checkbox" id="confwlt_checkbox" class="confwlt" checked="checked" onchange="ss_checkbox(this)"><label for="confwlt_checkbox">Conference Wins, Losses and Ties</label></div><div class="ss_setting_ck"><input type="checkbox" name="confpct_checkbox" id="confpct_checkbox" class="confpct" checked="checked" onchange="ss_checkbox(this)"><label for="confpct_checkbox">Conference Winning Percentage</label></div><div class="ss_setting_ck"><input type="checkbox" name="nonconfw_checkbox" id="nonconfw_checkbox" class="nonconfw" checked="checked" onchange="ss_checkbox(this)"><label for="nonconfw_checkbox">Non-Conference Wins</label></div><div class="ss_setting_ck"><input type="checkbox" name="nonconfl_checkbox" id="nonconfl_checkbox" class="nonconfl" checked="checked" onchange="ss_checkbox(this)"><label for="nonconfl_checkbox">Non-Conference Losses</label></div><div class="ss_setting_ck"><input type="checkbox" name="nonconft_checkbox" id="nonconft_checkbox" class="nonconft" checked="checked" onchange="ss_checkbox(this)"><label for="nonconft_checkbox">Non-Conference Ties</label></div><div class="ss_setting_ck"><input type="checkbox" name="nonconfwlt_checkbox" id="nonconfwlt_checkbox" class="nonconfwlt" checked="checked" onchange="ss_checkbox(this)"><label for="nonconfwlt_checkbox">Non-Conference Wins, Losses and Ties</label></div><div class="ss_setting_ck"><input type="checkbox" name="nonconfpct_checkbox" id="nonconfpct_checkbox" class="nonconfpct" checked="checked" onchange="ss_checkbox(this)"><label for="nonconfpct_checkbox">Non Conference Winning Percentage</label></div></div><div class="ss_wrapper"><p class="headp-carrot" style="text-align:left;font-weight:bold;margin:0">Points Columns</p><div class="ss_setting_ck"><input type="checkbox" name="pf_checkbox" id="pf_checkbox" class="pf" checked="checked" onchange="ss_checkbox(this)"><label for="pf_checkbox">Total YTD Point Scored</label></div><div class="ss_setting_ck"><input type="checkbox" name="avgpf_checkbox" id="avgpf_checkbox" class="avgpf" checked="checked" onchange="ss_checkbox(this)"><label for="avgpf_checkbox">Weekly Average Point Scored</label></div><div class="ss_setting_ck"><input type="checkbox" name="pa_checkbox" id="pa_checkbox" class="pa" checked="checked" onchange="ss_checkbox(this)"><label for="pa_checkbox">Total YTD Opp. Points Scored</label></div><div class="ss_setting_ck"><input type="checkbox" name="avgpa_checkbox" id="avgpa_checkbox" class="avgpa" checked="checked" onchange="ss_checkbox(this)"><label for="avgpa_checkbox">Weekly Average Opp. Points Scored</label></div><div class="ss_setting_ck"><input type="checkbox" name="divpf_checkbox" id="divpf_checkbox" class="divpf" checked="checked" onchange="ss_checkbox(this)"><label for="divpf_checkbox">Total YTD Points Scored In Div. Games</label></div><div class="ss_setting_ck"><input type="checkbox" name="confpf_checkbox" id="confpf_checkbox" class="confpf" checked="checked" onchange="ss_checkbox(this)"><label for="confpf_checkbox">Total YTD Points Scored In Conference</label></div><div class="ss_setting_ck"><input type="checkbox" name="maxpf_checkbox" id="maxpf_checkbox" class="maxpf" checked="checked" onchange="ss_checkbox(this)"><label for="maxpf_checkbox">Highest Weekly Point Total</label></div><div class="ss_setting_ck"><input type="checkbox" name="minpf_checkbox" id="minpf_checkbox" class="minpf" checked="checked" onchange="ss_checkbox(this)"><label for="minpf_checkbox">Lowest Weekly Point Total</label></div><div class="ss_setting_ck"><input type="checkbox" name="maxpa_checkbox" id="maxpa_checkbox" class="maxpa" checked="checked" onchange="ss_checkbox(this)"><label for="maxpa_checkbox">Highest Weekly Points Against</label></div><div class="ss_setting_ck"><input type="checkbox" name="minpa_checkbox" id="minpa_checkbox" class="minpa" checked="checked" onchange="ss_checkbox(this)"><label for="minpa_checkbox">Lowest Weekly Points Against</label></div><div class="ss_setting_ck"><input type="checkbox" name="vp_checkbox" id="vp_checkbox" class="vp" checked="checked" onchange="ss_checkbox(this)"><label for="vp_checkbox">Victory Points</label></div><div class="ss_setting_ck"><input type="checkbox" name="pp_checkbox" id="pp_checkbox" class="pp" checked="checked" onchange="ss_checkbox(this)"><label for="pp_checkbox">Potential Points</label></div><div class="ss_setting_ck"><input type="checkbox" name="pb_checkbox" id="pb_checkbox" class="pb" checked="checked" onchange="ss_checkbox(this)"><label for="pb_checkbox">Points Back</label></div><div class="ss_setting_ck"><input type="checkbox" name="op_checkbox" id="op_checkbox" class="op" checked="checked" onchange="ss_checkbox(this)"><label for="op_checkbox">Offensive Points</label></div><div class="ss_setting_ck"><input type="checkbox" name="dp_checkbox" id="dp_checkbox" class="dp" checked="checked" onchange="ss_checkbox(this)"><label for="dp_checkbox">Defensive Points</label></div></div><div class="ss_wrapper"><p class="headp-carrot" style="text-align:left;font-weight:bold;margin:0">Accounting Columns</p><div class="ss_setting_ck"><input type="checkbox" name="bbidspent_checkbox" id="bbidspent_checkbox" class="bbidspent" checked="checked" onchange="ss_checkbox(this)"><label for="bbidspent_checkbox">Total $ Spent YTD On Blind Bidding</label></div><div class="ss_setting_ck"><input type="checkbox" name="bbidbalance_checkbox" id="bbidbalance_checkbox" class="bbidbalance" checked="checked" onchange="ss_checkbox(this)"><label for="bbidbalance_checkbox">Balance Available For Blind Bidding</label></div><div class="ss_setting_ck"><input type="checkbox" name="acct_checkbox" id="acct_checkbox" class="acct" checked="checked" onchange="ss_checkbox(this)"><label for="acct_checkbox">Accounting Balance</label></div><div class="ss_setting_ck"><input type="checkbox" name="salary_checkbox" id="salary_checkbox" class="salary" checked="checked" onchange="ss_checkbox(this)"><label for="salary_checkbox">Total Salary</label></div></div><div class="ss_wrapper"><p class="headp-carrot" style="text-align:left;font-weight:bold;margin:0">All-Play Columns</p><div class="ss_setting_ck"><input type="checkbox" name="all_play_wlt_checkbox" id="all_play_wlt_checkbox" class="all_play_wlt" checked="checked" onchange="ss_checkbox(this)"><label for="all_play_wlt_checkbox">All-Play Wins, Losses and Tie</label></div><div class="ss_setting_ck"><input type="checkbox" name="all_play_pct_checkbox" id="all_play_pct_checkbox" class="all_play_pct" checked="checked" onchange="ss_checkbox(this)"><label for="all_play_pct_checkbox">All-Play Winning Percentage</label></div><div class="ss_wrapper"><p class="headp-carrot" style="text-align:left;font-weight:bold;margin:0">Ranking Columns</p><div class="ss_setting_ck"><input type="checkbox" name="pwr_checkbox" id="pwr_checkbox" class="pwr" checked="checked" onchange="ss_checkbox(this)"><label for="pwr_checkbox">Power Rank</label></div><div class="ss_setting_ck"><input type="checkbox" name="altpwr_checkbox" id="altpwr_checkbox" class="altpwr" checked="checked" onchange="ss_checkbox(this)"><label for="altpwr_checkbox">Alternative Power Rank</label></div><div class="ss_setting_ck"><input type="checkbox" name="eff_checkbox" id="eff_checkbox" class="eff" checked="checked" onchange="ss_checkbox(this)"><label for="eff_checkbox">Efficiency Rating</label></div></div><div class="ss_wrapper"><p class="headp-carrot" style="text-align:left;font-weight:bold;margin:0">Transactions Columns</p><div class="ss_setting_ck"><input type="checkbox" name="ww_checkbox" id="ww_checkbox" class="ww" checked="checked" onchange="ss_checkbox(this)"><label for="ww_checkbox">Waiver Wire Order</label></div><div class="ss_setting_ck"><input type="checkbox" name="add-moves_checkbox" id="add-moves_checkbox" class="add-moves" checked="checked" onchange="ss_checkbox(this)"><label for="add-moves_checkbox">Year-To-Date Number Of Add Moves</label></div><div class="ss_setting_ck"><input type="checkbox" name="waiver-moves_checkbox" id="waiver-moves_checkbox" class="waiver-moves" checked="checked" onchange="ss_checkbox(this)"><label for="waiver-moves_checkbox">Year-To-Date Number Of Waiver Moves</label></div></div><div class="ss_wrapper"><p class="headp-carrot" style="text-align:left;font-weight:bold;margin:0">Miscellaneous Columns</p><div class="ss_setting_ck"><input type="checkbox" name="eliminated_checkbox" id="eliminated_checkbox" class="eliminated" checked="checked" onchange="ss_checkbox(this)"><label for="eliminated_checkbox">Guillotine Leagues, Week Eliminated</label></div><div class="ss_setting_ck"><input type="checkbox" name="custom_standings_column01_checkbox" id="custom_standings_column01_checkbox" class="custom_standings_column01" checked="checked" onchange="ss_checkbox(this)"><label for="custom_standings_column01_checkbox">Custom Standings Column 1</label></div><div class="ss_setting_ck"><input type="checkbox" name="custom_standings_column02_checkbox" id="custom_standings_column02_checkbox" class="custom_standings_column02" checked="checked" onchange="ss_checkbox(this)"><label for="custom_standings_column02_checkbox">Custom Standings Column 2</label></div></div></div>'),
        document.body.appendChild(s);
    const o = document.createElement("style");
    function ss_checkbox(e) {
        const t = e.getAttribute("class");
        e.checked
            ? (document.querySelectorAll(`.standings-filter .${t}`).forEach((e) => (e.style.display = "")),
              localStorage.removeItem(`${league_id}_${year}_${t}`))
            : (document.querySelectorAll(`.standings-filter .${t}`).forEach((e) => (e.style.display = "none")),
              localStorage.setItem(`${league_id}_${year}_${t}`, "hidden"));
    }
    (o.textContent =
        '.standings-cog{margin-left:0.625rem;cursor:pointer;z-index:1;pointer-events:all;position:absolute;top:50%;transform:translateY(-50%)}.standing_cog_span{position:relative;z-index:2}#standings-settings{position:fixed;left:0;right:0;top:0;bottom:0;margin:auto;width:18.75rem;z-index:999999;height:18.75rem;overflow:auto}.standings-settings_overlay{content:"";width:100%;height:100%;position:fixed;left:0;top:0;z-index:99999}#standings-settings input{display:none}#standings-settings div{position:relative;display:block;margin:0.625rem 0}#standings-settings input+label:before{font-family:"Font Awesome 6 Pro";display:inline-block;content:"\\f0a5";position:absolute;left:0}#standings-settings input:checked+label:before{content:"\\f359";z-index:0}#standings-settings label{padding-left:1.25rem;font-size:0.813rem;line-height:0.813rem;cursor:pointer;display:block}#standings-settings #fname_checkbox:checked+label,#standings-settings #fname_checkbox+label,#standings-settings #ficon_checkbox:checked+label,#standings-settings #ficon_checkbox+label,#standings-settings #ficonname_checkbox:checked+label,#standings-settings #ficonname_checkbox+label{pointer-events:none}#standings-settings #fname_checkbox:checked+label:before,#standings-settings #fname_checkbox+label:before,#standings-settings #ficon_checkbox:checked+label:before,#standings-settings #ficon_checkbox+label:before,#standings-settings #ficonname_checkbox:checked+label:before,#standings-settings #ficonname_checkbox+label:before{content:"\\f13e";pointer-events:none}#standings-settings p.headp-carrot{position:relative}#standings-settings p.headp-carrot:after{font-family:"Font Awesome 6 Pro";display:inline-block;content:"\\f0a7";position:absolute;top:50%;transform:translateY(-50%);margin-left:0.313rem}'),
        document.head.appendChild(o),
        document.addEventListener("DOMContentLoaded", function () {
            document.querySelectorAll("#standings caption span:first-of-type").forEach((e) => {
                if ("League Standings" === e.textContent) {
                    const t = e.closest("table");
                    t && t.classList.add("standings-filter");
                    const a = document.createElement("i");
                    (a.className = "fa-regular fa-gears standings-cog"),
                        a.setAttribute("aria-hidden", "true"),
                        a.setAttribute("title", "Setup Standings Columns"),
                        e.appendChild(a),
                        e.classList.add("standing_cog_span");
                }
            }),
                document.querySelectorAll(".standings-filter th.ficon").forEach((e) => {
                    e.textContent = "Franchise";
                }),
                document
                    .querySelectorAll('.standings-filter td[class="#w"], .standings-filter th[class="#w"]')
                    .forEach((e) => {
                        e.className = "waiver-moves";
                    }),
                document
                    .querySelectorAll('.standings-filter td[class="#a"], .standings-filter th[class="#a"]')
                    .forEach((e) => {
                        e.className = "add-moves";
                    }),
                (function () {
                    let e = [],
                        t = {};
                    document.querySelectorAll(".standings-filter th").forEach((a) => {
                        const r = a.getAttribute("class");
                        r && (e.push(r), (t[r] = 1));
                    }),
                        document.querySelectorAll("#standings-settings div input").forEach((t) => {
                            const a = t.getAttribute("class");
                            if (a && !e.includes(a)) {
                                const e = t.closest(".ss_setting_ck");
                                e && e.remove();
                            }
                        });
                    for (const e in t)
                        if (t.hasOwnProperty(e) && "hidden" === localStorage.getItem(`${league_id}_${year}_${e}`)) {
                            document
                                .querySelectorAll(`.standings-filter .${e}`)
                                .forEach((e) => (e.style.display = "none"));
                            const t = document.getElementById(`${e}_checkbox`);
                            t && (t.checked = !1);
                        }
                })();
            const e = document.querySelector("#standings-settings");
            document.querySelectorAll(".standings-filter .standings-cog").forEach((t) => {
                t.addEventListener("click", () => {
                    document
                        .querySelectorAll("#standings-settings, .standings-settings_overlay")
                        .forEach((e) => (e.style.display = "block"));
                    try {
                        bodyScrollLock.disableBodyScroll(e);
                    } catch (e) {}
                });
            }),
                document.querySelectorAll(".standings-settings_overlay").forEach((t) => {
                    t.addEventListener("click", () => {
                        document
                            .querySelectorAll("#standings-settings, .standings-settings_overlay")
                            .forEach((e) => (e.style.display = "none"));
                        try {
                            bodyScrollLock.enableBodyScroll(e);
                        } catch (e) {}
                    });
                }),
                document.querySelectorAll(".ss_wrapper").forEach((e) => {
                    e.querySelector(".ss_setting_ck") || e.remove();
                });
        });
}
if (load_popupAddon_script) {
    if (void 0 === enableAddonNewPM) var enableAddonNewPM = !1;
    if (void 0 === enableAddonNewPost) var enableAddonNewPost = !1;
    if (void 0 === enableAddonPoll) var enableAddonPoll = !1;
    if (void 0 === enableAddonTrade) var enableAddonTrade = !1;
    function checkAddons() {
        if ("undefined" != typeof franchise_id)
            try {
                const e = document.querySelector("head");
                if (enableAddonNewPM || enableAddonNewPost || enableAddonPoll || enableAddonTrade) {
                    document
                        .querySelectorAll("#icon-wrapper-mobile, #icon-wrapper")
                        .forEach((e) => (e.style.display = "block"));
                }
                if (enableAddonNewPM && leagueAttributes.NewPrivateMessages > 0) {
                    const t =
                        "<style>li.notification-icon-new-mb-private-message{display:inline-block!important}</style>";
                    e.insertAdjacentHTML("beforeend", t);
                }
                if (enableAddonNewPost) {
                    if (document.querySelector("#message_board_check .timestamp .warning")) {
                        const t = "<style>li.notification-icon-new-mb-message{display:inline-block!important}</style>";
                        e.insertAdjacentHTML("beforeend", t);
                    }
                }
                if (enableAddonPoll && "0000" !== franchise_id && leagueAttributes.PollsToVoteIn > 0) {
                    if (
                        !Array.from(document.querySelectorAll("#poll tr.reportfooter td")).some((e) =>
                            e.textContent.includes("Closed")
                        )
                    ) {
                        const t = "<style>li.notification-icon-new-poll{display:inline-block!important}</style>";
                        e.insertAdjacentHTML("beforeend", t);
                    }
                }
                if (enableAddonTrade)
                    if ("0000" === franchise_id && leagueAttributes.PendingTradesForCommish > 0) {
                        const t = "<style>li.notification-pending-trade{display:inline-block!important}</style>";
                        e.insertAdjacentHTML("beforeend", t);
                    } else {
                        if (leagueAttributes.PendingTradesAwaitingCommishApproval > 0) {
                            const t =
                                "<style>li.notification-awaiting-approval{display:inline-block!important}</style>";
                            e.insertAdjacentHTML("beforeend", t);
                        }
                        if (leagueAttributes.PendingTradesToMe > 0) {
                            const t =
                                "<style>li.notification-outstandings-offers-received{display:inline-block!important}</style>";
                            e.insertAdjacentHTML("beforeend", t);
                        }
                    }
            } catch (e) {
                console.error("An error occurred in checkAddons:", e);
            }
    }
    document.addEventListener("DOMContentLoaded", function () {
        checkAddons();
    });
}
if (load_notification_script) {
    if (void 0 === checkEverySecond_notificationVisitor) var checkEverySecond_notificationVisitor = 60;
    if (void 0 === sameVisitor_notification_interval) var sameVisitor_notification_interval = 300;
    if (void 0 === trade_notification_interval) var trade_notification_interval = 3600;
    if (void 0 === notification_duration_seconds) var notification_duration_seconds = 2.5;
    if (void 0 === notification_stagger_seconds) var notification_stagger_seconds = 2.5;
    if (void 0 === notification_history_seconds) var notification_history_seconds = 60;
    if (void 0 === includeVisitorNotification) var includeVisitorNotification = !0;
    if (void 0 === includeTradeNotification) var includeTradeNotification = !1;
    if (void 0 === includeMsgBoardNotification) var includeMsgBoardNotification = !1;
    var originalPageLoadTimestamp = 1e3 * currentServerTime;
    function showNotificationBar(e, t) {
        if (void 0 === e) return !1;
        const a = 1e3 * notification_duration_seconds,
            r = t ? ` notification-${t.trim()}` : "",
            s = document.querySelectorAll(".notification-bar-content").length,
            o = s * a + s * (1e3 * notification_stagger_seconds);
        if (!document.getElementById("notification-bar-container")) {
            const e = document.createElement("div");
            (e.id = "notification-bar-container"), document.body.prepend(e);
        }
        const l = `<div class='notification-message notification-default${r}' style='text-align:center;'> ${e} </div>`,
            i = document.createElement("div");
        (i.id = "notification-bar0"),
            (i.className = "notification-bar-content"),
            (i.style.cssText = "display:none; width:100%; position: fixed; top:0; left:0; z-index: 99999;"),
            (i.innerHTML = l),
            document.getElementById("notification-bar-container").appendChild(i),
            setTimeout(() => {
                NotifictionslideDown(i, () => {
                    setTimeout(() => {
                        NotifictionslideUp(i, () => {
                            i.remove();
                        });
                    }, a);
                });
            }, o);
    }
    function NotifictionslideDown(e, t) {
        (e.style.display = "block"), (e.style.overflow = "hidden"), (e.style.height = "0");
        const a = e.scrollHeight + "px";
        (e.style.transition = "height 0.3s ease"),
            requestAnimationFrame(() => {
                e.style.height = a;
            }),
            e.addEventListener("transitionend", function handler() {
                (e.style.height = ""),
                    (e.style.overflow = ""),
                    e.removeEventListener("transitionend", handler),
                    t && t();
            });
    }
    function NotifictionslideUp(e, t) {
        (e.style.overflow = "hidden"),
            (e.style.height = e.scrollHeight + "px"),
            requestAnimationFrame(() => {
                (e.style.transition = "height 0.3s ease"), (e.style.height = "0");
            }),
            e.addEventListener("transitionend", function handler() {
                (e.style.display = "none"),
                    (e.style.height = ""),
                    (e.style.overflow = ""),
                    e.removeEventListener("transitionend", handler),
                    t && t();
            });
    }
    function parseVisitorsXMLNotification(e) {
        const t = e.getElementsByTagName("visit");
        Array.from(t).forEach((e) => {
            const t = e.getAttribute("franchise_id"),
                a = 1e3 * parseInt(e.getAttribute("timestamp"));
            let r = !1;
            if (
                ("undefined" != typeof franchise_id && t === franchise_id && (r = !0),
                !r && a > originalPageLoadTimestamp - 1e3 * notification_history_seconds)
            ) {
                const e = `mfl_visitor_${league_id}_${t}`,
                    r = parseInt(sessionStorage.getItem(e));
                if (!r || a - r > 1e3 * sameVisitor_notification_interval) {
                    sessionStorage.setItem(e, a);
                    showNotificationBar(`${franchiseDatabase[`fid_${t}`]?.name || "Unknown"} is now online`, "online");
                }
            }
        });
    }
    function updateOnlineStatusNotification() {
        const e = `${xmlBaseURL}${league_id}_visitors.xml?random=${get_random_string()}`,
            t = `${window.location.protocol}//${window.location.host}/fflnetdynamic${year}/${league_id}_visitors.xml?random=${get_random_string()}`,
            fetchVisitors = (e) => {
                try {
                    makeHttpRequest(e, "parseVisitorsXMLNotification", 1);
                } catch (t) {
                    console.error(`Failed to fetch visitors from ${e}:`, t);
                }
            };
        fetchVisitors(e), navigator.onLine || fetchVisitors(t);
    }
    document.addEventListener("DOMContentLoaded", function () {
        if ("undefined" != typeof franchise_id) {
            if (
                (includeVisitorNotification &&
                    (updateOnlineStatusNotification(),
                    (onlineStatusInterval_notification = setInterval(
                        updateOnlineStatusNotification,
                        1e3 * checkEverySecond_notificationVisitor
                    ))),
                includeMsgBoardNotification)
            )
                try {
                    document.querySelector("#message_board_check .timestamp .warning") &&
                        (!sessionStorage.getItem("mfl_messages_" + league_id) ||
                            parseInt(sessionStorage.getItem("mfl_messages_" + league_id)) < currentServerTime) &&
                        (showNotificationBar("You Have A New Message Board Post!", "messages"),
                        sessionStorage.setItem(
                            "mfl_messages_" + league_id,
                            currentServerTime + trade_notification_interval
                        ));
                } catch (e) {
                    console.error("Error checking message board notifications:", e);
                }
            includeTradeNotification &&
                (void 0 === leagueAttributes.PendingTradesForCommish && void 0 === leagueAttributes.PendingTradesToMe
                    ? fetch(`${baseURLDynamic}/${year}/home/${league_id}?MODULE=TRADES`)
                          .then((e) => {
                              if (e.ok) return e.text();
                              throw new Error("Network response was not OK");
                          })
                          .then((e) => {
                              const t = new DOMParser().parseFromString(e, "text/html");
                              if ("0000" === franchise_id) {
                                  const e = t.querySelector("#trades tr:nth-of-type(1) td:nth-of-type(1)");
                                  (e ? parseInt(e.textContent) : 0) > 0 &&
                                      (!sessionStorage.getItem("mfl_approval_" + league_id) ||
                                          parseInt(sessionStorage.getItem("mfl_approval_" + league_id)) <
                                              currentServerTime) &&
                                      (showNotificationBar("Trades awaiting commissioner approval!", "trade"),
                                      sessionStorage.setItem(
                                          "mfl_approval_" + league_id,
                                          currentServerTime + trade_notification_interval
                                      ));
                              } else {
                                  const e = t.querySelector("#trades tr:nth-of-type(1) td:nth-of-type(1)"),
                                      a = t.querySelector("#trades tr:nth-of-type(2) td:nth-of-type(1)"),
                                      r = t.querySelector("#trades tr:nth-of-type(3) td:nth-of-type(1)"),
                                      s = (e && parseInt(e.textContent), a ? parseInt(a.textContent) : 0);
                                  r && parseInt(r.textContent);
                                  s > 0 &&
                                      (!sessionStorage.getItem("mfl_trade_" + league_id) ||
                                          parseInt(sessionStorage.getItem("mfl_trade_" + league_id)) <
                                              currentServerTime) &&
                                      (showNotificationBar("You have been offered a trade!", "trade"),
                                      sessionStorage.setItem(
                                          "mfl_trade_" + league_id,
                                          currentServerTime + trade_notification_interval
                                      ));
                              }
                          })
                          .catch((e) => {
                              console.error("Error fetching trades:", e);
                          })
                    : "0000" === franchise_id
                      ? leagueAttributes.PendingTradesForCommish > 0 &&
                        (!sessionStorage.getItem("mfl_approval_" + league_id) ||
                            parseInt(sessionStorage.getItem("mfl_trade_" + league_id)) < currentServerTime) &&
                        (showNotificationBar("Trades awaiting commissioner approval!", "trade"),
                        sessionStorage.setItem(
                            "mfl_approval_" + league_id,
                            currentServerTime + trade_notification_interval
                        ))
                      : leagueAttributes.PendingTradesToMe > 0 &&
                        (!sessionStorage.getItem("mfl_trade_" + league_id) ||
                            parseInt(sessionStorage.getItem("mfl_trade_" + league_id)) < currentServerTime) &&
                        (showNotificationBar("You have been offered a trade!", "trade"),
                        sessionStorage.setItem(
                            "mfl_trade_" + league_id,
                            currentServerTime + trade_notification_interval
                        )));
        }
    });
}
if (
    load_rosters_script &&
    document.querySelector("#body_options_07") &&
    document.querySelector("td.two_column_layout")
) {
    const l = document.querySelector("#body_options_07"),
        n = l.querySelectorAll(".warning");
    if (
        Array.from(n).some(
            (e) =>
                e.textContent.includes("League") &&
                e.textContent.includes("settings") &&
                e.textContent.includes("prevent")
        )
    ) {
        const d = l.querySelector("table.two_column_layout");
        if (d) {
            d.classList.add("rosterRemove");
            const c = document.createElement("div");
            (c.id = "pre_load_html"),
                (c.innerHTML = '<h2 class="warning">League settings prevent roster report from being viewed.</h2>'),
                d.parentNode.insertBefore(c, d);
        }
        l.querySelectorAll(".rosterRemove, .weekly-navbar, .weekly-navbar-mobile, .reportnavigation").forEach((e) =>
            e.remove()
        );
    } else {
        if ((l.classList.add("rosters_display", "roster_base"), null == RosterEnableMedia)) var RosterEnableMedia = !0;
        if (null == SetCaptionIconWidth) var SetCaptionIconWidth = 250;
        if (null == SetLeftColumnWidth) var SetLeftColumnWidth = 150;
        if (null == showNav) var showNav = !0;
        if (null == tradeViewPermission) var tradeViewPermission = !0;
        if (null == showMFLdefaultBtn) var showMFLdefaultBtn = !1;
        if (null == leagueTypeNormal) var leagueTypeNormal = !0;
        if (null == fid_commish) var fid_commish = "0001";
        if (null == showAllstatus) var showAllstatus = !1;
        if (null == showCalculator) var showCalculator = !1;
        if (null == showTopCalculator) var showTopCalculator = !1;
        if (null == calcHeaderName) var calcHeaderName = "Give Up";
        if (null == showTradesDefault) var showTradesDefault = !1;
        if (null == hideTilClk) var hideTilClk = !1;
        if (null == rosCapdisplay) var rosCapdisplay = "4";
        if (void 0 === precision) var precision = 0;
        if (void 0 === salary_precision) var salary_precision = 2;
        if (null == rosEnableSwipe) var rosEnableSwipe = !1;
        let p = !0;
        (async () => {
            const e = `${baseURLDynamic}/${year}/options?L=${league_id}&O=05&PRINTER=1`;
            try {
                const t = await fetch(e, { credentials: "include" }),
                    a = await t.text(),
                    r = [...new DOMParser().parseFromString(a, "text/html").querySelectorAll("h3.warning")].map((e) =>
                        e.textContent.replace(/\s+/g, " ").trim().toLowerCase()
                    );
                r.some((e) => e.includes("trades are not allowed")) ||
                r.some((e) => e.includes("do not have trading rights"))
                    ? ((p = !1), $("#deadlinePassed").html("Trading Deadline Expired"))
                    : r.some((e) => e.includes("revoked your trading rights")) &&
                      ((p = !1), $("#deadlinePassed").html("Your Trading Rights Are Revoked")),
                    tradeViewPermission && showTradesDefault && tradeViewClickFunction();
            } catch (e) {}
        })();
        var fid_found = [],
            fid_first_found = "",
            fid_second_found = "";
        $("#body_options_07 table.two_column_layout")
            .addClass("rosterRemove")
            .find('caption a[class^="franchise_"],caption a[class^="myfranchise franchise_"]')
            .each(function () {
                (fid_found[
                    $(this)
                        .attr("class")
                        .substr($(this).attr("class").indexOf("franchise_") + 10, 4)
                ] = !0),
                    "" === fid_first_found
                        ? (fid_first_found = $(this)
                              .attr("class")
                              .substr($(this).attr("class").indexOf("franchise_") + 10, 4))
                        : "" === fid_second_found &&
                          (fid_second_found = $(this)
                              .attr("class")
                              .substr($(this).attr("class").indexOf("franchise_") + 10, 4));
            });
        var fid_middle = fid_first_found,
            fid_right = fid_first_found;
        function createRosters() {
            $("#body_options_07 table.two_column_layout").before(
                '<div id="pre_load_html"><form  method="post" id="proposeTradeForm"><input type="hidden" id="LEAGUE_ID" name="LEAGUE_ID" value="" /><input type="hidden" id="TRADE_EXPIRES_MONTH" name="TRADE_EXPIRES_MONTH" value="" /><input type="hidden" id="TRADE_EXPIRES_DAY" name="TRADE_EXPIRES_DAY" value="" /><input type="hidden" id="TRADE_EXPIRES_TIME" name="TRADE_EXPIRES_TIME" value="01" /><input type="hidden" id="TRADE_EXPIRES_YEAR" name="TRADE_EXPIRES_YEAR" value="" /><input type="hidden" id="FRANCHISE_ID" name="FRANCHISE_ID" value="" /><div id="MFLroster"><div id="rosterTradeLinkDIV" style="text-align:center"><input id="rosterViewTab" class="currenttab" style="text-transform:uppercase" value="Rosters" onclick="javascript:rosterViewClickFunction(); return false;" type="submit"><input id="tradeViewTab" class="inactivetab" style="text-transform: uppercase;" value="Trades" onclick="javascript:tradeViewClickFunction(); return false;" type="submit"><div id="appendRos" style="display:none"></div><h3 id="deadlinePassed" class="warning" style="display:none;padding-bottom:0.625rem"></h3></div><table align="center" style="table-layout:fixed;border-spacing:0.188rem 0"><tr><td class="mobile-view icon_column" style="vertical-align:top"><div id="roster_column_left"></div></td><td style="display:inline-table;width:100%;"><table id="rosSwipe" style="table-layout:fixed"><tr><td class="two_column left_column" style="vertical-align:top"><div id="roster_column_middle"></div></td><td class="two_column right_column" style="vertical-align:top"><div id="roster_column_right"></div></td></tr></table></td></tr></table><div id="messageBoxDIV" class="mobile-wrap"></div><div id="propseTradeButtonDIV" style="display:none"><p class="form_buttons"><input type="submit" value="Perform Trade" style="display:none;text-transform:uppercase" name="Perform" onclick="javascript:performTrade(); return false;" /><input type="submit" value="Propose Trade" style="text-transform:uppercase" name="Propose" onclick="javascript:proposeTrade(); return false;" /></p></div></div></form></div>'
            ),
                tradeViewPermission && "undefined" != typeof franchise_id
                    ? getAssetsJSON()
                    : $("#tradeViewTab").remove(),
                "undefined" == typeof franchise_id && (showMFLdefaultBtn || $("#rosterViewTab").remove()),
                0 == tradeViewPermission && 0 == showMFLdefaultBtn && $("#rosterViewTab").remove(),
                tradeViewPermission &&
                    (window.location.href.indexOf("WEEK=") < 0 ||
                        parseInt(window.location.href.substr(window.location.href.indexOf("&WEEK=") + 6, 2)) ===
                            completedWeek + 1 ||
                        ((p = !1),
                        $("#tradeViewTab,#deadlinePassed").remove(),
                        showMFLdefaultBtn || $("#rosterViewTab").remove())),
                showNav ||
                    $(
                        '#body_options_07 h3:contains("Display"),#body_options_07 .reportnavigation,#body_options_07 .weekly-navbar,#body_options_07 .weekly-navbar-mobile'
                    ).remove(),
                $("#body_options_07 .ownername").hide(),
                $("#body_options_07 table.two_column_layout")
                    .find('caption a[class^="franchise_"],caption a[class^="myfranchise franchise_"]')
                    .each(function () {
                        var e = $(this)
                            .attr("class")
                            .substr($(this).attr("class").indexOf("franchise_") + 10, 4);
                        $(this)
                            .closest("table")
                            .addClass("franchise_" + e);
                    }),
                $("#body_options_07 table.two_column_layout caption span:first-child")
                    .clone()
                    .appendTo("#roster_column_left"),
                $("#roster_column_left a").removeAttr("href"),
                $("#roster_column_left").wrapInner("<table><tbody>"),
                $("#roster_column_left span").wrap("<tr><td>"),
                $("#roster_column_left tr td span a").unwrap(),
                $("#body_options_07 table.two_column_layout td.two_column_layout table")
                    .appendTo("#roster_column_right")
                    .wrap('<div class="mobile-wrap">'),
                showMFLdefaultBtn &&
                    $("#appendRos").after(
                        '<input id="allViewTab" class="inactivetab" style="text-transform:uppercase" value="All Rosters" onclick="javascript:allViewClickFunction(); return false;" type="submit">'
                    ),
                $('#body_options_07 #roster_column_right table[class*="franchise_"]').attr("id", "roster"),
                $("#body_options_07 #roster_column_right table.franchise_" + fid_middle)
                    .closest(".mobile-wrap")
                    .clone()
                    .appendTo("#roster_column_middle"),
                $("#body_options_07 #roster_column_left a.franchise_" + fid_middle)
                    .closest("tr")
                    .remove(),
                $("#body_options_07 #roster_column_right table.franchise_" + fid_right)
                    .closest(".mobile-wrap")
                    .addClass("active"),
                $("#roster_column_left tr td a").each(function (e) {
                    $(this).closest("tr").addClass($(this).attr("class"));
                }),
                $("#MFLroster div.mobile-wrap table").each(function () {
                    $(this).after(
                        '<table class="homepagemodule report roster_assets"style="padding-top:0;display:none" cellspacing="1" align="center"><thead><tr class="assets"><th colspan="9" style="background:green;color:#fff">Other Trade Assets (<a class="show_toggler_asset" style="cursor:pointer;text-decoration:none;display:inline-block;color:#fff">Show</a><a class="hide_toggler_asset" style="cursor:pointer;display:none;text-decoration:none;color:#fff">Hide</a>)</th></tr></thead><tbody></tbody></table>'
                    );
                }),
                $("#body_options_07 table th:contains('Injured'):contains('Reserve')").parent().addClass("ir_firstTR"),
                $("#body_options_07 table th:contains('Total'):contains('on'):contains('IR')")
                    .parent()
                    .addClass("ir_lastTR"),
                $("#roster th.trade").length &&
                    ($("#roster tr").each(function (e) {
                        $('th[colspan="3"]').parent().addClass("remove_tr"), $("td.trade,th.trade").remove();
                    }),
                    $("#body_options_07 tr:contains('Salary'):contains('Adjustments:')").find("td:last").remove()),
                $("#body_options_07 table th:contains('Taxi')").not(":contains(on)").parent().addClass("Taxi_firstTR"),
                $("#body_options_07 table th:contains('on'):contains('Taxi'):contains('Squad')")
                    .parent()
                    .addClass("Taxi_lastTR"),
                $("#MFLroster")
                    .find('caption a[class^="franchise_"],caption a[class^="myfranchise franchise_"]')
                    .each(function () {
                        var e = $(this)
                            .attr("class")
                            .substr($(this).attr("class").indexOf("franchise_") + 10, 4);
                        $(this).closest(".mobile-wrap").attr("id", e);
                    }),
                $("#roster tr").has("b.warning").attr("id", "warning"),
                $("#roster tr#warning").each(function () {
                    $(this)
                        .closest("table")
                        .find('[id="' + this.id + '"]')
                        .not(":last")
                        .remove();
                }),
                loadTradeModule(),
                $("#MFLroster #roster th.drafted").each(function () {
                    $(this).text("Acq.");
                }),
                $("#MFLroster #roster th.points").each(function () {
                    $(this).text("Pts");
                }),
                $('div table td:contains("Salary"):contains("Adjustments")').css("text-align", "left"),
                $("body").on("click", ".show_toggler_asset", function () {
                    let e = $(this).closest("table");
                    e.find("tbody").show(),
                        e.find(".hide_toggler_asset").css("display", "inline-block"),
                        e.find(".show_toggler_asset").hide();
                }),
                $("body").on("click", ".hide_toggler_asset", function () {
                    let e = $(this).closest("table");
                    e.find("tbody").hide(),
                        e.find(".show_toggler_asset").css("display", "inline-block"),
                        e.find(".hide_toggler_asset").hide();
                }),
                $("#body_options_07 table tr.ir_firstTR").show(),
                $("#body_options_07 table tr.ir_firstTR th").prepend(
                    '<a class="show_toggler" style="cursor:pointer;float:right;text-decoration:none">Show </a><a class="hide_toggler" style="cursor:pointer;float:right;display:none;text-decoration:none">Hide </a>'
                ),
                $(".ir_lastTR").each(function () {
                    $(this).prevUntil(".ir_firstTR").addBack().addClass("IRtoggle");
                }),
                $("tr.remove_tr th:last-of-type").remove(),
                $("tr.remove_tr").removeClass("remove"),
                $("#body_options_07 table tr.Taxi_firstTR").show(),
                $("#body_options_07 table tr.Taxi_firstTR th").prepend(
                    '<a class="show_toggler_taxi" style="cursor:pointer;float:right;text-decoration:none">Show </a><a class="hide_toggler_taxi" style="cursor:pointer;float:right;display:none;text-decoration:none">Hide </a>'
                ),
                $(".Taxi_lastTR").each(function () {
                    $(this).prevUntil(".Taxi_firstTR").addBack().addClass("Taxitoggle");
                }),
                $("#roster_column_left > table > tbody > tr:first-child > td > a").addClass("rs_active"),
                $("#roster_column_left td a img").length ||
                    $('#roster_column_left td div[class*="franTeam_"]').length ||
                    $("#roster_column_left td").addClass("no_icons"),
                showAllstatus
                    ? ($(".show_toggler,.show_toggler_taxi").hide(),
                      $(".hide_toggler,.hide_toggler_taxi").show(),
                      $("body").on("click", ".show_toggler", function () {
                          $(this).closest("table").find(".IRtoggle,.IRtoggle td").show(),
                              $(this).closest("table").find(".hide_toggler").show(),
                              $(this).closest("table").find(".show_toggler").hide();
                      }),
                      $("body").on("click", ".hide_toggler", function () {
                          $(this).closest("table").find(".IRtoggle,.IRtoggle td").hide(),
                              $(this).closest("table").find(".hide_toggler").hide(),
                              $(this).closest("table").find(".show_toggler").show();
                      }),
                      $("body").on("click", ".show_toggler_taxi", function () {
                          $(this).closest("table").find(".Taxitoggle,.Taxitoggle td").show(),
                              $(this).closest("table").find(".hide_toggler_taxi").show(),
                              $(this).closest("table").find(".show_toggler_taxi").hide();
                      }),
                      $("body").on("click", ".hide_toggler_taxi", function () {
                          $(this).closest("table").find(".Taxitoggle,.Taxitoggle td").hide(),
                              $(this).closest("table").find(".hide_toggler_taxi").hide(),
                              $(this).closest("table").find(".show_toggler_taxi").show();
                      }))
                    : ($(".IRtoggle,.IRtoggle td").hide(),
                      $("body").on("click", ".show_toggler", function () {
                          $(this).closest("table").find(".IRtoggle,.IRtoggle td").show(),
                              $(this).closest("table").find(".hide_toggler").show(),
                              $(this).closest("table").find(".show_toggler").hide();
                      }),
                      $("body").on("click", ".hide_toggler", function () {
                          $(this).closest("table").find(".IRtoggle,.IRtoggle td").hide(),
                              $(this).closest("table").find(".hide_toggler").hide(),
                              $(this).closest("table").find(".show_toggler").show();
                      }),
                      $(".Taxitoggle,.Taxitoggle td").hide(),
                      $("body").on("click", ".show_toggler_taxi", function () {
                          $(this).closest("table").find(".Taxitoggle,.Taxitoggle td").show(),
                              $(this).closest("table").find(".hide_toggler_taxi").show(),
                              $(this).closest("table").find(".show_toggler_taxi").hide();
                      }),
                      $("body").on("click", ".hide_toggler_taxi", function () {
                          $(this).closest("table").find(".Taxitoggle,.Taxitoggle td").hide(),
                              $(this).closest("table").find(".hide_toggler_taxi").hide(),
                              $(this).closest("table").find(".show_toggler_taxi").show();
                      })),
                $(".rosterRemove").remove(),
                $("#MFLroster #roster")
                    .not(function (e) {
                        return $(this).find("td.player , tr.salary_warning_row").length;
                    })
                    .each(function (e, t) {
                        $(this).append(
                            '<tr><td colspan="12" class="warning">Franchise has no roster or hidden</td></tr>'
                        );
                    }),
                $("#roster_column_middle table caption span a,#roster_column_right table caption span a").each(
                    function () {
                        var e = $(this).attr("href"),
                            t = "fid_" + e.substr(e.indexOf("F=") + 2, 4);
                        switch (rosCapdisplay) {
                            case "0":
                                $(this).html('<img class="franchiseicon" src="' + franchiseDatabase[t].icon + '">'),
                                    $(this).closest("caption").addClass("withfranchiseicon");
                                break;
                            case "1":
                                $(this).html('<img class="franchiselogo" src="' + franchiseDatabase[t].logo + '">'),
                                    $(this).closest("caption").addClass("withfranchiseicon");
                                break;
                            case "2":
                                $(this).html(franchiseDatabase[t].name),
                                    $(this).closest("caption").removeClass("withfranchiseicon");
                                break;
                            case "3":
                                $(this).html(franchiseDatabase[t].abbrev),
                                    $(this).closest("caption").removeClass("withfranchiseicon");
                        }
                    }
                );
        }
        function rosterViewClickFunction() {
            $("#body_options_07 #noSwipe").attr("id", "rosSwipe"),
                $("#deadlinePassed").hide(),
                $("#body_options_07 #tradeViewTab").css("pointer-events", "all"),
                $("#body_options_07").addClass("rosters_display roster_base"),
                $("#body_options_07").removeClass("rosters_trades_display rosters_full_display"),
                showAllstatus
                    ? ($(".IRtoggle,.IRtoggle td,.Taxitoggle,.Taxitoggle td").show(),
                      $(".hide_toggler,.hide_toggler_taxi").show(),
                      $(".show_toggler,.show_toggler_taxi").hide())
                    : ($(".IRtoggle,.IRtoggle td,.Taxitoggle,.Taxitoggle td").hide(),
                      $(".hide_toggler,.hide_toggler_taxi").hide(),
                      $(".show_toggler,.show_toggler_taxi").show()),
                $("#rosterViewTab").hasClass("currenttab") ||
                    ($("#rosterViewTab").val("Rosters"),
                    $("#MFLroster .checkBox,#MFLroster .no-checkBox").remove(),
                    $("#propseTradeButtonDIV").hide(),
                    $("#MFLroster .checkBox,#MFLroster .no-checkBox").remove(),
                    $("#rosterViewTab").addClass("currenttab"),
                    $("#tradeViewTab,#allViewTab").addClass("inactivetab"),
                    $("#tradeViewTab,#allViewTab").removeClass("currenttab"),
                    $("#rosterViewTab").removeClass("inactivetab"),
                    $("#messageBoxDIV").html("")),
                showCalculator &&
                    ($(".reviewwrap , .savingsreview").remove(),
                    $(".roster_assets tbody").empty(),
                    (assets_appended = !1));
        }
        function tradeViewClickFunction() {
            if (
                ($("#body_options_07 #noSwipe").attr("id", "rosSwipe"),
                p ||
                    ($("#deadlinePassed").slideDown(1e3),
                    $("#tradeViewTab").addClass("currenttab"),
                    $("#rosterViewTab,#allViewTab").removeClass("currenttab"),
                    $("#rosterViewTab,#allViewTab").addClass("inactivetab"),
                    $("#tradeViewTab").removeClass("inactivetab")),
                p &&
                    ($("#body_options_07 #tradeViewTab").css("pointer-events", "none"),
                    assets_appended || appendAssets(),
                    showAllstatus
                        ? ($(".IRtoggle,.IRtoggle td,.Taxitoggle,.Taxitoggle td").show(),
                          $(".hide_toggler,.hide_toggler_taxi,.roster_assets tbody,.hide_toggler_asset").show(),
                          $(".show_toggler,.show_toggler_taxi").hide(),
                          $(".show_toggler_asset").css("display", "none"),
                          $(".hide_toggler_asset").css("display", "inline-block"))
                        : ($(".IRtoggle,.IRtoggle td,.Taxitoggle,.Taxitoggle td").hide(),
                          $(".hide_toggler,.hide_toggler_taxi,.roster_assets tbody,.hide_toggler_asset").hide(),
                          $(".show_toggler,.show_toggler_taxi").show(),
                          $(".show_toggler_asset").css("display", "inline-block")),
                    $("head").append(
                        '<style>.roster_assets input[type="text"]{min-width:0}.rosters_trades_display .roster_assets{display:table!important}</style>'
                    ),
                    ($("#tradeViewTab").hasClass("currenttab") && !0 !== showTradesDefault) ||
                        ("undefined" != typeof franchise_id &&
                            (showTradeDetails(),
                            $("#propseTradeButtonDIV").show(),
                            $("#tradeViewTab").addClass("currenttab"),
                            $("#rosterViewTab,#allViewTab").addClass("inactivetab"),
                            $("#tradeViewTab").removeClass("inactivetab"),
                            $("#rosterViewTab,#allViewTab").removeClass("currenttab"),
                            $("#roster_column_middle div:visible tr").eq(0).show(),
                            $("#roster_column_right div").each(function () {
                                var e = $("tr");
                                $(this).find(e).eq(0).show();
                            }),
                            $("#messageBoxDIV").html(
                                '<table class="report" align="center"><caption><span>Trade Proposal</span></caption><tbody><tr><th>Optional Message to Include With Trade Offer Email:</th></tr><tr><td><textarea cols="70" rows="5" name="msg"></textarea></td></tr></tbody></table>'
                            )),
                        "undefined" != typeof franchise_id &&
                            "" !== franchise_id &&
                            "0000" === franchise_id &&
                            $("[name=Perform]").show()),
                    showCalculator))
            ) {
                $("head").append(
                    "<style>#tradereview td {vertical-align:top;}#tradereview table th {border:0;}#tradereview table td {text-align:right;}tr.total_salary_row .total, tr.salary_cap_row .difference {text-align:left!important;}.opptradereview caption{display:none;}.savingsreview {padding:0.625rem 0;display:none;position:fixed;z-index:99999;top:auto;bottom:0;left:0;width:100%;box-shadow: 0 0 0.625rem #000}.savingsreview table {width:auto;margin:auto;}.savingsreview th {display:none;min-width:3.75rem;}#tradereview td{white-space:nowrap}.difference{white-space:nowrap}</style>"
                );
                $("#body_options_07 #messageBoxDIV").before(
                    '<div class="mobile-wrap reviewwrap"><table class="report" id="tradereview"><caption><span>Trade Review</span></caption><tr><td width="50%"><table class="mytradereview"></table></td><td width="50%"><table class="opptradereview"></table></td></tr></table></div><div class="savingsreview"><div class="mobile-wrap" style="width:min-content;margin: 0 auto"><table></table></div></div>'
                ),
                    $("#roster_column_middle #roster, #roster_column_middle .roster_assets").addClass("myroster"),
                    $("#roster_column_right #roster, #roster_column_right .roster_assets").addClass("opproster"),
                    $("#roster_column_middle #roster > tbody > tr:first")
                        .clone()
                        .addClass("tradereviewheader")
                        .prependTo("#tradereview td table, .savingsreview table"),
                    $(".myroster caption").clone().prependTo(".mytradereview"),
                    $(".opproster caption").clone().prependTo(".opptradereview"),
                    $("#body_options_07 .opptradereview a.franchise_" + fid_right)
                        .closest("caption")
                        .show(),
                    $("#roster_column_middle #roster > tbody > tr:first")
                        .clone()
                        .addClass("tradetotal total_salary_row")
                        .appendTo("#tradereview td table"),
                    $("#roster_column_middle #roster > tbody > tr:first")
                        .clone()
                        .addClass("tradedifference salary_cap_row")
                        .appendTo("#tradereview td table, .savingsreview table"),
                    $(".tradetotal th, .tradedifference th").html(""),
                    $(".savingsreview .player").html(""),
                    $(".tradetotal .player").addClass("total").removeClass("player").html("Total"),
                    $(".tradetotal .salary").addClass("salarytotal").removeClass("salary"),
                    $(".tradetotal .contractyear").addClass("yeartotal").removeClass("contractyear"),
                    $(".tradetotal .points").addClass("pointstotal").removeClass("points"),
                    $(".tradedifference .player").addClass("difference").removeClass("player").html(calcHeaderName),
                    $(".tradedifference .salary").addClass("salarydifference").removeClass("salary"),
                    $(".tradedifference .contractyear").addClass("yeardifference").removeClass("contractyear"),
                    $(".tradedifference .points").addClass("pointsdifference").removeClass("points"),
                    $("#tradereview table tr th:first-child").remove(),
                    showTopCalculator
                        ? hideTilClk && showCalculator
                            ? $(".savingsreview").hide()
                            : $(
                                  ".savingsreview,.savingsreview .player, .savingsreview .difference, .savingsreview .salary, .savingsreview .salarydifference, .savingsreview .contractyear, .savingsreview .yeardifference, .savingsreview .points, .savingsreview .pointsdifference"
                              ).show()
                        : $(".savingsreview").remove(),
                    $(".savingsreview td.pointsdifference").length > 1 &&
                        $(".savingsreview td.pointsdifference:last-child").hide(),
                    $(".report input").on("change", function () {
                        if (
                            (hideTilClk &&
                                showCalculator &&
                                $(
                                    ".reviewwrap,.savingsreview,.savingsreview .player, .savingsreview .difference, .savingsreview .salary, .savingsreview .salarydifference, .savingsreview .contractyear, .savingsreview .yeardifference, .savingsreview .points, .savingsreview .pointsdifference"
                                ).show(),
                            $(this).is(":checked"))
                        ) {
                            var e = "player" + $(this).attr("value");
                            "undefined" != typeof hasRosterImages &&
                            hasRosterImages &&
                            "undefined" != typeof showPlayerImages &&
                            showPlayerImages
                                ? $(this)
                                      .closest("tr")
                                      .addClass(e + " playerrow cus_image")
                                : $(this)
                                      .closest("tr")
                                      .addClass(e + " playerrow");
                            var t = $(this).closest("tr").clone();
                            if (
                                (t.find("td.checkBox").remove(),
                                t.find("img.playerPopupIcon").remove(),
                                t.find(".player a").attr("target", "_blank"),
                                t.removeClass("oddtablerow eventablerow newposition Taxitoggle IRtoggle"),
                                setTimeout(function () {
                                    $("#tradereview table tr:nth-child(odd)")
                                        .removeClass("eventablerow newposition Taxitoggle IRtoggle")
                                        .addClass("oddtablerow"),
                                        $("#tradereview table tr:nth-child(even)")
                                            .removeClass("oddtablerow newposition Taxitoggle IRtoggle")
                                            .addClass("eventablerow");
                                }, 1),
                                $(this).closest("table").hasClass("myroster"))
                            ) {
                                $(".mytradereview tr.playerrow").length
                                    ? $(".mytradereview .playerrow").last().after(t)
                                    : $(".mytradereview .tradereviewheader").after(t);
                                try {
                                    MFLPlayerPopupNewsIcon("tradereview .mytradereview");
                                } catch (e) {}
                            } else {
                                $(".opptradereview tr.playerrow").length
                                    ? $(".opptradereview .playerrow").last().after(t)
                                    : $(".opptradereview .tradereviewheader").after(t);
                                try {
                                    MFLPlayerPopupNewsIcon("tradereview .opptradereview");
                                } catch (e) {}
                            }
                        } else
                            $("#tradereview")
                                .find("tr.player" + $(this).attr("value"))
                                .remove(),
                                setTimeout(function () {
                                    $("#tradereview table tr:nth-child(odd)")
                                        .removeClass("eventablerow newposition Taxitoggle IRtoggle")
                                        .addClass("oddtablerow"),
                                        $("#tradereview table tr:nth-child(even)")
                                            .removeClass("oddtablerow newposition Taxitoggle IRtoggle")
                                            .addClass("eventablerow");
                                }, 1);
                        var a = 0,
                            r = 0;
                        $(".mytradereview .salary").each(function () {
                            var e = $.trim($(this).text());
                            e && ((e = parseFloat(e.replace(/^\$/, ""))), (a += isNaN(e) ? 0 : e));
                        }),
                            $(".opptradereview .salary").each(function () {
                                var e = $.trim($(this).text());
                                e && ((e = parseFloat(e.replace(/^\$/, ""))), (r += isNaN(e) ? 0 : e));
                            });
                        var s = a.toFixed(salary_precision),
                            o = r.toFixed(salary_precision);
                        $(".mytradereview .salarytotal").html("$" + s), $(".opptradereview .salarytotal").html("$" + o);
                        var l = o - s,
                            i = (s - o).toFixed(salary_precision),
                            n = l.toFixed(salary_precision);
                        $(".mytradereview .salarydifference, .savingsreview .salarydifference").html("$" + i),
                            $(".opptradereview .salarydifference").html("$" + n);
                        var d = 0,
                            c = 0;
                        $(".mytradereview .contractyear").each(function () {
                            var e = $.trim($(this).text());
                            e && ((e = parseFloat(e.replace(/^\$/, ""))), (d += isNaN(e) ? 0 : e));
                        }),
                            $(".opptradereview .contractyear").each(function () {
                                var e = $.trim($(this).text());
                                e && ((e = parseFloat(e.replace(/^\$/, ""))), (c += isNaN(e) ? 0 : e));
                            });
                        var p = d - c,
                            h = c - d;
                        $(".mytradereview .yeartotal").html(d),
                            $(".opptradereview .yeartotal").html(c),
                            $(".mytradereview .yeardifference, .savingsreview .yeardifference").html(p),
                            $(".opptradereview .yeardifference").html(h);
                        var _ = 0,
                            m = 0;
                        $(".mytradereview .points a").each(function () {
                            var e = $.trim($(this).text());
                            e && ((e = parseFloat(e.replace(/^\$/, ""))), (_ += isNaN(e) ? 0 : e));
                        }),
                            $(".opptradereview .points a").each(function () {
                                var e = $.trim($(this).text());
                                e && ((e = parseFloat(e.replace(/^\$/, ""))), (m += isNaN(e) ? 0 : e));
                            });
                        var y = _.toFixed(precision),
                            u = m.toFixed(precision);
                        $(".mytradereview .pointstotal").html(y), $(".opptradereview .pointstotal").html(u);
                        var f = u - y,
                            b = (y - u).toFixed(precision),
                            g = f.toFixed(precision);
                        $(".mytradereview .pointsdifference, .savingsreview .pointsdifference").html(b),
                            $(".opptradereview .pointsdifference").html(g),
                            hideTilClk &&
                                showCalculator &&
                                ($("#tradereview tr.playerrow").length
                                    ? $(".reviewwrap , .savingsreview , #messageBoxDIV , #propseTradeButtonDIV").show()
                                    : $(
                                          ".reviewwrap , .savingsreview , #messageBoxDIV , #propseTradeButtonDIV"
                                      ).hide());
                        try {
                            MFLPlayerPopupNewsIcon();
                        } catch (e) {}
                    }),
                    hideTilClk && showCalculator
                        ? $(".reviewwrap , .savingsreview , #messageBoxDIV , #propseTradeButtonDIV").hide()
                        : $(".reviewwrap , .savingsreview , #messageBoxDIV , #propseTradeButtonDIV").show();
            }
        }
        function getRosterPlayerIdFromHref(e) {
            if (!e) return null;
            const t = e.match(/[?&]P=(\d+)/);
            if (t) return t[1];
            const a = e.match(/launch_player_modal\(\s*'(\d+)'\s*,\s*'(\d+)'\s*\)/i);
            return a ? a[2] : null;
        }
        function showTradeDetails() {
            $("#body_options_07").addClass("rosters_trades_display roster_base"),
                $("#body_options_07").removeClass("rosters_full_display rosters_display"),
                "undefined" != typeof hasRosterImages &&
                hasRosterImages &&
                "undefined" != typeof showPlayerImages &&
                showPlayerImages
                    ? ($(
                          '.rosters_trades_display #roster td:first-child:not(.player,.playerImg,.checkBox,.cus_player_image),.rosters_trades_display div table td.player:contains("Salary"):contains("Adjustments")'
                      )
                          .removeClass("player")
                          .parent()
                          .prepend('<td class="no-checkBox"></td>'),
                      $(".rosters_trades_display #roster th:first-child:not(.player,.checkBox)")
                          .removeClass("player")
                          .parent()
                          .prepend('<th style="width:10%;min-width:2.5rem;" class="no-checkBox"></th>'),
                      $("#MFLroster .player+th")
                          .parent()
                          .prepend(
                              '<th style="width:10%;min-width:2.5rem;" class="checkBox" align="center"><i class="fa-regular fa-check" aria-hidden="true"></i></th>'
                          ))
                    : ($(
                          '.rosters_trades_display #roster td:first-child:not(.player,.checkBox,.playerImg,.cus_player_image),.rosters_trades_display div table td.player:contains("Salary"):contains("Adjustments")'
                      )
                          .removeClass("player")
                          .parent()
                          .prepend('<td class="no-checkBox"></td>'),
                      $(".rosters_trades_display #roster th:first-child:not(.player,.checkBox)")
                          .removeClass("player")
                          .parent()
                          .prepend('<th style="width:10%;min-width:2.5rem;" class="no-checkBox"></th>'),
                      $("#MFLroster .player+th")
                          .parent()
                          .prepend(
                              '<th style="width:10%;min-width:2.5rem;" class="checkBox" align="center"><i class="fa-regular fa-check" aria-hidden="true"></i></th>'
                          )),
                $("#roster_column_middle tr,#roster_column_right tr").each(function () {
                    const e = $(this),
                        t = e.children("td.player");
                    if (0 === t.length) return;
                    const a = t
                        .find("a")
                        .filter(function () {
                            const e = this.getAttribute("href") || "";
                            return e.includes("P=") || /^javascript:\s*launch_player_modal\(/i.test(e);
                        })
                        .first();
                    if (0 === a.length) return;
                    const r = getRosterPlayerIdFromHref(a.attr("href") || "");
                    if (r && !e.find("td.checkBox").length) {
                        const t = `pid_${r}`;
                        e.prepend(
                            `<td class="checkBox" align="center"><input type="checkbox" id="${t}" value="${r}"><label for="${t}"></label></td>`
                        );
                    }
                }),
                $(".roster_assets").has("tbody:empty").remove();
        }
        function allViewClickFunction() {
            $("#body_options_07 #rosSwipe").attr("id", "noSwipe"),
                $("#body_options_07 #tradeViewTab").css("pointer-events", "all"),
                showAllstatus
                    ? ($(".IRtoggle,.IRtoggle td,.Taxitoggle,.Taxitoggle td").show(),
                      $(".hide_toggler,.hide_toggler_taxi").show(),
                      $(".show_toggler,.show_toggler_taxi").hide())
                    : ($(".IRtoggle,.IRtoggle td,.Taxitoggle,.Taxitoggle td").hide(),
                      $(".hide_toggler,.hide_toggler_taxi").hide(),
                      $(".show_toggler,.show_toggler_taxi").show()),
                $("#body_options_07").removeClass("rosters_trades_display rosters_display roster_base"),
                $("#allViewTab").hasClass("currenttab") ||
                    ($("#body_options_07").addClass("rosters_full_display"),
                    $("#rosterViewTab").val("Return to tabbed rosters"),
                    $("#deadlinePassed").hide(),
                    $("#MFLroster .checkBox,#MFLroster .no-checkBox").remove(),
                    $("#propseTradeButtonDIV").hide(),
                    $("#MFLroster .checkBox,#MFLroster .no-checkBox").remove(),
                    $("#tradeViewTab").addClass("inactivetab"),
                    $("#tradeViewTab,#rosterViewTab").removeClass("currenttab"),
                    $("#rosterViewTab").removeClass("inactivetab"),
                    $("#messageBoxDIV").html("")),
                showCalculator &&
                    ($(".reviewwrap , .savingsreview").remove(),
                    $(".roster_assets tbody").empty(),
                    (assets_appended = !1));
        }
        function loadTradeModule() {
            jQuery("#rosterTradeLinkDIV").show();
            var e = 1e3 * currentServerTime + 6048e5,
                t = new Date(e);
            jQuery("#proposeTradeForm").attr("action", baseURLDynamic + "/" + year + "/trade_offer"),
                jQuery("#LEAGUE_ID").val(league_id),
                jQuery("#TRADE_EXPIRES_MONTH").val(t.getMonth()),
                jQuery("#TRADE_EXPIRES_DAY").val(t.getDate()),
                jQuery("#TRADE_EXPIRES_YEAR").val(t.getFullYear());
        }
        function proposeTrade() {
            tradeAction("Perform");
        }
        function performTrade() {
            tradeAction("Propose");
        }
        function tradeAction(e) {
            var t = jQuery("#roster_column_right div:visible").attr("id"),
                a = jQuery("#roster_column_middle div:visible").attr("id");
            jQuery("#roster_column_middle input:checkbox:checked"),
                jQuery("#roster_column_right #" + t + " input:checkbox:checked");
            if (validateTradeForm()) {
                jQuery("#roster_column_right div:not(:visible) input:checkbox").prop("checked", !1),
                    jQuery("#FRANCHISE_ID").val(a + "," + t),
                    jQuery("#roster_column_middle input:checkbox:checked").attr("name", "drop" + a),
                    jQuery("#roster_column_right input:checkbox:checked").attr("name", "drop" + t);
                var r = jQuery("#proposeTradeForm").attr("action");
                return (
                    (r = r + "?" + e + "=" + jQuery("name=" + e).val()),
                    jQuery("#proposeTradeForm").attr("action", r),
                    jQuery("#proposeTradeForm").submit(),
                    !0
                );
            }
        }
        function validateTradeForm() {
            return (
                jQuery("#roster_column_right div:not(:visible) input:checkbox").prop("checked", !1),
                0 != jQuery("#MFLroster input:checkbox:checked").length ||
                    (alert("Please select Players for trade"), !1)
            );
        }
        "undefined" != typeof franchise_id &&
            (fid_middle = void 0 !== fid_commish && "0000" === franchise_id ? fid_commish : franchise_id),
            fid_found.hasOwnProperty(fid_middle) || (fid_middle = fid_first_found),
            fid_right === fid_middle && (fid_right = fid_second_found),
            $("head").append(
                "<style>#roster_column_left td.no_icons a{padding:0.313rem;border-radius:0.313rem;margin-top:0.188rem;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:9.063rem}#roster_column_left td.no_icons a{max-width:" +
                    (SetLeftColumnWidth - 5) +
                    (useREM ? "rem" : "px") +
                    "}#roster_column_left > table > tbody > tr:first-child > td.no_icons > a{margin-top:0}.roster_assets thead a:before{content:'.';display:block;width:100%;position:absolute;left:0;z-index:99999;color:transparent}.roster_assets thead th{position:relative}#messageBoxDIV textarea{width:100%}tr.Taxi_firstTR th{position:relative}tr.Taxi_firstTR a:before{content:'.';display:block;width:100%;position:absolute;left:0;z-index:99999;color:transparent}tr.ir_firstTR th{position:relative}tr.ir_firstTR a:before{content:'.';display:block;width:100%;position:absolute;left:0;z-index:99999;color:transparent}.rosters_trades_display #roster input[type=checkbox]{-ms-transform: scale(1.2);-moz-transform: scale(1.2);-webkit-transform: scale(1.2);-o-transform: scale(1.2);margin:0.125rem}a.show_toggler:after,a.show_toggler_taxi:after{font-family:'Font Awesome 6 Pro';margin-right:0.188rem;display:inline-flex;content:'\\f0fe'}a.hide_toggler:after,a.hide_toggler_taxi:after{font-family:'Font Awesome 6 Pro';margin-right:0.188rem;display:inline-flex;content:'\\f146'}td.icon_column div[class*='franTeam_']+a{display:none}#pre_load_html #propseTradeButtonDIV,#pre_load_html #MFLroster #messageBoxDIV,#rosterTradeLinkDIV,.mobile-wrap.reviewwrap{margin-left:" +
                    (SetLeftColumnWidth + 5) +
                    (useREM ? "rem" : "px") +
                    ";margin-right:0.313rem}td.icon_column .franchiseicon{padding:0 0.313rem;padding:0 .313rem;max-height:5rem;max-height:5rem;display:block;margin:0 auto;height:auto;width:auto}#roster caption.withfranchiseicon .franchiseicon{height:auto;max-width:100%;max-height:5rem;max-height:5rem}#rosterTradeLinkDIV input.inactivetab{opacity:.5}#roster caption.withfranchiseicon{padding-left:0.188rem;padding-left:.188rem;padding-right:0.188rem;padding-right:.188rem}#roster_column_left a:hover,#roster_column_left tr:hover,.hideShowAssets{cursor:pointer}td.icon_column{width:" +
                    SetLeftColumnWidth +
                    (useREM ? "rem" : "px") +
                    ";padding:0}td.icon_column .franchiseicon{max-width:" +
                    SetLeftColumnWidth +
                    (useREM ? "rem" : "px") +
                    "}#roster caption.withfranchiseicon .franchiseicon {width:100%;max-width:" +
                    SetCaptionIconWidth +
                    (useREM ? "rem" : "px") +
                    "}#MFLroster #propseTradeButtonDIV p.form_buttons{margin-top:0}#roster_column_left td img+a{display:none}@media only screen and (max-width: 48em){#MFLroster .mobile-view{float:none}}#rosterTradeLinkDIV input.inactivetab:hover{opacity:1}.roster_base #roster_column_right .mobile-wrap{display:none}.roster_base #roster_column_right .mobile-wrap.active{display:block}</style>"
            ),
            leagueTypeNormal
                ? $("head").append(
                      "<style>.roster_base #rosSwipe .mobile-wrap{margin:0 0.313rem 0.625rem}.roster_base #rosSwipe #roster_column_middle .mobile-wrap{margin-left:0}.roster_base #rosSwipe #roster_column_right .mobile-wrap{margin-right:0}</style>"
                  )
                : $("head").append(
                      "<style>#pre_load_html .mobile-view{width:100%!important;float:left}td.two_column{display:inline-table;width:50%}#roster_column_left{overflow:auto;-webkit-overflow-scrolling:touch}#MFLroster table{text-align:center}#roster_column_left tr{display:table-cell}td.icon_column{padding:0.625rem 0.313rem!important}#pre_load_html #MFLroster #messageBoxDIV,#pre_load_html #propseTradeButtonDIV,#rosterTradeLinkDIV,.mobile-wrap.reviewwrap{margin-left:0.313rem!important;margin-right:0.313rem!important}#roster_column_left{margin:0 auto}#pre_load_html .mobile-view{display:flex}</style>"
                  ),
            1 == RosterEnableMedia &&
                0 == leagueTypeNormal &&
                $("head").append(
                    '<style>@media only screen and (max-width:65.625em){#roster tr td:nth-of-type(8),#roster tr th:nth-of-type(8),#roster tr th[colspan="2"]+th+th+th+th+th,#roster tr th[colspan="3"]+th+th+th+th+th,#roster tr th[colspan="4"]+th+th+th+th+th,.rosters_trades_display #roster tr td:nth-of-type(9),.rosters_trades_display #roster tr th:nth-of-type(9),.rosters_trades_display #roster tr th[colspan="2"]+th+th+th+th+th,.rosters_trades_display #roster tr th[colspan="3"]+th+th+th+th+th,.rosters_trades_display #roster tr th[colspan="4"]+th+th+th+th+th{display:none!important}.rosters_trades_display #roster tr td:nth-of-type(8),.rosters_trades_display #roster tr th:nth-of-type(8){display:table-cell!important}}@media only screen and (max-width:56.25em){#roster tr td:nth-of-type(7),#roster tr th:nth-of-type(7),#roster tr th[colspan="2"]+th+th+th+th,#roster tr th[colspan="3"]+th+th+th+th,#roster tr th[colspan="4"]+th+th+th+th,.rosters_trades_display #roster tr td:nth-of-type(8),.rosters_trades_display #roster tr th:nth-of-type(8),.rosters_trades_display #roster tr th[colspan="2"]+th+th+th+th,.rosters_trades_display #roster tr th[colspan="3"]+th+th+th+th,.rosters_trades_display #roster tr th[colspan="4"]+th+th+th+th{display:none!important}.rosters_trades_display #roster tr td:nth-of-type(7),.rosters_trades_display #roster tr th:nth-of-type(7){display:table-cell!important}}@media only screen and (max-width:53.125em){#roster tr td:nth-of-type(6),#roster tr th:nth-of-type(6),#roster tr th[colspan="2"]+th+th+th,#roster tr th[colspan="3"]+th+th+th,#roster tr th[colspan="4"]+th+th+th,.rosters_trades_display #roster tr td:nth-of-type(7),.rosters_trades_display #roster tr th:nth-of-type(7),.rosters_trades_display #roster tr th[colspan="2"]+th+th+th,.rosters_trades_display #roster tr th[colspan="3"]+th+th+th,.rosters_trades_display #roster tr th[colspan="4"]+th+th+th{display:none!important}.rosters_trades_display #roster tr td:nth-of-type(6),.rosters_trades_display #roster tr th:nth-of-type(6){display:table-cell!important}}@media only screen and (max-width:46.875em){#roster tr td:nth-of-type(5),#roster tr th:nth-of-type(5),#roster tr th[colspan="2"]+th+th,#roster tr th[colspan="3"]+th+th,#roster tr th[colspan="4"]+th+th,.rosters_trades_display #roster tr td:nth-of-type(6),.rosters_trades_display #roster tr th:nth-of-type(6),.rosters_trades_display #roster tr th[colspan="2"]+th+th,.rosters_trades_display #roster tr th[colspan="3"]+th+th,.rosters_trades_display #roster tr th[colspan="4"]+th+th{display:none!important}.rosters_trades_display #roster tr td:nth-of-type(5),.rosters_trades_display #roster tr th:nth-of-type(5){display:table-cell!important}}@media only screen and (max-width:40em){.rosters_full_display td.two_column div.mobile-wrap{width: 100%!important;margin:0 0 0.625rem 0!important}td.two_column{width:100%}#roster tr td:nth-of-type(8),#roster tr th:nth-of-type(8),#roster tr th[colspan="2"]+th+th+th+th+th,#roster tr th[colspan="3"]+th+th+th+th+th,#roster tr th[colspan="4"]+th+th+th+th+th,.rosters_trades_display #roster tr td:nth-of-type(9),.rosters_trades_display #roster tr th:nth-of-type(9),.rosters_trades_display #roster tr th[colspan="2"]+th+th+th+th+th,.rosters_trades_display #roster tr th[colspan="3"]+th+th+th+th+th,.rosters_trades_display #roster tr th[colspan="4"]+th+th+th+th+th{display:table-cell!important}#roster tr td:nth-of-type(7),#roster tr th:nth-of-type(7),#roster tr th[colspan="2"]+th+th+th+th,#roster tr th[colspan="3"]+th+th+th+th,#roster tr th[colspan="4"]+th+th+th+th,.rosters_trades_display #roster tr td:nth-of-type(8),.rosters_trades_display #roster tr th:nth-of-type(8),.rosters_trades_display #roster tr th[colspan="2"]+th+th+th+th,.rosters_trades_display #roster tr th[colspan="3"]+th+th+th+th,.rosters_trades_display #roster tr th[colspan="4"]+th+th+th+th{display:table-cell!important}#roster tr td:nth-of-type(6),#roster tr th:nth-of-type(6),#roster tr th[colspan="2"]+th+th+th,#roster tr th[colspan="3"]+th+th+th,#roster tr th[colspan="4"]+th+th+th,.rosters_trades_display #roster tr td:nth-of-type(7),.rosters_trades_display #roster tr th:nth-of-type(7),.rosters_trades_display #roster tr th[colspan="2"]+th+th+th,.rosters_trades_display #roster tr th[colspan="3"]+th+th+th,.rosters_trades_display #roster tr th[colspan="4"]+th+th+th{display:table-cell!important}#roster tr td:nth-of-type(5),#roster tr th:nth-of-type(5),#roster tr th[colspan="2"]+th+th,#roster tr th[colspan="3"]+th+th,#roster tr th[colspan="4"]+th+th,.rosters_trades_display #roster tr td:nth-of-type(6),.rosters_trades_display #roster tr th:nth-of-type(6),.rosters_trades_display #roster tr th[colspan="2"]+th+th,.rosters_trades_display #roster tr th[colspan="3"]+th+th,.rosters_trades_display #roster tr th[colspan="4"]+th+th{display:table-cell!important}}@media only screen and (max-width:33.75em){#roster tr td:nth-of-type(8),#roster tr th:nth-of-type(8),#roster tr th[colspan="2"]+th+th+th+th+th,#roster tr th[colspan="3"]+th+th+th+th+th,#roster tr th[colspan="4"]+th+th+th+th+th,.rosters_trades_display #roster tr td:nth-of-type(9),.rosters_trades_display #roster tr th:nth-of-type(9),.rosters_trades_display #roster tr th[colspan="2"]+th+th+th+th+th,.rosters_trades_display #roster tr th[colspan="3"]+th+th+th+th+th,.rosters_trades_display #roster tr th[colspan="4"]+th+th+th+th+th{display:none!important}.rosters_trades_display #roster tr td:nth-of-type(8),.rosters_trades_display #roster tr th:nth-of-type(8){display:table-cell!important}}@media only screen and (max-width:31.25em){#roster tr td:nth-of-type(7),#roster tr th:nth-of-type(7),#roster tr th[colspan="2"]+th+th+th+th,#roster tr th[colspan="3"]+th+th+th+th,#roster tr th[colspan="4"]+th+th+th+th,.rosters_trades_display #roster tr td:nth-of-type(8),.rosters_trades_display #roster tr th:nth-of-type(8),.rosters_trades_display #roster tr th[colspan="2"]+th+th+th+th,.rosters_trades_display #roster tr th[colspan="3"]+th+th+th+th,.rosters_trades_display #roster tr th[colspan="4"]+th+th+th+th{display:none!important}.rosters_trades_display #roster tr td:nth-of-type(7),.rosters_trades_display #roster tr th:nth-of-type(7){display:table-cell!important}}@media only screen and (max-width:28.125em){#roster tr td:nth-of-type(6),#roster tr th:nth-of-type(6),#roster tr th[colspan="2"]+th+th+th,#roster tr th[colspan="3"]+th+th+th,#roster tr th[colspan="4"]+th+th+th,.rosters_trades_display #roster tr td:nth-of-type(7),.rosters_trades_display #roster tr th:nth-of-type(7),.rosters_trades_display #roster tr th[colspan="2"]+th+th+th,.rosters_trades_display #roster tr th[colspan="3"]+th+th+th,.rosters_trades_display #roster tr th[colspan="4"]+th+th+th{display: table-cell !important}.rosters_trades_display #roster tr td:nth-of-type(6),.rosters_trades_display #roster tr th:nth-of-type(6){display:table-cell!important}}@media only screen and (max-width:25em){#roster tr td:nth-of-type(5),#roster tr th:nth-of-type(5),#roster tr th[colspan="2"]+th+th,#roster tr th[colspan="3"]+th+th,#roster tr th[colspan="4"]+th+th,.rosters_trades_display #roster tr td:nth-of-type(6),.rosters_trades_display #roster tr th:nth-of-type(6),.rosters_trades_display #roster tr th[colspan="2"]+th+th,.rosters_trades_display #roster tr th[colspan="3"]+th+th,.rosters_trades_display #roster tr th[colspan="4"]+th+th{display:none!important}.rosters_trades_display #roster tr td:nth-of-type(5),.rosters_trades_display #roster tr th:nth-of-type(5){display:table-cell!important}}@media only screen and (max-width: 56.25em){#roster caption{font-size:1rem}.roster_assets th,.roster_assets td,#roster td,#roster th{font-size:0.813rem}}@media only screen and (max-width: 50em){#roster caption{font-size:1rem}.roster_assets th,.roster_assets td,#roster td,#roster th{font-size:0.75rem}}@media only screen and (max-width: 40em){#roster caption{font-size:1rem}.roster_assets th,.roster_assets td,#roster td,#roster th{font-size:0.813rem}#MFLroster #tradereview td[width="50%"]{width:100%!important;display:inline-block;}#MFLroster #tradereview td[width="50%"]:nth-child(2){margin-top:0.938rem}}@media only screen and (max-width: 26.875em){#roster caption{font-size:0.938rem}.roster_assets th,.roster_assets td,#roster td,#roster th{font-size:0.75rem}}@media only screen and (max-width: 20em){#roster caption{font-size:0.938rem}.roster_assets th,.roster_assets td,#roster td,#roster th{font-size:0.688rem}}@media only screen and (max-width: 17.5em){#roster caption{font-size:0.875rem}.roster_assets th,.roster_assets td,#roster td,#roster th{font-size:0.625rem}}</style>'
                ),
            RosterEnableMedia &&
                leagueTypeNormal &&
                $("head").append(
                    "<style>@media only screen and (max-width: 58em){body.roster_base #deadlinePassed{padding-bottom:0!important}body.roster_base #pre_load_html .mobile-view{width:100%!important;float:left;display:flex}body.roster_base #roster_column_left{margin:0 auto}body.roster_base td.icon_column{padding:0.625rem 0;padding:.625rem 0}body.roster_base #roster_column_left{overflow:auto;-webkit-overflow-scrolling:touch}body.roster_base #roster_column_left tr{display:table-cell}body.roster_base td.two_column{display:inline-table;width:50%}body.roster_base #MFLroster table{text-align:center}body.roster_base #pre_load_html #MFLroster #messageBoxDIV,body.roster_base #pre_load_html #propseTradeButtonDIV,body.roster_base #rosterTradeLinkDIV,.mobile-wrap.reviewwrap{margin-left:0.313rem!important;margin-right:0.313rem!important}}@media only screen and (max-width: 49em){body.roster_base #roster .drafted{display:none!important}}@media only screen and (max-width: 48em){body.roster_base #pre_load_html #MFLroster .mobile-view{float:left}body.roster_base #roster_column_left{margin:0.625rem 0}}@media only screen and (max-width: 40em){body.roster_base #roster .week{display:none!important}}@media only screen and (max-width: 34em){body.roster_base #roster caption span{background:none;padding:0}body.roster_base #roster caption{text-indent:0;padding-left:0.313rem;padding-left:.313rem}body.roster_base #roster .points{display:none!important}}@media only screen and (max-width: 44em){.rosters_full_display td.two_column div.mobile-wrap{width:100%!important;margin:0 0 0.625rem 0!important}}@media only screen and (max-width: 56.25em){.roster_base #roster caption{font-size:1.063rem}.roster_assets th,.roster_assets td,.roster_base #roster td,.roster_base #roster th{font-size:0.813rem}}@media only screen and (max-width: 43.75em){.roster_base #roster caption{font-size:1rem}.roster_assets th,.roster_assets td,.roster_base #roster td,.roster_base #roster th{font-size:0.75rem}}@media only screen and (max-width: 40em){.roster_base #roster caption{font-size:1rem}.roster_assets th,.roster_assets td,.roster_base #roster td,.roster_base #roster th{font-size:0.75rem}}@media only screen and (max-width: 33.125em){.roster_base #roster caption{font-size:0.938rem}.roster_assets th,.roster_assets td,.roster_base #roster td,.roster_base #roster th{font-size:0.75rem}}@media only screen and (max-width: 28.75em){.roster_base #roster caption{font-size:0.938rem}.roster_assets th,.roster_assets td,.roster_base #roster td,.roster_base #roster th{font-size:0.625rem}}@media only screen and (max-width: 20em){.roster_base #roster caption{font-size:0.813rem}.roster_assets th,.roster_assets td,.roster_base #roster td,.roster_base #roster th{font-size:0.563rem}}@media only screen and (max-width: 50em){.rosters_full_display #roster caption{font-size:1.063rem}.rosters_full_display #roster td,.rosters_full_display #roster th{font-size:0.813rem}}@media only screen and (max-width: 44em){.rosters_full_display #roster caption{font-size:1.063rem}.rosters_full_display #roster td,.rosters_full_display #roster th{font-size:0.813rem}}@media only screen and (max-width: 33.125em){.rosters_full_display #roster caption{font-size:0.938rem}.rosters_full_display #roster td,.rosters_full_display #roster th{font-size:0.75rem}}@media only screen and (max-width: 28.75em){.rosters_full_display #roster caption{font-size:0.938rem}.rosters_full_display #roster td,.rosters_full_display #roster th{font-size:0.688rem}}@media only screen and (max-width: 20em){.rosters_full_display #roster caption{font-size:0.813rem}.rosters_full_display #roster td,.rosters_full_display #roster th{font-size:0.563rem}}@media only screen and (max-width: 33.75em){#MFLroster #tradereview td[width='50%']{width:100%!important;display:inline-block}#MFLroster #tradereview td[width='50%']:nth-child(2){margin-top:0.938rem}#tradereview .franchiseicon{max-width:11.25rem;min-width:6.25rem}}</style>"
                ),
            showMFLdefaultBtn &&
                $("head").append(
                    "<style>.rosters_full_display #roster_column_right div.mobile-wrap{display:inline-block;width:calc(50% - 0.625rem);vertical-align:top;margin:0 0.313rem 0.625rem 0.313rem}.rosters_full_display #MFLroster #messageBoxDIV{margin:0.438rem!important}.rosters_full_display td.two_column{width:100%;text-align:center}.rosters_full_display #rosterViewTab,.rosters_full_display #tradeViewTab,.rosters_full_display .left_column,.rosters_full_display .icon_column{display:none!important}.rosters_full_display #roster_column_right div.mobile-wrap{display:inline-block!important}.rosters_full_display #rosterViewTab{display:inline!important}.rosters_full_display #allViewTab{display:none!important}.rosters_full_display #rosterTradeLinkDIV{margin-left:0.313rem!important;margin-right:0.313rem!important}</style>"
                ),
            createRosters();
        var assets_ar = [],
            assets_appended = !1;
        function getAssetsJSON() {
            fetch(`${baseURLDynamic}/${year}/export?TYPE=assets&L=${league_id}&JSON=1`)
                .then((e) => {
                    if (e.ok) return e.json();
                    throw new Error("Network response was not OK");
                })
                .then((e) => {
                    assets_ar = e;
                })
                .catch((e) => {
                    console.log("Error:", e);
                });
        }
        function appendAssets() {
            var e = [];
            try {
                for (var t = 0; t < assets_ar.assets.franchise.length; t++) {
                    var a = assets_ar.assets.franchise[t].id;
                    if (document.getElementById(a)) {
                        var r = 0;
                        try {
                            var s = assets_ar.assets.franchise[t].currentYearDraftPicks.draftPick;
                            Array.isArray(s) || (s = [s]);
                            for (var o = 0; o < s.length; o++) {
                                if (r % 2) var l = " eventablerow";
                                else l = " oddtablerow";
                                e["fid_" + a] || (e["fid_" + a] = ""),
                                    (e["fid_" + a] +=
                                        "<tr class='" +
                                        l +
                                        "'><td style='width: 10%;min-width: 2.5rem;text-align: center;' class='checkBox' align='center'><input id='" +
                                        s[o].pick +
                                        "' type='checkbox' name='drop" +
                                        a +
                                        "' value='" +
                                        s[o].pick +
                                        "'><label for='" +
                                        s[o].pick +
                                        "'></label></td><td colspan='8' style='text-align:left'>" +
                                        s[o].description +
                                        "</td></tr>"),
                                    r++;
                            }
                        } catch (e) {}
                        try {
                            var i = !0;
                            s = assets_ar.assets.franchise[t].futureYearDraftPicks.draftPick;
                            Array.isArray(s) || (s = [s]);
                            for (o = 0; o < s.length; o++) {
                                if (r % 2) l = " eventablerow";
                                else l = " oddtablerow";
                                if (i) var n = " newposition";
                                else n = "";
                                if (
                                    o > 0 &&
                                    assets_ar.assets.franchise[t].futureYearDraftPicks.draftPick[
                                        o
                                    ].description.substring(0, 9) !=
                                        assets_ar.assets.franchise[t].futureYearDraftPicks.draftPick[
                                            o - 1
                                        ].description.substring(0, 9)
                                )
                                    n = " newposition";
                                (e["fid_" + a] +=
                                    "<tr class='" +
                                    l +
                                    n +
                                    "'><td style='width: 10%;min-width: 2.5rem;text-align: center;' class='checkBox' align='center'><input id='" +
                                    s[o].pick +
                                    "' type='checkbox' name='drop" +
                                    a +
                                    "' value='" +
                                    assets_ar.assets.franchise[t].futureYearDraftPicks.draftPick[o].pick +
                                    "'><label for='" +
                                    s[o].pick +
                                    "'></label></td><td colspan='8' style='text-align:left'>" +
                                    assets_ar.assets.franchise[t].futureYearDraftPicks.draftPick[o].description +
                                    "</td></tr>"),
                                    r++,
                                    (i = !1);
                            }
                        } catch (e) {}
                        try {
                            if (parseFloat(assets_ar.assets.franchise[t].blindBiddingDollars.amount) > 0) {
                                if (r % 2) l = " eventablerow";
                                else l = " oddtablerow";
                                if ((i = !0)) n = " newposition";
                                else n = "";
                                (e["fid_" + a] +=
                                    "<tr class='" +
                                    l +
                                    n +
                                    "'><td  colspan='9' style='text-align:left'>Blind Bidding Dollars ($" +
                                    assets_ar.assets.franchise[t].blindBiddingDollars.amount +
                                    ")</td></tr><tr class='" +
                                    l +
                                    "'><td colspan='9' align='center'><input style='width:100%' type='text' name='bbid" +
                                    a +
                                    "' size='5' maxlength='10' value></td></tr>"),
                                    r++,
                                    (i = !1);
                            }
                        } catch (e) {}
                        jQuery("#" + a + " .roster_assets tbody").html(e["fid_" + a]);
                    }
                }
            } catch (e) {}
            assets_appended = !0;
        }
        if (rosEnableSwipe) {
            var startX,
                distX,
                currentMobileWrap = $(".roster_base #roster_column_right #" + fid_right),
                threshold = 50;
            function showNextMobileWrap() {
                var e = currentMobileWrap.next(".roster_base #roster_column_right .mobile-wrap");
                for (
                    0 === e.length && (e = $("#roster_column_right .mobile-wrap:first"));
                    e.attr("id") === fid_middle;

                )
                    0 === (e = e.next(".roster_base #roster_column_right .mobile-wrap")).length &&
                        (e = $("#roster_column_right .mobile-wrap:first"));
                currentMobileWrap.removeClass("active"),
                    (currentMobileWrap = e),
                    (fid_right = e.attr("id")),
                    showCurrentMobileWrap();
            }
            function showPreviousMobileWrap() {
                var e = currentMobileWrap.prev(".roster_base #roster_column_right .mobile-wrap");
                for (0 === e.length && (e = $("#roster_column_right .mobile-wrap:last")); e.attr("id") === fid_middle; )
                    0 === (e = e.prev(".roster_base #roster_column_right .mobile-wrap")).length &&
                        (e = $("#roster_column_right .mobile-wrap:last"));
                currentMobileWrap.removeClass("active"),
                    (currentMobileWrap = e),
                    (fid_right = e.attr("id")),
                    showCurrentMobileWrap();
            }
            $(document).on("touchstart", "#rosSwipe", function (e) {
                startX = e.originalEvent.changedTouches[0].pageX;
            }),
                $(document).on("touchend", "#rosSwipe", function (e) {
                    if (
                        ((distX = e.originalEvent.changedTouches[0].pageX - startX),
                        Math.abs(distX) >= threshold &&
                            (distX > 0 ? showPreviousMobileWrap() : showNextMobileWrap(), fid_right !== fid_middle))
                    ) {
                        $("#roster_column_left a").removeClass("rs_active"),
                            $("#roster_column_left tr.franchise_" + fid_right + " a").addClass("rs_active");
                        const e = $("#roster_column_left tr.franchise_" + fid_right),
                            t = e.closest("#roster_column_left")[0],
                            a = e.get(0).offsetLeft - t.offsetLeft;
                        (t.scrollLeft = a),
                            $('.opptradereview caption a[class*="franchise_"]').closest("caption").hide(),
                            $(".opptradereview caption a." + $(this).attr("class"))
                                .closest("caption")
                                .toggle(),
                            $("#roster_column_right table input:checkbox").prop("checked", !1),
                            $(".opptradereview").find("tr.playerrow").remove(),
                            $(
                                ".salarytotal, .yeartotal, .pointstotal, .salarydifference, .yeardifference, .pointsdifference"
                            ).html("0"),
                            hideTilClk &&
                                showCalculator &&
                                ($("#tradereview tr.playerrow").length
                                    ? $(".reviewwrap , .savingsreview , #messageBoxDIV , #propseTradeButtonDIV").show()
                                    : $(
                                          ".reviewwrap , .savingsreview , #messageBoxDIV , #propseTradeButtonDIV"
                                      ).hide());
                    }
                }),
                $("body").on("click", "#roster_column_left tr", function () {
                    $("#roster_column_left tr td a").removeClass("rs_active"),
                        $(this).find("td a").addClass("rs_active");
                    var e = $(this)
                        .attr("class")
                        .match(/franchise_(\d+)/);
                    (fid_right = e[1]),
                        (currentMobileWrap = $(".roster_base #roster_column_right #" + fid_right)),
                        showCurrentMobileWrap();
                    const t = $(this),
                        a = t.closest("#roster_column_left")[0],
                        r = t.get(0).offsetLeft - a.offsetLeft;
                    (a.scrollLeft = r),
                        $('.opptradereview caption a[class*="franchise_"]').closest("caption").hide(),
                        $(".opptradereview caption a." + $(this).attr("class"))
                            .closest("caption")
                            .toggle(),
                        $("#roster_column_right table input:checkbox").prop("checked", !1),
                        $(".opptradereview").find("tr.playerrow").remove(),
                        $(
                            ".salarytotal, .yeartotal, .pointstotal, .salarydifference, .yeardifference, .pointsdifference"
                        ).html("0"),
                        hideTilClk &&
                            showCalculator &&
                            ($("#tradereview tr.playerrow").length
                                ? $(".reviewwrap , .savingsreview , #messageBoxDIV , #propseTradeButtonDIV").show()
                                : $(".reviewwrap , .savingsreview , #messageBoxDIV , #propseTradeButtonDIV").hide());
                });
        } else
            $("body").on("click", "#roster_column_left tr", function () {
                $("#roster_column_left tr td a").removeClass("rs_active"), $(this).find("td a").addClass("rs_active");
                var e = $(this)
                    .attr("class")
                    .match(/franchise_(\d+)/);
                (fid_right = e[1]),
                    (currentMobileWrap = $(".roster_base #roster_column_right #" + fid_right)),
                    showCurrentMobileWrap(),
                    $('.opptradereview caption a[class*="franchise_"]').closest("caption").hide(),
                    $(".opptradereview caption a." + $(this).attr("class"))
                        .closest("caption")
                        .toggle(),
                    $("#roster_column_right table input:checkbox").prop("checked", !1),
                    $(".opptradereview").find("tr.playerrow").remove(),
                    $(
                        ".salarytotal, .yeartotal, .pointstotal, .salarydifference, .yeardifference, .pointsdifference"
                    ).html("0"),
                    hideTilClk &&
                        showCalculator &&
                        ($("#tradereview tr.playerrow").length
                            ? $(".reviewwrap , .savingsreview , #messageBoxDIV , #propseTradeButtonDIV").show()
                            : $(".reviewwrap , .savingsreview , #messageBoxDIV , #propseTradeButtonDIV").hide());
            });
        function showCurrentMobileWrap() {
            $(".roster_base #roster_column_right .mobile-wrap").removeClass("active"),
                currentMobileWrap.addClass("active");
        }
    }
}
function hsSetTimestamp() {
    const e = new XMLHttpRequest(),
        t = new FormData();
    t.append("updateHistoryTime", currentHistoryTime),
        t.append("year", year),
        t.append("leagueId", league_id),
        e.open("POST", "https://mflscripts.com/mfl-apps/history/integrated/historyTime.php", !0),
        (e.responseType = "text"),
        (e.onload = function () {
            200 === e.status || console.error("Error:", e.status);
        }),
        e.send(t);
}
if (
    ("undefined" == typeof historyHPMupdateNotloadedV2 &&
        ((historyHPMupdateNotloadedV2 = !0),
        "undefined" != typeof franchise_id && "0000" === franchise_id && runHistoryUpdateHPM()),
    void 0 === load_standingsHistory_script)
)
    var load_standingsHistory_script = !1;
if (void 0 === load_draftHistory_script) var load_draftHistory_script = !1;
if (void 0 === load_contractHistory_script) var load_contractHistory_script = !1;
if (void 0 === load_playoffsHistory_script) var load_playoffsHistory_script = !1;
if (void 0 === load_topsHistory_script) var load_topsHistory_script = !1;
if (void 0 === load_tradesHistory_script) var load_tradesHistory_script = !1;
if (document.getElementById("league-history-wrapper") && load_history_script) {
    if (void 0 === lh_use_habman) var lh_use_habman = !1;
    if (void 0 === lh_use_most_recent_franchise_info) var lh_use_most_recent_franchise_info = !0;
    if (void 0 === lh_precision_override) var lh_precision_override = -1;
    if (void 0 === lh_commish_franchise_id) var lh_commish_franchise_id = "";
    if (void 0 === lh_fname_override) var lh_fname_override = [];
    if (void 0 === lh_abbrev_override) var lh_abbrev_override = [];
    if (void 0 === lh_abbrev_max_length) var lh_abbrev_max_length = 5;
    if (void 0 === lh_first_player_season) var lh_first_player_season = "";
    if (void 0 === lh_auto_rename_linked_franchise) var lh_auto_rename_linked_franchise = !0;
    if (void 0 === lh_name_icon_logo) var lh_name_icon_logo = 0;
    if (void 0 === lh_abbrev_icon_logo) var lh_abbrev_icon_logo = 0;
    if (void 0 === lh_open_form_in_iframe) var lh_open_form_in_iframe = !1;
    if (void 0 === apiKey) var apiKey = "";
    var integratedHistory_ar = [],
        integratedHistory_Links = [];
    if (lh_use_habman) var baseURLHistory = "https://mfl.habman.com/history";
    else baseURLHistory = "https://www.mflscripts.com/mfl-apps/history/integrated";
    (() => {
        const e = [
            `${baseURLHistory}/players/playerHistory.js`,
            `${baseURLHistory}/${year}/leagues/${league_id}/league_info.js`,
        ];
        (async () => {
            try {
                await Promise.all(
                    e.map((e) =>
                        (function loadScript(e, { timeoutMs: t = 15e3 } = {}) {
                            return new Promise((a, r) => {
                                const s = document.createElement("script");
                                let o = !1;
                                const l = setTimeout(() => {
                                    o || ((o = !0), s.remove(), r(new Error(`Timeout loading ${e} after ${t}ms`)));
                                }, t);
                                (s.async = !0),
                                    (s.src = e),
                                    (s.onload = () => {
                                        o || ((o = !0), clearTimeout(l), a(e));
                                    }),
                                    (s.onerror = () => {
                                        o || ((o = !0), clearTimeout(l), r(new Error(`Script failed to load: ${e}`)));
                                    }),
                                    document.head.appendChild(s);
                            });
                        })(e)
                    )
                ),
                    lh_initiate(),
                    trigger_history_script();
            } catch (e) {
                console.error("[History Loader] Aborting init because a required script did not load.", e),
                    setTimeout(function () {
                        "undefined" != typeof franchise_id
                            ? "0000" === franchise_id
                                ? $(".failure_message").html(
                                      '<h3 class="warning" style="max-width:31.25rem;margin:0 auto">Your leagues history has failed to load. If you have just updated to a new season , open the Admin tab and run the history and player updates for this season.</h3>'
                                  )
                                : $(".failure_message").html(
                                      '<h3 class="warning" style="max-width:31.25rem;margin:0 auto">Your leagues history has failed to load. This is most likely occuring because your commissioner has not updated history for this season or the server for which files are stored is currently down. Please try back later.</h3>'
                                  )
                            : $(".failure_message").html(
                                  '<h3 class="warning" style="max-width:31.25rem;margin:0 auto">Your leagues history has failed to load. Please try back later.</h3>'
                              );
                    }, 2e3);
            }
        })();
    })();
    const h = document.getElementById("league-history-wrapper"),
        _ =
            '<div class="historyNav" style="text-align:center;display:none"><input class="leagueTabNav currenttab" style="text-transform:uppercase;display:none" value="League History" type="submit"><input class="draftTabNav inactive mainHistoryTab" style="text-transform:uppercase;display:none" value="Draft History" type="submit"><input class="standingsTabNav inactive mainHistoryTab" style="text-transform:uppercase;display:none" value="Standings History" type="submit"><input class="contractsTabNav inactive mainHistoryTab" style="text-transform:uppercase;display:none" value="Contract History" type="submit"><input class="playoffsTabNav inactive mainHistoryTab" style="text-transform:uppercase;display:none" value="Playoff History" type="submit"><input class="topsTabNav inactive mainHistoryTab" style="text-transform:uppercase;display:none" value="Tops History" type="submit"><input class="tradesTabNav inactive mainHistoryTab" style="text-transform:uppercase;display:none" value="Trade History" type="submit"></div><div class="historyNav mobileNavs" style="text-align:center;display:none"><input class="leagueTabNav currenttab" style="text-transform:uppercase;display:none" value="League" type="submit"><input class="draftTabNav inactive mainHistoryTab" style="text-transform:uppercase;display:none" value="Draft" type="submit"><input class="standingsTabNav inactive mainHistoryTab" style="text-transform:uppercase;display:none" value="Standings" type="submit"><input class="contractsTabNav inactive mainHistoryTab" style="text-transform:uppercase;display:none" value="Contracts" type="submit"><input class="playoffsTabNav inactive mainHistoryTab" style="text-transform:uppercase;display:none" value="Playoffs" type="submit"><input class="topsTabNav inactive mainHistoryTab" style="text-transform:uppercase;display:none" value="Players" type="submit"><input class="tradesTabNav inactive mainHistoryTab" style="text-transform:uppercase;display:none" value="Trades" type="submit"></div>',
        m =
            '<div id="html-form-content" style="display:none"></div><div id="myfantasyleague_tabs" class="hs_tabs_wrap"><table class="homepagemodule report" id="tab_reports" cellspacing="1" align="center"><caption><span class="lh-main-caption-span">League History</span></caption><tbody></tbody></table><div class="toggle_tabs lh-main-toggle-tabs"><table class="report"><tbody><tr><td><div class="myfantasyleague_tabmenu"><span id="tab_title_11100">11100</span><input id="sub11100" type="checkbox"><label for="sub11100"><span></span></label><ul id="homepagetabs" class="lh-tabs-menu"><li id="tab11100" onclick="show_custom_tab_history(\'11100\');"><a class="no-sub">Overall Record<input id="sub11100" type="checkbox"><label for="sub11100"></label></a></li><li id="tab11101" onclick="show_custom_tab_history(\'11101\');"><a class="no-sub">Series Record<input id="sub11100" type="checkbox"><label for="sub11100"></label></a></li><li id="tab11102" onclick="show_custom_tab_history(\'11102\');"><a class="no-sub">Team Points<input id="sub11100" type="checkbox"><label for="sub11100"></label></a></li><li id="tab11103" onclick="show_custom_tab_history(\'11103\');"><a class="no-sub">Player<input id="sub11100" type="checkbox"><label for="sub11100"></label></a></li><li id="tab11104" onclick="show_custom_tab_history(\'11104\');"><a class="no-sub">Misc<input id="sub11100" type="checkbox"><label for="sub11100"></label></a></li><li id="tab11105" onclick="show_custom_tab_history(\'11105\');" style="display:none"><a class="no-sub">Admin<input id="sub11100" type="checkbox"><label for="sub11100"></label></a></li></ul></div></td</tr></tbody></table> <div class="tabs_scroll" style="position:relative"><div id="tabcontent11100" class="homepagetabcontent"><div id="historical_records_content"><div style="text-align:center;height:12.5rem;font-size:0.875rem;margin-top:1.25rem"><div id="MFLPlayerPopupLoading" class="failure_message" style="top:auto;position:relative;transform:none"><center>Preparing History . . .<br><br><div class="MFLPlayerPopupLoader"></div></center></div></div></div></div><div id="tabcontent11101" class="homepagetabcontent"><div id="series_records_content"></div></div><div id="tabcontent11102" class="homepagetabcontent"><div id="team_points_content"></div></div><div id="tabcontent11103" class="homepagetabcontent"><div id="player_content"></div></div><div id="tabcontent11104" class="homepagetabcontent"><div id="misc_content"></div></div><div id="tabcontent11105" class="homepagetabcontent"><div id="admin_content"></div></div></div></div></div>',
        y =
            '<div id="ls-modal-1-container" class="ls-modal"><div class="ls-modal-content ls-history-modal" style="font-size:0.813rem"><div class="ls-modal-header"><span class="close">X</span><h2 id="ls-modal-1-header-content"></h2></div><div class="ls-modal-body" style="padding:0 0.625rem;padding-bottom:0.063rem"><p id="ls-modal-1-content" style="margin-top:0"></p></div></div></div><div id="ls-modal-2-container" class="ls-modal"><div class="ls-modal-content ls-history-modal" style="font-size:0.813rem"><div class="ls-modal-header"><span class="close">X</span><h2 id="ls-modal-2-header-content"></h2></div><div class="ls-modal-body" style="padding:0 0.625rem;padding-bottom:0.063rem"><p id="ls-modal-2-content" style="margin-top:0"></p></div></div></div><div id="ls-modal-3-container" class="ls-modal"><div class="ls-modal-content ls-history-modal" style="font-size:0.813rem"><div class="ls-modal-header"><span class="close">X</span><h2 id="ls-modal-3-header-content"></h2></div><div class="ls-modal-body" style="padding:0 0.625rem;padding-bottom:0.063rem"><p id="ls-modal-3-content" style="margin-top:0"></p></div></div></div><div id="ls-modal-4-container" class="ls-modal"><div class="ls-modal-content ls-history-modal" style="font-size:0.813rem"><div class="ls-modal-header"><span class="close">X</span><h2 id="ls-modal-4-header-content"></h2></div><div class="ls-modal-body" style="padding:0 0.625rem;padding-bottom:0.063rem"><p id="ls-modal-4-content" style="margin-top:0"></p></div></div></div>';
    h &&
        (h.insertAdjacentHTML("beforebegin", _),
        h.insertAdjacentHTML("beforeend", m),
        document.body.insertAdjacentHTML("beforeend", y)),
        $("head").append(
            '<style>#league-history-wrapper .plus-toggle{display:none!important}.historyNav input.inactive{opacity:.3}#standings-history-wrapper,#draft-history-wrapper,#contract-history-wrapper,#playoffs-history-wrapper,#tops-history-wrapper,#trades-history-wrapper{display:none}.historyNav input{margin-top:0;font-size:0.813rem;}@media only screen and (max-width: 48em){.historyNav{white-space:nowrap;overflow:auto;padding:0 1.25rem}.historyNav input{font-size:0.813rem;padding:0.313rem;margin-top:0}}.hs_tabs_wrap caption span.module_expand{display:none}.hs_tabs_wrap .report{background:none!important}.lh_franchise_img{max-height:1.375rem;max-width:9.375rem;padding:0.063rem 0}#league-history-wrapper th,#league-history-wrapper td,#league-history-wrapper caption{cursor:default}#historical_records td.lh_overall_awards.lh_award_check>div>span:nth-child(5):after,#historical_records td.lh_overall_awards.lh_award_check>div>span:nth-child(10):after,#historical_records td.lh_overall_awards.lh_award_check>div>span:nth-child(15):after,#historical_records td.lh_overall_awards.lh_award_check>div>span:nth-child(20):after,#historical_records td.lh_overall_awards.lh_award_check>div>span:nth-child(25):after{content:"";display:block;height:0.063rem}#myfantasyleague_tabs.hs_tabs_wrap{position:relative}.hz-main-table th.lh_overall_franchise{visibility:hidden}.hz-main-table.hz-clone th.lh_overall_franchise.fixed-side{visibility:visible}.lh_award_li .lh_award_li_award,.lh_notation_li .lh_notation_li_notation{padding-right:0.188rem;padding-left:0.625rem;font-size:0.5rem;display:table-cell;width:1.5rem;text-align:center}.lh_award_li span,.lh_notation_li span{height:0.938rem;line-height:0.938rem;font-size:0.75rem;vertical-align:middle;display:table-cell}.lh_award_check ul,.lh_award_check li,.lh_notation_check ul,.lh_notation_check li{margin:0;padding:0}td.lh_overall_awards{font-size:0.625rem}td.lh_overall_awards i{padding:0.063rem}.lh_defunct_check.rowheader th{background:none}.hs_tabs_wrap div.mobile-wrap{padding:0;box-shadow:none;border:none;border-radius:0;overflow:hidden;background:none}.toggle_tabs .hz-clone{top:0;left:0}.hs_tabs_wrap .tabs_scroll caption{font-size:0.938rem;text-indent:0}.hs_tabs_wrap div.mobile-wrap.lh-bottom-line{padding-bottom:0.625rem}#admin_content #html-form-submit span{display:block;width:100%;text-align:center}#iframe-summary-popup{width:100%;background:none!important;background-color:transparent!important}.history-selections input,.series-selections input,.team-selections input,.player-selections input,.misc-selections input{display:none}.history-selections div,.series-selections div,.team-selections div,.player-selections div,.misc-selections div{position:relative;display:inline-block}.history-selections input+label:before,.series-selections input+label:before,.team-selections input+label:before,.player-selections input+label:before,.misc-selections input+label:before{font-family:"Font Awesome 6 Pro";display:inline-block;content:"\\f191";position:absolute;left:0}.history-selections input:checked+label:before,.series-selections input:checked+label:before,.team-selections input:checked+label:before,.player-selections input:checked+label:before,.misc-selections input:checked+label:before{content:"\\f177";z-index:0}.history-selections label,.series-selections label,.team-selections label,.player-selections label,.misc-selections label{padding-left:0.938rem;font-size:0.813rem;margin-right:0.625rem;line-height:0.813rem;cursor:pointer}@media only screen and (max-width:31.25em){.history-selections,.series-selections,.team-selections,.player-selections,.misc-selections{margin-top:0.188rem}}.hs-control-setting{font-size:0.938rem;cursor:pointer;font-weight:normal;display:inline}.players_radio_ckbox div:last-of-type label{margin-right:0}.hs_tabs_wrap th{background:none!important}.history-selections input+label:before,.series-selections input+label:before,.team-selections input+label:before,.player-selections input+label:before,.misc-selections input+label:before{color:var(--checkbox-box)}.history-selections input:checked+label:before,.series-selections input:checked+label:before,.team-selections input:checked+label:before,.player-selections input:checked+label:before,.misc-selections input:checked+label:before{color:var(--checkbox-check)}.ls-history-modal .lh_popup_win{color:var(--popup-win)}.ls-history-modal .lh_popup_loss{color:var(--popup-loss)}.ls-history-modal .lh_popup_tie{color:var(--popup-tie)}.ls-history-modal .ls-popup-position-ul > span,.ls-history-modal .ls-popup-matchup{background:var(--popup-th-bg)!important}.myfranchise,.myfranchise td,.myfranchise th,tr.myfranchise th a,tr.myfranchise td a,tr.myfranchise i.fa-minus,tr.myfranchise i.fa-rectangle-xmark{color:var(--my-franchise)!important}.hs_tabs_wrap tr.myfranchise td,.hs_tabs_wrap tr.myfranchise th,.hs_tabs_wrap tr.myfranchise th.fixed-side.hz-hide-shadow{background:var(--my-franchise-bg)!important}.lh_year_record i,.lh_series_td i,.lh_rank i{color:var(--dash-x-boxes)}.hs_tabs_wrap div.mobile-wrap.lh-bottom-line{border-bottom:var(--table-separate)}.hs_tabs_wrap th,.hs_tabs_wrap th.fixed-side.hz-hide-shadow{background:var(--table-header-bg)!important}.hs-control-setting{color:var(--color-settings)}.hs_tabs_wrap th.fixed-side{background:var(--table-header-bg-fixed)!important}.hs_tabs_wrap .lh_defunct_check,.hs_tabs_wrap .lh_defunct_check th,.hs_tabs_wrap .lh_defunct_check th a{color:var(--defunct-bg-text)}.hs_tabs_wrap .lh_defunct_check th.fixed-side.hz-hide-shadow,.hs_tabs_wrap .lh_defunct_check.rowheader th.fixed-side.hz-hide-shadow ~ th{background:var(--defunct-bg)!important}.hs_tabs_wrap .lh_defunct_check th.fixed-side,.lh_defunct_check.rowheader th.fixed-side ~ th{background:var(--defunct-bg-fixed)!important}#league-history-wrapper tr.oddtablerow.myfranchise + tr.myfranchise.eventablerow td,#league-history-wrapper tr.eventablerow.myfranchise + tr.myfranchise.oddtablerow td{border-top:var(--highlight-separate)}.ls-modal-content{background-color:#fff;box-shadow:0 0 1.563rem rgba(0,0,0,1)}.ls-modal-header .close{background:red;border-color:red;color:#fff}.ls-modal-header .close:hover,.ls-modal-header .close:focus{background:#ff0000;border-color:#000;color:#fff}.ls-modal{display:none;position:fixed;z-index:99999;left:0;top:0;width:100%;height:100%;overflow:auto;background:rgba(0,0,0,0.7)}.ls-modal-content{max-width:31.25rem;width:96%;margin:auto;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;box-shadow:0 0 1.563rem #000;border-radius:0.188rem;padding:0.625rem;max-height:90%;overflow:auto}.ls-modal-header{padding:0.188rem;background:none}.ls-modal-header h2{text-align:left;margin:0;padding:0;padding-left:0.313rem;min-height:1.625rem;text-transform:uppercase}.ls-modal-header .close{font-size:1.25rem;font-weight:700;position:absolute;right:0.313rem;top:0.313rem;text-align:center;border-radius:0.188rem;padding:0;height:1.375rem;width:1.375rem;line-height:1.375rem}.ls-modal-header .close:hover,.ls-modal-header .close:focus{text-decoration:none;cursor:pointer}.ls-modal-body{padding:0 0.125rem;font-size:0.813rem;padding-bottom:0.063rem}.ls-popup-text::before,.ls-popup-icon-wrapper::before{content:"-";padding:0 0.125rem}#ls-modal-1-content li,#ls-modal-1-content ul,#ls-modal-2-content li,#ls-modal-2-content ul,#ls-modal-3-content li,#ls-modal-3-content ul{margin:0;padding:0;list-style:none}#ls-modal-1-content .ls-popup-position-li,#ls-modal-2-content .ls-popup-position-li,#ls-modal-3-content .ls-popup-position-li{font-weight:700;font-size:0.875rem;padding-left:0.313rem}#ls-modal-1-content .ls-popup-player-li,#ls-modal-2-content .ls-popup-player-li,#ls-modal-3-content .ls-popup-player-li{position:relative;padding-left:0.5rem}#ls-modal-1-content .ls-popup-player-li:last-child,#ls-modal-2-content .ls-popup-player-li:last-child,#ls-modal-3-content .ls-popup-player-li:last-child{border:0}#ls-modal-1-content span.ls-popup-text,#ls-modal-2-content span.ls-popup-text,#ls-modal-3-content span.ls-popup-text{font-style:italic;font-weight:bold}#ls-modal-1-content img.ls-popup-icon,#ls-modal-2-content img.ls-popup-icon,#ls-modal-3-content img.ls-popup-icon{max-height:1rem;max-width:5rem}.hz-table-scroll{position:relative;overflow:hidden;white-space:nowrap}.hz-table-wrap{width:100%;overflow:auto}.hz-table-scroll table{padding-bottom:0.625rem;width:100%;margin:auto;border-collapse:separate;border-spacing:0}.hz-main-table caption,.hz-main-table .fixed-side,.hz-clone th,.hz-clone td{visibility:hidden}.hz_table_remove{padding:0;margin:0;background:none;box-shadow:none;border:0;background-image:none}.hz-clone.hz_table_remove caption,.hz-clone .fixed-side{visibility:visible;pointer-events:auto}.fixed-side{width:6.25rem;padding:0.188rem 0.313rem}.fixed-side img.franchiseicon{max-width:6.25rem;min-width:auto!important}.hz-clone{position:absolute;top:0.625rem;left:0.625rem;pointer-events:none}.fixed-side .franchiseicon,.fixed-side a{max-width:none;height:auto}.fixed-side.fx-dbl{text-align:left;width:0.063rem}.fixed-side a{display:inline}.hz-table-scroll thead th.fixed-side{text-align:center!important}.fixed-side+td,.fixed-side+th{padding-left:0.375rem}#body_options_93 .hz-main-table tbody tr:first-of-type th{font-size:0.688rem}#body_options_93 .hz-main-table thead th{white-space:normal;min-width:6.25rem}#body_depth_chart thead th,#body_depth_chart tbody tr:first-of-type th{text-align:left!important}#body_depth_chart .report.hz-main-table td:nth-child(2){text-align:left}.mobile-wrap.hz-table-scroll{overflow:hidden}.fixed-side{position:sticky}.hz-hide-shadow:after{background-image:none!important}#options_236 th.fixed-side a,#options_08 th.fixed-side a,#body_top th.fixed-side a{padding-left:0.188rem}#options_236 thead .fixed-side,#options_08 thead .fixed-side,#body_top thead .fixed-side{text-align:left!important}.hz-main-table tbody th.fixed-side{text-align:left}.hz-main-table tbody tr.average th.fixed-side{text-align:center}#body_options_93 .hz-main-table tbody tr:first-of-type th.fixed-side{text-align:center}.shadow-right{position:sticky;right:0;visibility:visible}.shadow-right:after{content:"";position:absolute;top:0;width:1.25rem;height:100%;visibility:visible;background:none;right:0;background-image:linear-gradient(to right,rgba(0,0,0,0),rgba(0,0,0,.3))}.hz_table_remove_shadow .shadow-right.hz-hide-shadow:after{display:none}.fixed-side:after{content:"";position:absolute;top:0;width:1.25rem;height:100%}.hz-clone .fixed-side:after{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0));right:-1.25rem}.hz-main-table tbody th.fixed-side.has-ficon{text-align:center}.pointer-events-none{pointer-events:none}.hs-control-setting-content{display:none;padding:0.313rem 0;text-align:center;line-height:0}.hs-control-setting-content div{visibility:hidden}.hs-control-setting-content[style="display: block;"] div{visibility:visible}.hz-main-table tbody th.fixed-side.has-ficon{text-align:center}.hs-control-setting-content span{background:none;padding:0}.playerHistory_taxi,.playerHistory_ir{font-size:0.625rem;vertical-align:top}.ls-history-modal #ls-modal-4-content caption{display:none}#ls-modal-4-content th{text-align:left!important}#ls-modal-3-content .lh-popup-points{text-align:center!important}#ls-modal-3-content .lh-popup-name{text-align:left!important}#ls-modal-3-content th[style="text-align:left"]{text-align:left!important}#ls-modal-3-content th[style="text-align:left"] + th{text-align:center!important}.details_table th{text-align:right}.details_table th[colspan="2"]{text-align:left}.details_table .reportfooter{display:none}.details_table td.points,.details_table td.points a{color:inherit}#league-history-wrapper.report-wrapper .toggle_tabs ul{display:block!important}#league-history-wrapper.report-wrapper .hs-control-setting-content span{text-align:center}#league-history-wrapper.report-wrapper .hs_tabs_wrap div.mobile-wrap{overflow:hidden!important}#league-history-wrapper .mobile-view{vertical-align:top;padding-right:0.625rem}#league-history-wrapper .mobile-view{width:50%}@media only screen and (max-width: 48em){#league-history-wrapper .mobile-view{width:100%;float:left;margin-top:0;padding:0!important}.players_radio_ckbox,.season_radio_ckbox,.team-selections span[style="display:block;padding-bottom:0.313rem"]{padding-bottom:0.625rem!important}}</style>'
        ),
        setTimeout(function () {
            jQuery("#league-history-wrapper div").hasClass("report-wrapper") &&
                $("#league-history-wrapper").addClass("report-wrapper"),
                jQuery("#league-history-wrapper div.report-wrapper table").unwrap();
        }, 100);
    var admin_html = "";
    (admin_html += '<div id="html-form-submit">'),
        (admin_html +=
            '<p class="warning" style="text-align:center;font-weight:bold;font-size:1.25rem">DO NOT RUN ANY UPDATES UNTIL THE FOLLOWING HAS BEEN COMPLETED.</p><p class="warning" style="text-align:center">Make sure this league and all previous years leagues are set to PUBLIC display. If any league is set to private , this script will not work, go to all previous years and set to public or do not use this script.</p><p class="warning" style="text-align:center">Do not install this script on your homepage or any homepage tab. The script must be linked to or you will have issues with performance.</p><p class="warning" style="text-align:center">After reading and understanding everything on this page, run the update 1 time , do not continue to repeat the update process or the site will be banned from accessing MFL Scripts. Post on forums if you have ran , followed all instructions and are still having an issue.</p>'),
        (admin_html +=
            '<p>In order to create accurate historical reports you must first <a href="' +
            baseURLDynamic +
            "/" +
            year +
            "/options?L=" +
            league_id +
            '&O=170" target="_blank">Link Historical Franchises</a>.</p>'),
        (admin_html +=
            '<p>If for some reason the drop down boxes on the link historical franchises page has missing seasons, has incorrect franchise information or does not update even after you have applied your changes your settings may be corrupt.  You can force a correction to this page by visiting <a href="' +
            baseURLDynamic +
            "/" +
            year +
            "/csetup?L=" +
            league_id +
            '&C=HISTORY" target="_blank">League History Setup</a> and remove all the historical links then wait 24 hours. This will clear all data from your MFL history. You can then add back your links and wait another 24 hours.  This will update your league history with the correct information. Make sure that you record the original links so that you can add them back later.</p>'),
        (admin_html +=
            '<p>Once you have properly linked your franchises you can click the "League History" & "Player History" buttons to generate the full history info for your league.  These pages will each take a few minutes to process. It is important to let the pages fully complete the process so do not close this page pre-maturely.  You should only have to run these processes once per new season however if you make changes to your historical leagues or update the historical franchise links you will need to re-run.</p>'),
        (admin_html +=
            "<p>A cron job will run each Tuesday morning and again Thursday afternoon each week to update the current season for your league.</p>"),
        (admin_html +=
            "<p>IMPORTANT: Do not run updates between 1 hr before and 15 minutes after Sunday 1:00pm ET kickoffs since MFL blocks requests to history API at those time to conserve resources to processes with higher priority IE lineup submissions etc.</p>"),
        (admin_html += '<div id="lh_custom_historical_franchises_wrapper" style="display:none;width:100%">'),
        (admin_html +=
            '<div style="border:0.063rem solid;border-radius:0.625rem;position:relative;margin:0 auto;width:9.375rem;height:9.375rem"><div style="position:absolute;top:0.625rem;left:0.625rem">Generating Table . . .</div><i class="fa-regular fa-gear fa-spin fa-2xl" style="position:absolute;left:0;right:0;margin:0 auto;top:3.125rem"></i></div>'),
        (admin_html += "</div><br>"),
        (admin_html += '<div id="lh-weekly-update-wrapper" style="display:none">'),
        (admin_html += '<span style="display:inline-block">'),
        (admin_html +=
            '<input type="button" value="Weekly History Update" onclick="doLeagueHistory(false)" style="vertical-align:middle" />'),
        (admin_html += '<span id="lh_history_loading" style="vertical-align:middle"></span>'),
        (admin_html += "</span><br>"),
        (admin_html += '<span style="display:inline-block">'),
        (admin_html +=
            '<input type="button" value="Weekly Player Update" onclick="doPlayerHistory(false)" style="vertical-align:middle" />'),
        (admin_html += '<span id="lh_player_loading" style="vertical-align:middle"></span>'),
        (admin_html += "</span>"),
        (admin_html += "</div><br>"),
        (admin_html +=
            '<span class="lh-admin-updates" style="border:0.25rem solid #ff0000;background-color: rgba(255,0,0,.1);border-radius:0.625rem;padding:0.625rem;display:inline-block">'),
        (admin_html +=
            '<div style="display:inline;text-align:left"><h1 style="margin:0">When to Update and Notes:</h1><ul><li>Update League and Player history on new installs <b>and</b> each new season when you upgrade your league.</li><li>To re-generate all historicial reports</li><li>Each takes several minutes to process</li><li>Once initiated do not navigate away from page until complete</li><li><b>Do not run 1 hour before thru 15 minutes after Sunday 1:00pm ET kickoffs.</b></li></ul></div>'),
        (admin_html += '<span style="display:inline-block">'),
        (admin_html +=
            '<input type="button" value="Install/Update League History" onclick="doLeagueHistory(true)" style="vertical-align:middle" />'),
        (admin_html += '<span id="lh_full_history_loading" style="vertical-align:middle"></span>'),
        (admin_html += "</span><br>"),
        (admin_html += '<span style="display:inline-block">'),
        (admin_html +=
            '<input type="button" value="Install/Update Player History" onclick="doPlayerHistory(true)" style="vertical-align:middle" />'),
        (admin_html += '<span id="lh_full_player_loading" style="vertical-align:middle"></span>'),
        (admin_html += "</span>"),
        (admin_html += "</span>"),
        (admin_html += "<p></p>"),
        (admin_html +=
            '<span class="lh-admin-updates" style="border:0.25rem solid #ff0000;background-color: rgba(255,0,0,.1);border-radius:0.625rem;padding:0.625rem;display:inline-block">'),
        (admin_html +=
            '<div style="display:inline;text-align:left"><h1 style="margin:0">When to Force Reset:</h1><ul><li>If you cannot get the files to update it could be that some of your files are corrupt and the host directory for your league needs to be reset.</li><li>After you reset you will need to re-run League History and Player History updates.</li><li>If there are still problems then post your issue to the MFL message board and we will try to get it resolved.</li></ul></div>'),
        (admin_html += '<span style="display:inline-block">'),
        (admin_html +=
            '<input type="button" value="Full Reset" onclick="jQuery(\'.are_you_sure\').show();" style="vertical-align:middle" />'),
        (admin_html +=
            '<span id="lh_full_history_loading" class="are_you_sure" style="vertical-align:middle;display:none"><h1>Are You Sure?</h1><input type="button" value="YES" onclick="doLeagueHistoryReset()" style="vertical-align:middle" /><input type="button" value="CANCEL" onclick="jQuery(\'.are_you_sure\').hide();" style="vertical-align:middle" /></span>'),
        (admin_html += "</span><br>"),
        (admin_html += "</span>"),
        (admin_html += "</div>"),
        jQuery("#admin_content").append(admin_html),
        jQuery("#league-history-wrapper").prepend(
            '<div id="lh_iframe_wrapper" style="display:none"><iframe name="lh_iframe_form" id="lh_iframe_form" allowtransparency="true"></iframe></div>'
        );
    var playerHistory = [],
        playerHistoryLeague = [],
        yearStr = "" + year,
        historicalLeagues = [],
        historicalStandings = [];
    if (void 0 === historicalAwards) {
        var historicalAwards = [];
        (historicalAwards["League Champion"] =
            '<i class="fa-solid fa-trophy-star ls-league-award"   style="color:goldenrod" aria-hidden="true"></i>'),
            (historicalAwards["Second Place Overall"] =
                '<i class="fa-regular fa-trophy-star ls-league-award"   style="color:darkgray" aria-hidden="true"></i>');
    }
    var lh_franchise_id,
        lh_no_record =
            '<i class="fa-regular fa-minus" aria-hidden="true" style="font-size:0.625rem;margin-right:0.188rem"></i><i class="fa-regular fa-minus" aria-hidden="true" style="font-size:0.625rem;margin-right:0.188rem"></i><i class="fa-regular fa-minus" aria-hidden="true" style="font-size:0.625rem"></i>',
        lh_precision = precision,
        lh_precision_multiplier = 1,
        lh_overall_record_ar = [],
        lh_playerScore_ar = [],
        lh_playerScoreSeason_ar = [],
        lh_playerScoreCareer_ar = [],
        lh_missing_players = "",
        lh_is_new_install = !1,
        lh_initial_run = !0;
    if (localStorage.hasOwnProperty("lh_rank_teams_" + league_id))
        var lh_teams_to_rank = parseInt(localStorage["lh_rank_teams_" + league_id]);
    else lh_teams_to_rank = 10;
    if (localStorage.hasOwnProperty("lh_rank_players_" + league_id))
        var lh_players_to_rank = parseInt(localStorage["lh_rank_players_" + league_id]);
    else lh_players_to_rank = 10;
    if (localStorage.hasOwnProperty("lh_rank_misc_" + league_id))
        var lh_misc_to_rank = parseInt(localStorage["lh_rank_misc_" + league_id]);
    else lh_misc_to_rank = 10;
    function trigger_history_script() {
        null == localStorage.getItem("lh_defunct_" + league_id) && localStorage.setItem("lh_defunct_" + league_id, "1"),
            null !== localStorage.getItem("lh_notation_" + league_id) &&
                localStorage.setItem("lh_notation_" + league_id, "1");
        for (let e = 0; e < leagueHistory.history_links.length; e++)
            if (leagueHistory.history_links[e].year !== `${year}`) {
                let t = leagueHistory.history_links[e].url;
                t.includes("myfantasyleague") && integratedHistory_Links.push(t);
            }
        (integratedHistory_ar = integratedHistory_Links
            .map((e, t) => ({
                yid: parseInt(e.split("/")[3], 10),
                sid: e.split("/")[2].substr(3, 2),
                lid: e.split("/").pop(),
            }))
            .filter((e) => e.yid <= year)).forEach(({ yid: e, sid: t, lid: a }) => {
            const lazyLoadTableTabs = (r, s, o, l) => {
                r && s.length && (o(e, t, a), l && l(e, t, a));
            };
            lazyLoadTableTabs(load_tradesHistory_script, $("#trades-history-wrapper"), trh_getTradesTableLazyLoad),
                lazyLoadTableTabs(load_topsHistory_script, $("#tops-history-wrapper"), th_getTopsTableLazyLoad),
                lazyLoadTableTabs(
                    load_playoffsHistory_script,
                    $("#playoffs-history-wrapper"),
                    ph_getPlayoffsTableLazyLoad
                ),
                lazyLoadTableTabs(
                    load_contractHistory_script,
                    $("#contract-history-wrapper"),
                    ch_getContractTableLazyLoad,
                    shared_getYtdPtsLazyLoad
                ),
                lazyLoadTableTabs(
                    load_standingsHistory_script,
                    $("#standings-history-wrapper"),
                    sh_getStandingsTableLazyLoad
                ),
                lazyLoadTableTabs(
                    load_draftHistory_script,
                    $("#draft-history-wrapper"),
                    dh_getDraftTableLazyLoad,
                    dh_accumulatePts ? dh_getYtdPtsLazyLoad : null
                );
        });
        const getHistoryTabsTable = (e, t, a, r) => {
            e && t.length && (a(), r(year, baseURLDynamic.split("/")[2].substr(3, 2), league_id, !0));
        };
        getHistoryTabsTable(load_tradesHistory_script, $("#trades-history-wrapper"), trh_buildTabs, trh_getTradesTable),
            getHistoryTabsTable(load_topsHistory_script, $("#tops-history-wrapper"), th_buildTabs, th_getTopsTable),
            getHistoryTabsTable(
                load_playoffsHistory_script,
                $("#playoffs-history-wrapper"),
                ph_buildTabs,
                ph_getPlayoffsTable
            ),
            getHistoryTabsTable(
                load_contractHistory_script,
                $("#contract-history-wrapper"),
                ch_buildTabs,
                ch_getContractTable
            ),
            getHistoryTabsTable(
                load_standingsHistory_script,
                $("#standings-history-wrapper"),
                sh_buildTabs,
                sh_getStandingsTable
            ),
            getHistoryTabsTable(load_draftHistory_script, $("#draft-history-wrapper"), dh_buildTabs, dh_getDraftTable);
    }
    function show_custom_tab_history(e) {
        var t = !1,
            a =
                parseInt(e) -
                parseInt(parseInt(e) / Math.pow(10, parseInt(e).toString().length - 1)) *
                    Math.pow(10, parseInt(e).toString().length - 1);
        1100 === (a = 100 * parseInt(a / 100)) &&
            (jQuery(".hs-control-setting").hide(),
            jQuery(".hs-control-setting-content").hide(),
            jQuery("#tab_options_" + e).show());
        for (
            var r =
                a +
                parseInt(parseInt(e) / Math.pow(10, parseInt(e).toString().length - 1)) *
                    Math.pow(10, parseInt(e).toString().length - 1);
            !t;

        ) {
            var s = document.getElementById("tabcontent" + r),
                o = document.getElementById("tab" + r);
            if (s && o) {
                if (r == parseInt(e)) {
                    (s.style.display = ""), (o.className = "currenttab");
                    var l =
                            "tab_title_" +
                            (a +
                                parseInt(parseInt(e) / Math.pow(10, parseInt(e).toString().length - 1)) *
                                    Math.pow(10, parseInt(e).toString().length - 1)),
                        i = document.getElementById(l);
                    i && o.firstChild && (i.innerHTML = o.firstChild.text);
                } else (s.style.display = "none"), (o.className = "");
                r++;
            } else t = !0;
        }
        try {
            setTimeout(() => {
                doTableScrollShadowHistory(e);
            }, 50);
        } catch (e) {
            console.error("Error executing doTableScrollShadowHistory:", e);
        }
    }
    function doTableScrollShadowHistory(e) {
        var t = "#tabcontent" + e,
            a = jQuery(t + " .hz-table-wrap").width();
        jQuery(t + " .hz-main-table").width(), jQuery(t + " .fixed-side").width();
        jQuery(t + " .hz-main-table")
            .parent()
            .on("scroll", function (e) {
                var r = $(t + " .hz-main-table").position(),
                    s = $(t + " .hz-table-wrap").scrollLeft(),
                    o = $(t + " .hz-clone").width();
                r.left >= 0
                    ? $(t + " .fixed-side").addClass("hz-hide-shadow")
                    : $(t + " .fixed-side").removeClass("hz-hide-shadow"),
                    s + a >= o - 2
                        ? $(t + " .shadow-right").addClass("hz-hide-shadow")
                        : $(t + " .shadow-right").removeClass("hz-hide-shadow");
            });
    }
    function doTableScrollHistory(e, t) {
        if (!document.getElementById(t)) return !1;
        switch (
            (jQuery("#" + t + " div.mobile-wrap table:first")
                .addClass("hz-main-table")
                .wrap('<div class="hz-table-wrap">'),
            e)
        ) {
            case 0:
            case 3:
                jQuery("#" + t + " div.mobile-wrap .hz-table-wrap")
                    .closest("div.mobile-wrap")
                    .addClass("hz-table-scroll"),
                    jQuery("#" + t + " div.mobile-wrap table tr:first").wrap("<thead></thead>"),
                    jQuery("#" + t + " div.mobile-wrap table tr:first th:first").addClass("fixed-side hz-hide-shadow"),
                    jQuery("#" + t + " div.mobile-wrap table thead")
                        .nextUntil("table")
                        .wrapAll("<tbody>"),
                    jQuery("#" + t + " div.mobile-wrap table thead").unwrap(),
                    jQuery("#" + t + " .hz-table-scroll tbody td:first-of-type").wrapInner(
                        '<th class="fixed-side hz-hide-shadow"></th>'
                    ),
                    jQuery("#" + t + " tbody .fixed-side").unwrap(),
                    jQuery("#" + t + " div.mobile-wrap table tbody th.lh_overall_franchise").addClass(
                        "fixed-side hz-hide-shadow"
                    );
                break;
            case 1:
                jQuery("#" + t + " div.mobile-wrap table tr.weeklypointtotals").remove(),
                    jQuery("#" + t + " div.mobile-wrap .hz-table-wrap")
                        .closest("div.mobile-wrap")
                        .addClass("hz-table-scroll fx-dbl-tbl"),
                    jQuery("#" + t + " div.mobile-wrap table tr:first").wrap("<thead></thead>"),
                    jQuery("#" + t + " div.mobile-wrap table tr:first th:first").addClass(
                        "fixed-side fx-dbl hz-hide-shadow"
                    ),
                    jQuery("#" + t + " div.mobile-wrap table thead")
                        .nextUntil("table")
                        .wrapAll("<tbody>"),
                    jQuery("#" + t + " div.mobile-wrap table thead").unwrap(),
                    jQuery("#" + t + " .hz-table-scroll tbody td:first-of-type").wrapInner(
                        '<th class="fixed-side fx-dbl hz-hide-shadow"></th>'
                    ),
                    jQuery("#" + t + " tbody .fixed-side").unwrap(),
                    jQuery("#" + t + " div.mobile-wrap table .player").each(function () {
                        $(this).prev("th").append(this);
                    }),
                    jQuery(".fixed-side").find(".player").contents().unwrap();
                break;
            case 2:
                jQuery("#" + t + " div.mobile-wrap .hz-table-wrap")
                    .closest("div.mobile-wrap")
                    .addClass("hz-table-scroll fx-dbl-tbl"),
                    jQuery("#" + t + " div.mobile-wrap table tr:first").wrap("<thead></thead>"),
                    jQuery("#" + t + " div.mobile-wrap table tbody tr th:first-of-type").addClass(
                        "fixed-side fx-dbl hz-hide-shadow"
                    ),
                    jQuery("#" + t + " div.mobile-wrap table thead")
                        .nextUntil("table")
                        .wrapAll("<tbody>"),
                    jQuery("#" + t + " div.mobile-wrap table thead").unwrap();
        }
        jQuery("#" + t + " .hz-main-table")
            .clone(!0)
            .appendTo("#" + t + " .hz-table-scroll")
            .addClass("hz-clone"),
            jQuery(".hz-clone").each(function () {
                $(this).clone(!0).appendTo($(this).parent()).addClass("hz_table_remove");
            }),
            jQuery(".hz-clone td+td:last-of-type,.hz-clone th+th:last-of-type").addClass("shadow-right hz-hide-shadow"),
            jQuery(".hz_table_remove tbody,.hz_table_remove thead").html(""),
            jQuery("th.fixed-side").has("img.lh_franchise_img , img.franchiseicon").addClass("has-ficon");
    }
    show_custom_tab_history(11100);
    var iframe_loading_id,
        iframe_check_count = 0;
    function lh_check_iframe_content() {
        if (iframe_check_count < 120)
            try {
                if (jQuery("#lh_iframe_form").contents().find("#body_pro_schedule").html().length > 0) {
                    (iframe_check_count = 0),
                        jQuery("#" + iframe_loading_id).html(
                            '<i class="fa-regular fa-check fa-2xl" style="color:green" aria-hidden="true"></i>'
                        ),
                        jQuery("head").append(
                            '<script id="current_history_js" src="' +
                                baseURLHistory +
                                "/" +
                                year +
                                "/leagues/" +
                                league_id +
                                "/current.js?v=" +
                                Math.random() +
                                '" /></script>'
                        ),
                        jQuery("head").append(
                            '<script id="full_history_js" src="' +
                                baseURLHistory +
                                "/" +
                                year +
                                "/leagues/" +
                                league_id +
                                "/history.js?v=" +
                                Math.random() +
                                '" /></script>'
                        );
                    try {
                        for (var e = 0; e < leagueHistory.history_links.length; e++)
                            jQuery("head").append(
                                '<script id="player_history_' +
                                    leagueHistory.history_links[e].year +
                                    '" src="' +
                                    baseURLHistory +
                                    "/" +
                                    year +
                                    "/players/" +
                                    league_id +
                                    "/" +
                                    leagueHistory.history_links[e].year +
                                    '.js" /></script>'
                            );
                    } catch (e) {}
                    lh_initiate(!0);
                }
            } catch (e) {
                try {
                    console.log("check for fatal error"),
                        jQuery("#lh_iframe_form").contents().find("#body_injury").html().length > 0 &&
                            ((iframe_check_count = 0),
                            jQuery("#" + iframe_loading_id).html(
                                '<i class="fa-regular fa-xmark fa-2xl" style="color:red" aria-hidden="true"></i><div style="font-weight:bold">FATAL ERROR</div>'
                            ));
                } catch (e) {
                    try {
                        console.log("check for missing content"),
                            jQuery("#lh_iframe_form").contents().find("#body_pro_matchup").html().length > 0 &&
                                ((iframe_check_count = 0),
                                jQuery("#" + iframe_loading_id).html(
                                    '<i class="fa-regular fa-triangle-exclamation fa-2xl" style="color:orange!important" aria-hidden="true"></i><div style="font-weight:bold">WARNING: MISSING CONTENT</div>'
                                ));
                    } catch (e) {
                        console.log("check again in 5 seconds"),
                            0 === iframe_check_count
                                ? jQuery("#" + iframe_loading_id).html(
                                      '<i class="fa-regular fa-gear fa-spin fa-2xl"></i><div id="loading_counter" style="font-weight:bold"></div>'
                                  )
                                : jQuery("#loading_counter").html(parseInt((iframe_check_count / 120) * 100) + "%"),
                            setTimeout("lh_check_iframe_content()", 5e3),
                            iframe_check_count++;
                    }
                }
            }
        else
            jQuery("#" + iframe_loading_id).html(
                '<i class="fa-regular fa-xmark fa-2xl" style="color:red" aria-hidden="true"></i><div style="font-weight:bold">TOO LONG</div>'
            ),
                (iframe_check_count = 0),
                (iframe_loading_id = "");
    }
    function createFranchiseAbbrev(e, t, a) {
        if (lh_abbrev_override.hasOwnProperty(e + "_" + t)) return lh_abbrev_override[e + "_" + t];
        if ("FA" === t) return a ? '<span class="lh_abbrev" title="Free Agent">-</span>' : "-";
        var r = leagueHistory.league_history_detail[e].franchises[t].name,
            s = leagueHistory.league_history_detail[e].franchises[t].abbrev;
        if (null === s) {
            s = "";
            var o = r.split(" ");
            if (o.length > 1) for (var l = 0; l < o.length; l++) s += o[l].substr(0, 1).toUpperCase();
        }
        return (
            "" === s && (s = r.substr(0, lh_abbrev_max_length).toUpperCase()),
            (s = s.substr(0, lh_abbrev_max_length).toUpperCase()),
            a ? '<span class="lh_abbrev" title="' + r + '">' + s + "</span>" : s
        );
    }
    function mostRecent(e, t, a) {
        if (!lh_use_most_recent_franchise_info || isDefunctFranchise(t, a))
            switch (e) {
                case 0:
                    return leagueHistory.league_history_detail[t].franchises[a].name;
                case 1:
                    return leagueHistory.league_history_detail[t].franchises[a].icon;
                case 2:
                    return leagueHistory.league_history_detail[t].franchises[a].logo;
                case 3:
                    return getFranchiseAbbrev(t, a, !1);
            }
        var r = leagueHistory.reverse_lookup[t + "_" + a];
        switch (e) {
            case 0:
                return "" !== leagueHistory.league_history_detail[leagueHistory.years[0]].franchises[r].name
                    ? leagueHistory.league_history_detail[leagueHistory.years[0]].franchises[r].name
                    : leagueHistory.league_history_detail[t].franchises[a].name;
            case 1:
                return "" !== leagueHistory.league_history_detail[leagueHistory.years[0]].franchises[r].icon
                    ? leagueHistory.league_history_detail[leagueHistory.years[0]].franchises[r].icon
                    : leagueHistory.league_history_detail[t].franchises[a].icon;
            case 2:
                return "" !== leagueHistory.league_history_detail[leagueHistory.years[0]].franchises[r].logo
                    ? leagueHistory.league_history_detail[leagueHistory.years[0]].franchises[r].logo
                    : leagueHistory.league_history_detail[t].franchises[a].logo;
            case 3:
                return "" !== leagueHistory.league_history_detail[leagueHistory.years[0]].franchises[r].abbrev
                    ? getFranchiseAbbrev(leagueHistory.years[0], r, !1)
                    : getFranchiseAbbrev(t, a, !1);
            default:
                return "";
        }
    }
    function getFranchiseAbbrev(e, t, a, r) {
        if (a)
            try {
                return lh_abbrev_override.hasOwnProperty(e + "_" + leagueHistory.parent_lookup[e + "_" + t])
                    ? lh_abbrev_override[e + "_" + leagueHistory.parent_lookup[e + "_" + t]]
                    : leagueHistory.league_history_detail[e].franchises[leagueHistory.parent_lookup[e + "_" + t]].name;
            } catch (a) {
                return (
                    console.log(e + " " + t + " " + leagueHistory.fid_history_detail[t][e].fname),
                    leagueHistory.fid_history_detail[t][e].fname
                );
            }
        else {
            if (!r || "FA" === t) return createFranchiseAbbrev(e, t, !0);
            switch (lh_abbrev_icon_logo) {
                case 0:
                default:
                    return createFranchiseAbbrev(e, t, !0);
                case 1:
                case 5:
                    return 1 === lh_abbrev_icon_logo || (5 === lh_abbrev_icon_logo && !isDefunctFranchise(e, t))
                        ? "" !== mostRecent(1, e, t)
                            ? '<img src="' +
                              mostRecent(1, e, t) +
                              '" class="lh_franchise_img lh_icon" title="' +
                              mostRecent(0, e, t) +
                              '" alt="' +
                              mostRecent(0, e, t) +
                              '" />'
                            : "" !== mostRecent(2, e, t)
                              ? '<img src="' +
                                mostRecent(2, e, t) +
                                '" class="lh_franchise_img lh_icon_logo" title="' +
                                mostRecent(0, e, t) +
                                '" alt="' +
                                mostRecent(0, e, t) +
                                '" />'
                              : createFranchiseAbbrev(e, t, !0)
                        : createFranchiseAbbrev(e, t, !0);
                case 2:
                case 6:
                    return 2 === lh_abbrev_icon_logo || (6 === lh_abbrev_icon_logo && !isDefunctFranchise(e, t))
                        ? "" !== mostRecent(2, e, t)
                            ? '<img src="' +
                              mostRecent(2, e, t) +
                              '" class="lh_franchise_img lh_logo" title="' +
                              mostRecent(0, e, t) +
                              '" alt="' +
                              mostRecent(0, e, t) +
                              '" />'
                            : "" !== mostRecent(1, e, t)
                              ? '<img src="' +
                                mostRecent(1, e, t) +
                                '" class="lh_franchise_img lh__icon" title="' +
                                mostRecent(0, e, t) +
                                '" alt="' +
                                mostRecent(0, e, t) +
                                '" />'
                              : createFranchiseAbbrev(e, t, !0)
                        : createFranchiseAbbrev(e, t, !0);
                case 3:
                case 7:
                    return 3 === lh_abbrev_icon_logo || (3 === lh_abbrev_icon_logo && !isDefunctFranchise(e, t))
                        ? "" !== mostRecent(1, e, t)
                            ? '<img src="' +
                              mostRecent(1, e, t) +
                              '" class="lh_franchise_img lh_icon" title="' +
                              mostRecent(0, e, t) +
                              '" alt="' +
                              mostRecent(0, e, t) +
                              '" /> ' +
                              createFranchiseAbbrev(e, t, !0)
                            : "" !== mostRecent(2, e, t)
                              ? '<img src="' +
                                mostRecent(2, e, t) +
                                '" class="lh_franchise_img lh_icon_logo" title="' +
                                mostRecent(0, e, t) +
                                '" alt="' +
                                mostRecent(0, e, t) +
                                '" /> ' +
                                createFranchiseAbbrev(e, t, !0)
                              : createFranchiseAbbrev(e, t, !0)
                        : createFranchiseAbbrev(e, t, !0);
                case 4:
                case 8:
                    return 4 === lh_abbrev_icon_logo || (8 === lh_abbrev_icon_logo && !isDefunctFranchise(e, t))
                        ? "" !== mostRecent(2, e, t)
                            ? '<img src="' +
                              mostRecent(2, e, t) +
                              '" class="lh_franchise_img lh_logo" title="' +
                              mostRecent(0, e, t) +
                              '" alt="' +
                              mostRecent(0, e, t) +
                              '" /> ' +
                              createFranchiseAbbrev(e, t, !0)
                            : "" !== mostRecent(1, e, t)
                              ? '<img src="' +
                                mostRecent(1, e, t) +
                                '" class="lh_franchise_img lh__icon" title="' +
                                mostRecent(0, e, t) +
                                '" alt="' +
                                mostRecent(0, e, t) +
                                '" /> ' +
                                createFranchiseAbbrev(e, t, !0)
                              : createFranchiseAbbrev(e, t, !0)
                        : createFranchiseAbbrev(e, t, !0);
            }
        }
    }
    function isDefunctFranchise(e, t) {
        if (!leagueHistory.parent_lookup.hasOwnProperty(e + "_" + t)) return !0;
        try {
            var a = leagueHistory.league_history_detail[e].franchises[t].name;
            return !!leagueHistory.defunct_franchise.hasOwnProperty(a);
        } catch (e) {}
        return !1;
    }
    function getFranchiseName(e, t, a, r) {
        if (a)
            try {
                if (((_p_fid = leagueHistory.parent_lookup[e + "_" + t]), !r)) return mostRecent(0, e, _p_fid);
                switch (lh_name_icon_logo) {
                    case 0:
                    default:
                        return mostRecent(0, e, _p_fid);
                    case 1:
                    case 5:
                        return 1 === lh_name_icon_logo || (5 === lh_name_icon_logo && !isDefunctFranchise(e, _p_fid))
                            ? "" !== mostRecent(1, e, _p_fid)
                                ? '<img src="' +
                                  mostRecent(1, e, _p_fid) +
                                  '" class="lh_franchise_img lh_icon" title="' +
                                  mostRecent(0, e, _p_fid) +
                                  '" alt="' +
                                  mostRecent(0, e, _p_fid) +
                                  '" />'
                                : "" !== mostRecent(2, e, _p_fid)
                                  ? '<img src="' +
                                    mostRecent(2, e, _p_fid) +
                                    '" class="lh_franchise_img lh_icon_logo" title="' +
                                    mostRecent(0, e, _p_fid) +
                                    '" alt="' +
                                    mostRecent(0, e, _p_fid) +
                                    '" />'
                                  : mostRecent(0, e, _p_fid)
                            : mostRecent(0, e, _p_fid);
                    case 2:
                    case 6:
                        return 2 === lh_name_icon_logo || (6 === lh_name_icon_logo && !isDefunctFranchise(e, _p_fid))
                            ? "" !== mostRecent(2, e, _p_fid)
                                ? '<img src="' +
                                  mostRecent(2, e, _p_fid) +
                                  '" class="lh_franchise_img lh_logo" title="' +
                                  mostRecent(0, e, _p_fid) +
                                  '" alt="' +
                                  mostRecent(0, e, _p_fid) +
                                  '" />'
                                : "" !== mostRecent(1, e, _p_fid)
                                  ? '<img src="' +
                                    mostRecent(1, e, _p_fid) +
                                    '" class="lh_franchise_img lh__icon" title="' +
                                    mostRecent(0, e, _p_fid) +
                                    '" alt="' +
                                    mostRecent(0, e, _p_fid) +
                                    '" />'
                                  : mostRecent(0, e, _p_fid)
                            : mostRecent(0, e, _p_fid);
                    case 3:
                    case 7:
                        return 3 === lh_name_icon_logo || (7 === lh_name_icon_logo && !isDefunctFranchise(e, _p_fid))
                            ? "" !== mostRecent(1, e, _p_fid)
                                ? '<img src="' +
                                  mostRecent(1, e, _p_fid) +
                                  '" class="lh_franchise_img lh_icon" title="' +
                                  mostRecent(0, e, _p_fid) +
                                  '" alt="' +
                                  mostRecent(0, e, _p_fid) +
                                  '" /> ' +
                                  mostRecent(0, e, _p_fid)
                                : "" !== mostRecent(2, e, _p_fid)
                                  ? '<img src="' +
                                    mostRecent(2, e, _p_fid) +
                                    '" class="lh_franchise_img lh_icon_logo" title="' +
                                    mostRecent(0, e, _p_fid) +
                                    '" alt="' +
                                    mostRecent(0, e, _p_fid) +
                                    '" /> ' +
                                    mostRecent(0, e, _p_fid)
                                  : mostRecent(0, e, _p_fid)
                            : mostRecent(0, e, _p_fid);
                    case 4:
                    case 8:
                        return 4 === lh_name_icon_logo || (8 === lh_name_icon_logo && !isDefunctFranchise(e, _p_fid))
                            ? "" !== mostRecent(2, e, _p_fid)
                                ? '<img src="' +
                                  mostRecent(2, e, _p_fid) +
                                  '" class="lh_franchise_img lh_logo" title="' +
                                  mostRecent(0, e, _p_fid) +
                                  '" alt="' +
                                  mostRecent(0, e, _p_fid) +
                                  '" /> ' +
                                  mostRecent(0, e, _p_fid)
                                : "" !== mostRecent(1, e, _p_fid)
                                  ? '<img src="' +
                                    mostRecent(1, e, _p_fid) +
                                    '" class="lh_franchise_img lh_icon" title="' +
                                    mostRecent(0, e, _p_fid) +
                                    '" alt="' +
                                    mostRecent(0, e, _p_fid) +
                                    '" /> ' +
                                    mostRecent(0, e, _p_fid)
                                  : mostRecent(0, e, _p_fid)
                            : mostRecent(0, e, _p_fid);
                }
            } catch (a) {
                return (
                    console.log(e + " " + t + " " + leagueHistory.fid_history_detail[t][e].fname),
                    null === leagueHistory.fid_history_detail[t][e].fname
                        ? "?"
                        : leagueHistory.fid_history_detail[t][e].fname
                );
            }
        else
            try {
                if (!r) return mostRecent(0, e, t);
                switch (lh_name_icon_logo) {
                    case 0:
                    default:
                        return mostRecent(0, e, t);
                    case 1:
                    case 5:
                        return 1 === lh_name_icon_logo || (5 === lh_name_icon_logo && !isDefunctFranchise(e, t))
                            ? "" !== mostRecent(1, e, t)
                                ? '<img src="' +
                                  mostRecent(1, e, t) +
                                  '" class="lh_franchise_img lh_icon" title="' +
                                  mostRecent(0, e, t) +
                                  '" alt="' +
                                  mostRecent(0, e, t) +
                                  '" />'
                                : "" !== mostRecent(2, e, t)
                                  ? '<img src="' +
                                    mostRecent(2, e, t) +
                                    '" class="lh_franchise_img lh_icon_logo" title="' +
                                    mostRecent(0, e, t) +
                                    '" alt="' +
                                    mostRecent(0, e, t) +
                                    '" />'
                                  : mostRecent(0, e, t)
                            : mostRecent(0, e, t);
                    case 2:
                    case 6:
                        return 2 === lh_name_icon_logo || (6 === lh_name_icon_logo && !isDefunctFranchise(e, t))
                            ? "" !== mostRecent(2, e, t)
                                ? '<img src="' +
                                  mostRecent(2, e, t) +
                                  '" class="lh_franchise_img lh_logo" title="' +
                                  mostRecent(0, e, t) +
                                  '" alt="' +
                                  mostRecent(0, e, t) +
                                  '" />'
                                : "" !== mostRecent(1, e, t)
                                  ? '<img src="' +
                                    mostRecent(1, e, t) +
                                    '" class="lh_franchise_img lh__icon" title="' +
                                    mostRecent(0, e, t) +
                                    '" alt="' +
                                    mostRecent(0, e, t) +
                                    '" />'
                                  : mostRecent(0, e, t)
                            : mostRecent(0, e, t);
                    case 3:
                    case 7:
                        return 3 === lh_name_icon_logo || (7 === lh_name_icon_logo && !isDefunctFranchise(e, t))
                            ? "" !== mostRecent(1, e, t)
                                ? '<img src="' +
                                  mostRecent(1, e, t) +
                                  '" class="lh_franchise_img lh_icon" title="' +
                                  mostRecent(0, e, t) +
                                  '" alt="' +
                                  mostRecent(0, e, t) +
                                  '" /> ' +
                                  mostRecent(0, e, t)
                                : "" !== mostRecent(2, e, t)
                                  ? '<img src="' +
                                    mostRecent(2, e, t) +
                                    '" class="lh_franchise_img lh_icon_logo" title="' +
                                    mostRecent(0, e, t) +
                                    '" alt="' +
                                    mostRecent(0, e, t) +
                                    '" /> ' +
                                    mostRecent(0, e, t)
                                  : mostRecent(0, e, t)
                            : mostRecent(0, e, t);
                    case 4:
                    case 8:
                        return 4 === lh_name_icon_logo || (8 === lh_name_icon_logo && !isDefunctFranchise(e, t))
                            ? "" !== mostRecent(2, e, t)
                                ? '<img src="' +
                                  mostRecent(2, e, t) +
                                  '" class="lh_franchise_img lh_logo" title="' +
                                  mostRecent(0, e, t) +
                                  '" alt="' +
                                  mostRecent(0, e, t) +
                                  '" /> ' +
                                  mostRecent(0, e, t)
                                : "" !== mostRecent(1, e, t)
                                  ? '<img src="' +
                                    mostRecent(1, e, t) +
                                    '" class="lh_franchise_img lh__icon" title="' +
                                    mostRecent(0, e, t) +
                                    '" alt="' +
                                    mostRecent(0, e, t) +
                                    '" /> ' +
                                    mostRecent(0, e, t)
                                  : mostRecent(0, e, t)
                            : mostRecent(0, e, t);
                }
            } catch (a) {
                return null === leagueHistory.league_history_detail[e].franchises[t].name
                    ? "?"
                    : leagueHistory.league_history_detail[e].franchises[t].name;
            }
    }
    function lh_custom_historical_franchises(e) {
        if (e) {
            jQuery("#lh_custom_historical_franchises_wrapper").attr("style", "display:inline-block;width:100%");
            var t = `${baseURLHistory}/createHistoricalLinks.php?year=${year}&league_id=${league_id}`;
            fetch(t, { method: "GET", credentials: "include" })
                .then((e) => {
                    if (!e.ok) throw new Error("Network response was not OK");
                    return e.json();
                })
                .then((e) => {})
                .catch((e) => {
                    $("head").append(
                        '<script src="' +
                            baseURLHistory +
                            "/" +
                            year +
                            "/leagues/" +
                            league_id +
                            '/links.js" /></script>'
                    ),
                        setTimeout("lh_custom_historical_franchises(false)", 700);
                });
        }
        if (!e) {
            var a = "";
            (a += '<div class="mobile-wrap">'),
                (a += '<table align="center" cellspacing="1" class="report" id="custom_link_historical_franchises">'),
                (a +=
                    '<caption style="display:table-caption"><span>Custom Link Historical Franchises</span></caption>'),
                (a += "<tr>");
            var r = !0;
            for (var s in leagueLinks)
                leagueLinks.hasOwnProperty(s) &&
                    ((a += r
                        ? "<th>" + leagueLinks[s].year + "</th>"
                        : '<th><a href="' +
                          leagueLinks[s].url +
                          '" target="_blank">' +
                          leagueLinks[s].year +
                          "</a></th>"),
                    (r = !1));
            var o = 0;
            for (var l in franchiseDatabase)
                if (franchiseDatabase.hasOwnProperty(l) && "fid_0000" !== l) {
                    r = !0;
                    for (var i in ((a += o % 2 ? '<tr class="eventablerow">' : '<tr class="oddtablerow">'),
                    leagueLinks))
                        if (leagueLinks.hasOwnProperty(i)) {
                            if (r)
                                a +=
                                    '<td><a class="franchise_' +
                                    franchiseDatabase[l].id +
                                    '" href="' +
                                    baseURLDynamic +
                                    "/" +
                                    year +
                                    "/options?L=" +
                                    league_id +
                                    "&F=" +
                                    franchiseDatabase[l].id +
                                    '&O=01">' +
                                    franchiseDatabase[l].name +
                                    "</a></td>";
                            else {
                                for (var n in ((a += "<td>"),
                                (a +=
                                    '<select size="1" name="' +
                                    franchiseDatabase[l].id +
                                    "_" +
                                    leagueLinks[i].year +
                                    '">'),
                                (a += "<option value>None</option>"),
                                leagueLinks[i].franchises))
                                    if (leagueLinks[i].franchises.hasOwnProperty(n)) {
                                        var d =
                                                leagueLinks[i].year +
                                                "_" +
                                                leagueLinks[i].league_id +
                                                "_" +
                                                leagueLinks[i].franchises[n].id,
                                            c = leagueLinks[i].franchises[n].name,
                                            p = franchiseDatabase[l].name;
                                        c.toLowerCase() === p.trim().toLowerCase()
                                            ? (a += '<option value="' + d + '" selected="selected">' + c + "</option>")
                                            : (a += '<option value="' + d + '">' + c + "</option>");
                                    }
                                (a += "</select>"), (a += "</td>");
                            }
                            r = !1;
                        }
                    (a += "</tr>"), o++;
                }
            (a += "</tr>"),
                (a += "</table>"),
                (a += "</div>"),
                jQuery("#lh_custom_historical_franchises_wrapper").removeAttr("style"),
                jQuery("#lh_custom_historical_franchises_wrapper").html(a),
                doTableScrollHistory(3, "lh_custom_historical_franchises_wrapper");
        }
    }
    function doLeagueHistory(e) {
        historySavetoHPM(),
            jQuery("#lh_iframe_wrapper").html(
                '<iframe name="lh_iframe_form" id="lh_iframe_form" allowtransparency="true"></iframe>'
            );
        var t = "";
        (t += lh_open_form_in_iframe
            ? '<form method="POST" id="create_history" name="create_history" target="lh_iframe_form" action="' +
              baseURLHistory +
              '/createHistory.php">'
            : '<form method="POST" id="create_history" name="create_history" target="_blank" action="' +
              baseURLHistory +
              '/createHistory.php">'),
            (t += '<input type="hidden" name="league_id" value="' + league_id + '" />'),
            (t += '<input type="hidden" name="year" value="' + year + '" />'),
            (t += '<input type="hidden" name="apikey" value="' + apiKey + '" />'),
            (t +=
                '<input type="hidden" name="sid" value="' +
                baseURLDynamic.substr(baseURLDynamic.indexOf("www") + 3, 2) +
                '" />'),
            (t += '<input type="hidden" name="full_history" value="' + e + '" />'),
            e && ((t += getLeagueAwards()), (t += getLinkedFranchise())),
            lh_open_form_in_iframe || (t += '<input type="hidden" name="redirect" value="false" />'),
            (t += '<input type="hidden" name="initial" value="true" />'),
            (t += "</form>"),
            jQuery("#html-form-content").html(t),
            jQuery("#create_history").submit(),
            lh_open_form_in_iframe &&
                ((iframe_loading_id = e ? "lh_full_history_loading" : "lh_history_loading"),
                (iframe_check_count = 0),
                lh_check_iframe_content());
    }
    function historySavetoHPM() {
        $.ajax({
            type: "GET",
            url: `${baseURLDynamic}/${year}/options?L=${league_id}&O=170&PRINTER=1`,
            xhrFields: { withCredentials: !0 },
            success: function (e) {
                if (((thisFormExists = $(e).find("form[action=options]").html()), $.trim(thisFormExists))) {
                    historicalLinkFormData = $(e).find("form[action=options]").serialize();
                    var t = historicalLinkFormData + "&SAVE=Save+Linked+Franchises",
                        a = `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message3000`;
                    $.ajax({
                        url: a,
                        xhrFields: { withCredentials: !0 },
                        data: { MSG: t, LABEL: "#3000 Historical Link" },
                        cache: !1,
                        type: "POST",
                        success: function (e) {},
                        error: function (e) {},
                    });
                } else;
            },
            error: function (e) {},
        });
    }
    function doPlayerHistory(e) {
        historySavetoHPM(),
            jQuery("#lh_iframe_wrapper").html(
                '<iframe name="lh_iframe_form" id="lh_iframe_form" allowtransparency="true"></iframe>'
            );
        var t = "";
        (t += lh_open_form_in_iframe
            ? '<form method="POST" id="create_player_history" name="create_player_history" target="lh_iframe_form" action="' +
              baseURLHistory +
              '/createPlayerHistory.php">'
            : '<form method="POST" id="create_player_history" name="create_player_history" target="_blank" action="' +
              baseURLHistory +
              '/createPlayerHistory.php">'),
            (t += '<input type="hidden" name="league_id" value="' + league_id + '" />'),
            (t += '<input type="hidden" name="year" value="' + year + '" />'),
            (t += '<input type="hidden" name="apikey" value="' + apiKey + '" />'),
            (t +=
                '<input type="hidden" name="sid" value="' +
                baseURLDynamic.substr(baseURLDynamic.indexOf("www") + 3, 2) +
                '" />'),
            (t += '<input type="hidden" name="full_history" value="' + e + '" />'),
            lh_open_form_in_iframe || (t += '<input type="hidden" name="redirect" value="false" />'),
            (t += '<input type="hidden" name="initial" value="true" />'),
            (t += "</form>"),
            jQuery("#html-form-content").html(t),
            jQuery("#create_player_history").submit(),
            lh_open_form_in_iframe &&
                ((iframe_loading_id = e ? "lh_full_player_loading" : "lh_player_loading"),
                (iframe_check_count = 0),
                lh_check_iframe_content());
    }
    function doLeagueHistoryReset() {
        jQuery("#lh_iframe_wrapper").html(
            '<iframe name="lh_iframe_form" id="lh_iframe_form" allowtransparency="true"></iframe>'
        );
        var e = "";
        (e += lh_open_form_in_iframe
            ? '<form method="POST" id="reset_history" name="reset_history" target="lh_iframe_form" action="' +
              baseURLHistory +
              '/createHistory.php">'
            : '<form method="POST" id="reset_history" name="reset_history" target="_blank" action="' +
              baseURLHistory +
              '/createHistory.php">'),
            (e += '<input type="hidden" name="league_id" value="' + league_id + '" />'),
            (e += '<input type="hidden" name="year" value="' + year + '" />'),
            (e += '<input type="hidden" name="reset" value="true" />'),
            (e += '<input type="hidden" name="apikey" value="' + apiKey + '" />'),
            (e +=
                '<input type="hidden" name="sid" value="' +
                baseURLDynamic.substr(baseURLDynamic.indexOf("www") + 3, 2) +
                '" />'),
            lh_open_form_in_iframe || (e += '<input type="hidden" name="redirect" value="false" />'),
            (e += "</form>"),
            jQuery("#html-form-content").html(e),
            jQuery("#reset_history").submit();
    }
    function getLeagueAwards() {
        var e = "",
            t = baseURLDynamic + "/" + year + "/options?L=" + league_id + "&O=202&PRINTER=1";
        return (
            $.ajax({
                url: t,
                type: "GET",
                dataType: "html",
                xhrFields: { withCredentials: !0 },
                async: !1,
                success: function (t) {
                    var a = !0;
                    $(t)
                        .find("table tr")
                        .each(function () {
                            $(this).find("td:nth-child(3) a").length > 0 &&
                                historicalAwards.hasOwnProperty($(this).find("td:nth-child(2)").text().trim()) &&
                                (a || (e += ","),
                                (e += $(this).find("td:nth-child(1)").text().trim() + "|"),
                                (e += $(this).find("td:nth-child(2)").text().trim() + "|"),
                                (e += $(this)
                                    .find("td:nth-child(3) a")
                                    .attr("href")
                                    .substr($(this).find("td:nth-child(3) a").attr("href").indexOf("F=") + 2, 4)),
                                (a = !1));
                        });
                },
            }),
            "" !== e && (e = '<input type="hidden" name="league_awards" value="' + e + '" />'),
            e
        );
    }
    function getLinkedFranchise() {
        var e = [],
            t = [],
            a = !1,
            r = "";
        if (document.getElementById("custom_link_historical_franchises"))
            $("#lh_custom_historical_franchises_wrapper").find("table:first-child thead tr th").attr("attr", "th_cell"),
                $("#lh_custom_historical_franchises_wrapper")
                    .find("table:first-child tbody tr th")
                    .attr("attr", "td_cell"),
                $("#lh_custom_historical_franchises_wrapper")
                    .find("table:first-child tbody tr td")
                    .attr("attr", "td_cell"),
                $("#lh_custom_historical_franchises_wrapper")
                    .find("table:first-child tr")
                    .each(function () {
                        $(this)
                            .find("[attr=th_cell]")
                            .each(function () {
                                t.push($(this).text());
                            });
                        var r = 0,
                            s = "";
                        $(this)
                            .find("[attr=td_cell]")
                            .each(function () {
                                if (0 === r) {
                                    var o = $(this).text().trim(),
                                        l = $(this).find("a").attr("href");
                                    (s = l.substr(l.indexOf("F=") + 2, 4)),
                                        "" === o && (o = franchiseDatabase["fid_" + s].name.trim()),
                                        (a = !0),
                                        (e[s] = []);
                                    for (var i = 0; i < t.length; i++) e[s]["yr_" + t[i]] = { name: "-", id: "-" };
                                    (e[s]["yr_" + t[0]].name = o), (e[s]["yr_" + t[0]].id = s);
                                } else
                                    $(this).find("select").val().length > 0 &&
                                        ((a = !0),
                                        (e[s]["yr_" + t[r]].name = lh_auto_rename_linked_franchise
                                            ? e[s]["yr_" + t[0]].name
                                            : $(this).find("select option:selected").text().trim()),
                                        (e[s]["yr_" + t[r]].id = $(this).find("select").val().substr(-4)));
                                r++;
                            });
                    });
        else {
            var s = baseURLDynamic + "/" + year + "/options?L=" + league_id + "&O=170&PRINTER=1";
            $.ajax({
                url: s,
                type: "GET",
                dataType: "html",
                xhrFields: { withCredentials: !0 },
                async: !1,
                success: function (r) {
                    $(r)
                        .find("table tr")
                        .each(function () {
                            $(this)
                                .find("th")
                                .each(function () {
                                    t.push($(this).text());
                                });
                            var r = 0,
                                s = "";
                            $(this)
                                .find("td")
                                .each(function () {
                                    if (0 === r) {
                                        var o = $(this).text().trim(),
                                            l = $(this).find("a").attr("href");
                                        (s = l.substr(l.indexOf("F=") + 2, 4)),
                                            "" === o && (o = franchiseDatabase["fid_" + s].name.trim()),
                                            (a = !0),
                                            (e[s] = []);
                                        for (var i = 0; i < t.length; i++) e[s]["yr_" + t[i]] = { name: "-", id: "-" };
                                        (e[s]["yr_" + t[0]].name = o), (e[s]["yr_" + t[0]].id = s);
                                    } else
                                        $(this).find("select").val().length > 0 &&
                                            ((a = !0),
                                            (e[s]["yr_" + t[r]].name = lh_auto_rename_linked_franchise
                                                ? e[s]["yr_" + t[0]].name
                                                : $(this).find("select option:selected").text().trim()),
                                            (e[s]["yr_" + t[r]].id = $(this).find("select").val().substr(-4)));
                                    r++;
                                });
                        });
                },
            });
        }
        if (a) {
            r += '<input type="hidden" name="years" value="';
            for (var o = 0; o < t.length; o++) o === t.length - 1 ? (r += t[o]) : (r += t[o] + ",");
            (r += '" />'), (r += '<input type="hidden" name="fid_list" value="');
            var l = !0;
            for (var i in e) e.hasOwnProperty(i) && (l || (r += ","), (r += i), (l = !1));
            for (var i in ((r += '" />'), e))
                if (e.hasOwnProperty(i)) {
                    var n = '<input type="hidden" name="fid_' + i + '" value="',
                        d = '<input type="hidden" name="name_' + i + '" value="';
                    l = !0;
                    for (var c in e[i])
                        e[i].hasOwnProperty(c) &&
                            (l || ((n += ","), (d += ",")), (n += e[i][c].id), (d += e[i][c].name), (l = !1));
                    (r += n += '" />'), (r += d += '" />');
                }
        } else {
            (r += '<input type="hidden" name="years" value="' + year + '" />'),
                (r += '<input type="hidden" name="fid_list" value="');
            l = !0;
            for (var i in franchiseDatabase)
                franchiseDatabase.hasOwnProperty(i) &&
                    "fid_0000" !== i &&
                    (l || (r += ","), (r += franchiseDatabase[i].id), (l = !1));
            for (var i in ((r += '" />'), franchiseDatabase))
                if (franchiseDatabase.hasOwnProperty(i) && "fid_0000" !== i) {
                    (n = '<input type="hidden" name="fid_' + franchiseDatabase[i].id + '" value="'),
                        (d = '<input type="hidden" name="name_' + franchiseDatabase[i].id + '" value="');
                    (l = !0) || ((n += ","), (d += ",")),
                        (n += franchiseDatabase[i].id),
                        (d += franchiseDatabase[i].name),
                        (l = !1),
                        (r += n += '" />'),
                        (r += d += '" />');
                }
        }
        l = !0;
        for (var i in ((r += '<input type="hidden" name="fname_override" value="'), lh_fname_override))
            lh_fname_override.hasOwnProperty(i) && (l || (r += ","), (r += i + "|" + lh_fname_override[i]), (l = !1));
        return (
            (r += '" />'),
            lh_auto_rename_linked_franchise && (r += '<input type="hidden" name="rename" value="true" />'),
            r
        );
    }
    function getScoreDetails(e, t, a) {
        for (var r = "", s = "", o = "", l = 0; l < leagueHistory.history_links.length; l++)
            if (parseInt(leagueHistory.history_links[l].year) === parseInt(e)) {
                (s = leagueHistory.history_links[l].url.substr(
                    leagueHistory.history_links[l].url.indexOf("www") + 3,
                    2
                )),
                    (r = leagueHistory.history_links[l].url.substr(-5));
                break;
            }
        if ("" !== r)
            try {
                var i = `//www${s}.myfantasyleague.com/${e}/weekly?L=${r}&W=${t}&PRINTER=1`;
                fetch(i, { credentials: "include" })
                    .then(function (e) {
                        if (e.ok) return e.text();
                        throw new Error("Network response was not OK");
                    })
                    .then(function (r) {
                        $(r)
                            .find("table caption span a.franchise_" + a)
                            .each(function () {
                                $(this)
                                    .closest("table")
                                    .find("a")
                                    .each(function () {
                                        $(this).removeAttr("href");
                                    }),
                                    $(this)
                                        .closest("table")
                                        .find("a")
                                        .each(function () {
                                            $(this).css("pointer-events", "none");
                                        }),
                                    $(this).closest("table").find("tr.reportfooter td").html(""),
                                    (o +=
                                        '<table align="center" cellspacing="1" class="report">' +
                                        $(this).closest("table").html() +
                                        "</table>"),
                                    $("#ls-modal-1-header-content").html("Summary: " + e + " Week " + t),
                                    $("#ls-modal-1-content").html(o),
                                    $("#ls-modal-1-content table").addClass("details_table"),
                                    $("#ls-modal-1-content").scrollTop(0);
                            });
                    })
                    .catch(function (l) {
                        var i = "",
                            n = "",
                            d = "",
                            c = "",
                            p = 0;
                        if (
                            (document.getElementById("default") &&
                                (i = jQuery("#default")
                                    .attr("href")
                                    .substr(
                                        jQuery("#default").attr("href").indexOf("skins"),
                                        jQuery("#default").attr("href").length
                                    )),
                            document.getElementById("custom") &&
                                (n = jQuery("#custom")
                                    .attr("href")
                                    .substr(
                                        jQuery("#custom").attr("href").indexOf("//") + 2,
                                        jQuery("#custom").attr("href").length
                                    )),
                            document.getElementById("skin") &&
                                (d = jQuery("#skin")
                                    .attr("href")
                                    .substr(
                                        jQuery("#skin").attr("href").indexOf("skins"),
                                        jQuery("#skin").attr("href").length
                                    )),
                            document.getElementById("responsive") &&
                                (c = jQuery("#responsive")
                                    .attr("href")
                                    .substr(
                                        jQuery("#responsive").attr("href").indexOf("skins"),
                                        jQuery("#responsive").attr("href").length
                                    )),
                            "https" === location.href.substr(0, 5))
                        )
                            p = 1;
                        (s = location.href.substr(location.href.indexOf("www") + 3, 2)),
                            (o +=
                                '<iframe id="iframe-summary-popup" class="iframe_tall" src="' +
                                baseURLHistory +
                                "/getScoreDetails.php?Y=" +
                                e +
                                "&S=" +
                                s +
                                "&L=" +
                                r +
                                "&W=" +
                                t +
                                "&F=" +
                                a +
                                "&secured=" +
                                p +
                                "&custom=" +
                                n +
                                "&default=" +
                                i +
                                "&skin=" +
                                d +
                                "&responsive=" +
                                c +
                                '" frameBorder="0" allowtransparency="true" style="visibility:hidden;" onload="this.style.visibility = \'visible\';"></iframe>'),
                            $("#ls-modal-1-header-content").html("Summary: " + e + " Week " + t),
                            $("#ls-modal-1-content").html(o),
                            $("#ls-modal-1-content").scrollTop(0);
                    });
            } catch (e) {}
    }
    function getPlayerScoreDetails(e, t, a) {
        for (var r = "", s = "", o = "", l = 0; l < leagueHistory.history_links.length; l++)
            if (parseInt(leagueHistory.history_links[l].year) === parseInt(e)) {
                (s = leagueHistory.history_links[l].url.substr(
                    leagueHistory.history_links[l].url.indexOf("www") + 3,
                    2
                )),
                    (r = leagueHistory.history_links[l].url.substr(-5));
                break;
            }
        if ("" !== r)
            try {
                var i = `//www${s}.myfantasyleague.com/${e}/detailed?L=${r}&W=${t}&P=${a}&PRINTER=1`;
                fetch(i, { credentials: "include" })
                    .then((e) => {
                        if (!e.ok) throw new Error("Network response was not ok");
                        return e.text();
                    })
                    .then((a) => {
                        $(a)
                            .find("table.report")
                            .each(function () {
                                $(this)
                                    .closest("table")
                                    .find("a")
                                    .each(function () {
                                        $(this).removeAttr("href");
                                    }),
                                    $(this)
                                        .closest("table")
                                        .find("a")
                                        .each(function () {
                                            $(this).css("pointer-events", "none");
                                        }),
                                    (o +=
                                        '<table align="center" cellspacing="1" class="report">' +
                                        $(this).closest("table").html() +
                                        "</table>"),
                                    $("#ls-modal-4-header-content").html("Breakdown: " + e + " Week " + t),
                                    $("#ls-modal-4-content").html(o),
                                    $("#ls-modal-4-content").scrollTop(0);
                            });
                    })
                    .catch((l) => {
                        var i = "",
                            n = "",
                            d = "",
                            c = "",
                            p = 0;
                        if (
                            (document.getElementById("default") &&
                                (i = jQuery("#default")
                                    .attr("href")
                                    .substr(
                                        jQuery("#default").attr("href").indexOf("skins"),
                                        jQuery("#default").attr("href").length
                                    )),
                            document.getElementById("custom") &&
                                (n = jQuery("#custom")
                                    .attr("href")
                                    .substr(
                                        jQuery("#custom").attr("href").indexOf("//") + 2,
                                        jQuery("#custom").attr("href").length
                                    )),
                            document.getElementById("skin") &&
                                (d = jQuery("#skin")
                                    .attr("href")
                                    .substr(
                                        jQuery("#skin").attr("href").indexOf("skins"),
                                        jQuery("#skin").attr("href").length
                                    )),
                            document.getElementById("responsive") &&
                                (c = jQuery("#responsive")
                                    .attr("href")
                                    .substr(
                                        jQuery("#responsive").attr("href").indexOf("skins"),
                                        jQuery("#responsive").attr("href").length
                                    )),
                            "https" === location.href.substr(0, 5))
                        )
                            p = 1;
                        (s = location.href.substr(location.href.indexOf("www") + 3, 2)),
                            (o +=
                                '<iframe id="iframe-summary-popup" class="iframe_small" src="' +
                                baseURLHistory +
                                "/getPlayerScoreDetails.php?Y=" +
                                e +
                                "&S=" +
                                s +
                                "&L=" +
                                r +
                                "&W=" +
                                t +
                                "&P=" +
                                a +
                                "&secured=" +
                                p +
                                "&custom=" +
                                n +
                                "&default=" +
                                i +
                                "&skin=" +
                                d +
                                "&responsive=" +
                                c +
                                '" frameBorder="0" allowtransparency="true" style="visibility:hidden;" onload="this.style.visibility = \'visible\';"></iframe>'),
                            $("#ls-modal-4-header-content").html("Breakdown: " + e + " Week " + t),
                            $("#ls-modal-4-content").html(o),
                            $("#ls-modal-4-content").scrollTop(0);
                    });
            } catch (e) {}
    }
    function compare(e, t) {
        return e.pct < t.pct ? 1 : e.pct > t.pct ? -1 : e.gp < t.gp ? 1 : e.gp > t.gp ? -1 : 0;
    }
    var lh_interval,
        lh_global_position = "All",
        lh_overall_season = "Regular",
        lh_series_season = "Regular",
        lh_player_season = "All";
    function lh_radio(e, t) {
        switch (t) {
            case 0:
                (lh_global_position = e),
                    jQuery(".players_radio_ckbox div").each(function () {
                        $(this).text().toLowerCase() !== e.toLowerCase()
                            ? ($(this).find("input").prop("checked", !1), $(this).find("label").removeAttr("class"))
                            : ($(this).find("input").prop("checked", !0),
                              $(this).find("label").attr("class", "pointer-events-none"));
                    }),
                    create_html_players();
                break;
            case 1:
                (lh_player_season = e),
                    jQuery(".player_season_radio_ckbox div").each(function () {
                        $(this).text().toLowerCase() !== e.toLowerCase()
                            ? ($(this).find("input").prop("checked", !1), $(this).find("label").removeAttr("class"))
                            : ($(this).find("input").prop("checked", !0),
                              $(this).find("label").attr("class", "pointer-events-none"));
                    }),
                    create_html_players();
                break;
            case 2:
                (lh_teams_to_rank = e),
                    localStorage.setItem("lh_rank_teams_" + league_id, e),
                    jQuery(".teams_rank_radio_ckbox div").each(function () {
                        parseInt($(this).text()) !== e
                            ? ($(this).find("input").prop("checked", !1), $(this).find("label").removeAttr("class"))
                            : ($(this).find("input").prop("checked", !0),
                              $(this).find("label").attr("class", "pointer-events-none"));
                    }),
                    create_html_team_points();
                break;
            case 3:
                (lh_players_to_rank = e),
                    localStorage.setItem("lh_rank_players_" + league_id, e),
                    jQuery(".players_rank_radio_ckbox div").each(function () {
                        parseInt($(this).text()) !== e
                            ? ($(this).find("input").prop("checked", !1), $(this).find("label").removeAttr("class"))
                            : ($(this).find("input").prop("checked", !0),
                              $(this).find("label").attr("class", "pointer-events-none"));
                    }),
                    create_html_players();
                break;
            case 4:
                (lh_misc_to_rank = e),
                    localStorage.setItem("lh_rank_misc_" + league_id, e),
                    jQuery(".misc_rank_radio_ckbox div").each(function () {
                        parseInt($(this).text()) !== e
                            ? ($(this).find("input").prop("checked", !1), $(this).find("label").removeAttr("class"))
                            : ($(this).find("input").prop("checked", !0),
                              $(this).find("label").attr("class", "pointer-events-none"));
                    }),
                    create_html_misc();
                break;
            case 5:
                (lh_overall_season = e),
                    jQuery(".overall_season_radio_ckbox div").each(function () {
                        $(this).text().toLowerCase() !== e.toLowerCase()
                            ? ($(this).find("input").prop("checked", !1), $(this).find("label").removeAttr("class"))
                            : ($(this).find("input").prop("checked", !0),
                              $(this).find("label").attr("class", "pointer-events-none"));
                    }),
                    create_html_historical_records();
                break;
            case 6:
                (lh_series_season = e),
                    jQuery(".series_season_radio_ckbox div").each(function () {
                        $(this).text().toLowerCase() !== e.toLowerCase()
                            ? ($(this).find("input").prop("checked", !1), $(this).find("label").removeAttr("class"))
                            : ($(this).find("input").prop("checked", !0),
                              $(this).find("label").attr("class", "pointer-events-none"));
                    }),
                    create_html_series_records();
        }
    }
    function lh_checkbox(e, t, a) {
        switch (
            (a
                ? t.checked
                    ? (jQuery(".lh_" + e + "_check").hide(), localStorage.setItem("lh_" + e + "_" + league_id, "1"))
                    : (jQuery(".lh_" + e + "_check").show(), localStorage.setItem("lh_" + e + "_" + league_id, "0"))
                : t.checked
                  ? (jQuery(".lh_" + e + "_check").show(), localStorage.setItem("lh_" + e + "_" + league_id, "0"))
                  : (jQuery(".lh_" + e + "_check").hide(), localStorage.setItem("lh_" + e + "_" + league_id, "1")),
            e)
        ) {
            case "multiple":
            case "bye":
            case "zero":
                create_html_team_points();
        }
    }
    function lh_pop_awards(e, t) {
        for (var a = [], r = 0; r < leagueHistory.years.length; r++)
            if (t)
                try {
                    if (
                        leagueHistory.league_awards.hasOwnProperty(
                            leagueHistory.years[r] + "_" + leagueHistory.defunct_franchise[e][leagueHistory.years[r]].id
                        )
                    )
                        for (
                            var s =
                                    leagueHistory.league_awards[
                                        leagueHistory.years[r] +
                                            "_" +
                                            leagueHistory.defunct_franchise[e][leagueHistory.years[r]].id
                                    ].split("|"),
                                o = 0;
                            o < s.length;
                            o++
                        )
                            historicalAwards.hasOwnProperty(s[o]) &&
                                (a.hasOwnProperty(s[o]) || (a[s[o]] = ""),
                                "" !== a[s[o]] && (a[s[o]] += ", "),
                                (a[s[o]] += leagueHistory.years[r]));
                } catch (e) {}
            else
                try {
                    if (
                        leagueHistory.league_awards.hasOwnProperty(
                            leagueHistory.years[r] +
                                "_" +
                                leagueHistory.fid_history_detail[e][leagueHistory.years[r]].fid
                        )
                    )
                        for (
                            s =
                                leagueHistory.league_awards[
                                    leagueHistory.years[r] +
                                        "_" +
                                        leagueHistory.fid_history_detail[e][leagueHistory.years[r]].fid
                                ].split("|"),
                                o = 0;
                            o < s.length;
                            o++
                        )
                            historicalAwards.hasOwnProperty(s[o]) &&
                                (a.hasOwnProperty(s[o]) || (a[s[o]] = ""),
                                "" !== a[s[o]] && (a[s[o]] += ", "),
                                (a[s[o]] += leagueHistory.years[r]));
                } catch (e) {}
        var l = "",
            i = 0;
        for (var n in ((l += '<table align="center" cellspacing="1" class="report">'),
        (l +=
            '<tr><th class="lh-popup-award-name" style="text-align:left">Award</th><th class="lh-popup-award-year" style="text-align:left">Year(s) Won</th></tr>'),
        (l += "<tbody>"),
        historicalAwards))
            a.hasOwnProperty(n) &&
                ((l += i % 2 ? '<tr class="eventablerow">' : '<tr class="oddtablerow">'),
                (l += '<td class="lh-popup-award-name">' + historicalAwards[n] + " " + n + "</td>"),
                (l += '<td class="lh-popup-award-year">' + a[n] + "</td>"),
                (l += "</tr>"),
                i++);
        (l += "</tbody>"),
            (l += "</table><br>"),
            t
                ? jQuery("#ls-modal-1-header-content").html(e)
                : jQuery("#ls-modal-1-header-content").html(getFranchiseName(year, e, !1, !1)),
            jQuery("#ls-modal-1-content").html(l),
            jQuery("#ls-modal-1-content").scrollTop(0);
    }
    function lh_getAwards(e, t) {
        var a = [];
        for (var r in historicalAwards) historicalAwards.hasOwnProperty(r) && (a[r] = "");
        for (var s = !1, o = 0; o < leagueHistory.years.length; o++)
            if (t)
                try {
                    if (
                        leagueHistory.league_awards.hasOwnProperty(
                            leagueHistory.years[o] + "_" + leagueHistory.defunct_franchise[e][leagueHistory.years[o]].id
                        )
                    )
                        for (
                            var l =
                                    leagueHistory.league_awards[
                                        leagueHistory.years[o] +
                                            "_" +
                                            leagueHistory.defunct_franchise[e][leagueHistory.years[o]].id
                                    ].split("|"),
                                i = 0;
                            i < l.length;
                            i++
                        )
                            historicalAwards.hasOwnProperty(l[i]) &&
                                ((s = !0),
                                (a[l[i]] +=
                                    '<span title="' +
                                    leagueHistory.years[o] +
                                    " " +
                                    l[i] +
                                    '">' +
                                    historicalAwards[l[i]] +
                                    "</span>"));
                } catch (e) {}
            else
                try {
                    if (
                        leagueHistory.league_awards.hasOwnProperty(
                            leagueHistory.years[o] +
                                "_" +
                                leagueHistory.fid_history_detail[e][leagueHistory.years[o]].fid
                        )
                    )
                        for (
                            l =
                                leagueHistory.league_awards[
                                    leagueHistory.years[o] +
                                        "_" +
                                        leagueHistory.fid_history_detail[e][leagueHistory.years[o]].fid
                                ].split("|"),
                                i = 0;
                            i < l.length;
                            i++
                        )
                            historicalAwards.hasOwnProperty(l[i]) &&
                                ((s = !0),
                                (a[l[i]] +=
                                    '<span title="' +
                                    leagueHistory.years[o] +
                                    " " +
                                    l[i] +
                                    '">' +
                                    historicalAwards[l[i]] +
                                    "</span>"));
                } catch (e) {
                    console.log("LEAGUE AWARDS ERROR");
                }
        var n = "";
        if (s) for (var r in a) a.hasOwnProperty(r) && (n += a[r]);
        return "" === n
            ? n
            : '<div style="display:inline;cursor:pointer" onclick="lh_pop_awards(\'' +
                  e +
                  "'," +
                  t +
                  ')">' +
                  n +
                  "</div>";
    }
    function lh_get_matchup(e, t, a, r, s, o, l, i) {
        if (i) var n = e;
        else n = leagueHistory.fid_history_detail[e][o].fid;
        var d = parseInt(leagueHistory.league_history_detail["" + year].precision),
            c = "",
            p = "",
            h = 0,
            _ = 0,
            m = [];
        (c += '<table align="center" cellspacing="1" class="report">'),
            (p += '<table align="center" cellspacing="1" class="report">'),
            (c += "<caption><span>" + getFranchiseName(o, n, !1, !1) + "</span></caption>"),
            (p += "<caption><span>" + getFranchiseName(o, t, !1, !1) + "</span></caption>"),
            (c +=
                '<tr><th class="lh-popup-name" style="text-align:left">Player</th><th class="lh-popup-points">Pts</th></tr>'),
            (p +=
                '<tr><th class="lh-popup-name" style="text-align:left">Player</th><th class="lh-popup-points">Pts</th></tr>'),
            (c += "<tbody>"),
            (p += "<tbody>");
        for (var y = 0; y < leagueHistory.league_history_detail["" + year].positions.length; y++) {
            var u = leagueHistory.league_history_detail["" + year].positions[y];
            if (0 === h) var f = !1;
            else f = !0;
            if (0 === _) var b = !1;
            else b = !0;
            for (var g in playerHistoryLeague[o].pid)
                if (
                    playerHistoryLeague[o].pid.hasOwnProperty(g) &&
                    playerHistoryLeague[o].pid[g].hasOwnProperty("wk_" + l) &&
                    playerHistoryLeague[o].pid[g]["wk_" + l].hasOwnProperty("fid")
                )
                    for (var v = 0; v < playerHistoryLeague[o].pid[g]["wk_" + l].fid.length; v++) {
                        var w;
                        if (
                            playerHistoryLeague[o].pid[g]["wk_" + l].fid[v].fid === e &&
                            "S" === playerHistoryLeague[o].pid[g]["wk_" + l].fid[v].sts
                        )
                            if (
                                getPlayerPosition((w = g.substring(4, g.length)), o) === u &&
                                !m.hasOwnProperty(n + "_" + w)
                            ) {
                                if (f) var k = " newposition";
                                else k = "";
                                (c +=
                                    h % 2 ? '<tr class="eventablerow' + k + '">' : '<tr class="oddtablerow' + k + '">'),
                                    (c += '<td class="lh-popup-name">' + getPlayerName(w, o) + "</td>"),
                                    null === playerHistoryLeague[o].pid[g]["wk_" + l].score
                                        ? (c +=
                                              '<td class="lh-popup-points" style="text-align:center"><a href="#" onclick="getPlayerScoreDetails(\'' +
                                              o +
                                              "','" +
                                              l +
                                              "','" +
                                              w +
                                              "')\">-</a></td>")
                                        : (c +=
                                              '<td class="lh-popup-points" style="text-align:center"><a href="#" onclick="getPlayerScoreDetails(\'' +
                                              o +
                                              "','" +
                                              l +
                                              "','" +
                                              w +
                                              "')\">" +
                                              playerHistoryLeague[o].pid[g]["wk_" + l].score +
                                              "</a></td>"),
                                    (c += "</tr>"),
                                    (f = !1),
                                    (m[n + "_" + w] = 1),
                                    h++;
                            }
                        if (
                            playerHistoryLeague[o].pid[g]["wk_" + l].fid[v].fid === t &&
                            "S" === playerHistoryLeague[o].pid[g]["wk_" + l].fid[v].sts
                        )
                            if (
                                getPlayerPosition((w = g.substring(4, g.length)), o) === u &&
                                !m.hasOwnProperty(t + "_" + w)
                            ) {
                                if (b) k = " newposition";
                                else k = "";
                                (p +=
                                    _ % 2 ? '<tr class="eventablerow' + k + '">' : '<tr class="oddtablerow' + k + '">'),
                                    (p += '<td class="lh-popup-name">' + getPlayerName(w, o) + "</td>"),
                                    null === playerHistoryLeague[o].pid[g]["wk_" + l].score
                                        ? (p +=
                                              '<td class="lh-popup-points" style="text-align:center"><a href="#" onclick="getPlayerScoreDetails(\'' +
                                              o +
                                              "','" +
                                              l +
                                              "','" +
                                              w +
                                              "')\">-</a></td>")
                                        : (p +=
                                              '<td class="lh-popup-points" style="text-align:center"><a href="#" onclick="getPlayerScoreDetails(\'' +
                                              o +
                                              "','" +
                                              l +
                                              "','" +
                                              w +
                                              "')\">" +
                                              playerHistoryLeague[o].pid[g]["wk_" + l].score +
                                              "</a></td>"),
                                    (p += "</tr>"),
                                    (b = !1),
                                    (m[t + "_" + w] = 1),
                                    _++;
                            }
                    }
        }
        (c += '<tr><th style="text-align:left">Total</th><th>' + parseFloat(a).toFixed(d) + "</th>"),
            (p += '<tr><th style="text-align:left">Total</th><th>' + parseFloat(r).toFixed(d) + "</th>"),
            (c += "</tbody></table>"),
            (p += "</tbody></table>"),
            jQuery("#ls-modal-3-header-content").html(o + " Week " + l),
            jQuery("#ls-modal-3-content").html(c + "<br />" + p),
            jQuery("#ls-modal-3-content").scrollTop(0);
    }
    function lh_get_franchise_schedule_history(e, t, a) {
        for (var r, s = "", o = [], l = -1, i = 0; i < 3; i++) {
            (r = 0),
                (s += "<p>"),
                (s += '<table align="center" cellspacing="1" class="report">'),
                (s +=
                    0 === i
                        ? "<caption><span>Regular Season</span></caption>"
                        : 1 === i
                          ? "<caption><span>Playoffs</span></caption>"
                          : "<caption><span>Overall</span></caption>");
            var n = { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 };
            (s +=
                '<tr><th class="lh-popup-year">Year</th><th class="lh-popup-record">W-L-T</th><th class="lh-popup-pf">PF</th><th class="lh-popup-pa">PA</th></tr>'),
                (s += "<tbody>");
            for (var d = 0; d < leagueHistory.years.length; d++) {
                o = [];
                try {
                    o =
                        0 === i
                            ? lh_overall_record_ar[e][leagueHistory.years[d]].regular
                            : 1 === i
                              ? lh_overall_record_ar[e][leagueHistory.years[d]].playoff
                              : lh_overall_record_ar[e][leagueHistory.years[d]].overall;
                } catch (e) {
                    continue;
                }
                if ((-1 === l && (l = leagueHistory.years[d]), 0 !== o.gp)) {
                    var c = o.w + "-" + o.l + "-" + o.t;
                    if (
                        ((s += r % 2 ? '<tr class="eventablerow">' : '<tr class="oddtablerow">'),
                        (s +=
                            '<td class="lh-popup-year" style="text-align:center">' + leagueHistory.years[d] + "</td>"),
                        (s +=
                            '<td class="lh-popup-record" style="text-align:center"><span style="cursor:pointer" onclick="lh_get_franchise_schedule(\'' +
                            e +
                            "'," +
                            d +
                            ",'" +
                            leagueHistory.years[d] +
                            "','" +
                            c +
                            '\',false)"><a style="text-decoration:underline">' +
                            c +
                            "</a></span></td>"),
                        -1 !== lh_precision_override)
                    )
                        (s +=
                            '<td class="lh-popup-pf" style="text-align:center">' +
                            o.pf.toFixed(lh_precision_override) +
                            "</td>"),
                            (s +=
                                '<td class="lh-popup-pa" style="text-align:center">' +
                                o.pa.toFixed(lh_precision_override) +
                                "</td>");
                    else {
                        var p = parseInt(leagueHistory.league_history_detail["" + year].precision);
                        (s += '<td class="lh-popup-pf" style="text-align:center">' + o.pf.toFixed(p) + "</td>"),
                            (s += '<td class="lh-popup-pa" style="text-align:center">' + o.pa.toFixed(p) + "</td>");
                    }
                    (s += "</tr>"),
                        (n.gp += o.gp),
                        (n.w += o.w),
                        (n.l += o.l),
                        (n.t += o.t),
                        (n.pf += o.pf),
                        (n.pa += o.pa),
                        r++;
                }
            }
            if (
                ((s +=
                    r % 2
                        ? '<tr class="eventablerow" style="font-weight:bold">'
                        : '<tr class="oddtablerow" style="font-weight:bold">'),
                (s += '<td class="lh-popup-year" style="text-align:center">Total</td>'),
                (s +=
                    '<td class="lh-popup-record" style="text-align:center">' +
                    (c = n.w + "-" + n.l + "-" + n.t) +
                    "</td>"),
                -1 !== lh_precision_override)
            )
                (s +=
                    '<td class="lh-popup-pf" style="text-align:center">' +
                    n.pf.toFixed(lh_precision_override) +
                    "</td>"),
                    (s +=
                        '<td class="lh-popup-pa" style="text-align:center">' +
                        n.pa.toFixed(lh_precision_override) +
                        "</td>");
            else {
                p = parseInt(leagueHistory.league_history_detail["" + year].precision);
                (s += '<td class="lh-popup-pf" style="text-align:center">' + n.pf.toFixed(p) + "</td>"),
                    (s += '<td class="lh-popup-pa" style="text-align:center">' + n.pa.toFixed(p) + "</td>");
            }
            (s += "</tr>"), (s += "</tbody>"), (s += "</table>"), (s += "</p>");
        }
        var h = "";
        (h +=
            '<div class="ls-popup-matchup" style="text-align:center;font-weight:bold;font-size:0.938rem">' +
            getFranchiseName(l, e, !1, !1) +
            "</div>"),
            (h += s),
            jQuery("#ls-modal-1-header-content").html("Franchise Historical Record"),
            jQuery("#ls-modal-1-content").html(h),
            jQuery("#ls-modal-1-content").scrollTop(0);
    }
    function lh_get_franchise_schedule(e, t, a, r, s) {
        var o = "",
            l = "";
        if (s) var i = e;
        else i = leagueHistory.fid_history_detail[e][a].fid;
        getFranchiseName(a, i, !1, !1);
        var n = mostRecent(3, a, i);
        if (parseInt(a) === year)
            for (var d = 0; d < leagueHistory.series_record[a][e].length; d++) {
                switch (leagueHistory.series_record[a][e][d].result) {
                    case "W":
                        var c = "lh_popup_win",
                            p = "width:1.25rem;display:inline-block;text-align:center";
                        break;
                    case "L":
                        (c = "lh_popup_loss"), (p = "width:1.25rem;display:inline-block;text-align:center");
                        break;
                    case null:
                    case "T":
                        (c = "lh_popup_tie"), (p = "width:1.25rem;display:inline-block;text-align:center");
                }
                var h =
                        parseInt(leagueHistory.series_record[a][e][d].week) < 10
                            ? "0" + leagueHistory.series_record[a][e][d].week
                            : leagueHistory.series_record[a][e][d].week,
                    _ = 1 === leagueHistory.series_record[a][e][d].is_home ? " vs " : " at ";
                if ("BYE" === (b = leagueHistory.series_record[a][e][d].opp) || "AVG" === b)
                    var m = b,
                        y = "";
                else (m = getFranchiseName(a, b, !1, !1)), (y = leagueHistory.series_record[a][e][d].opp_score);
                if (null === leagueHistory.series_record[a][e][d].result) var u = "T";
                else u = leagueHistory.series_record[a][e][d].result;
                "1" === leagueHistory.series_record[a][e][d].regular
                    ? (o +=
                          '<li class="ls-popup-player-li" style="cursor:pointer" onclick="lh_get_matchup(\'' +
                          e +
                          "','" +
                          b +
                          "','" +
                          leagueHistory.series_record[a][e][d].score +
                          "','" +
                          y +
                          "','" +
                          _ +
                          "','" +
                          a +
                          "'," +
                          h +
                          "," +
                          s +
                          ')">Week ' +
                          h +
                          ':<span class="lh_popup_result ' +
                          c +
                          '" style="' +
                          p +
                          '">' +
                          u +
                          "</span>" +
                          n +
                          " " +
                          leagueHistory.series_record[a][e][d].score +
                          _ +
                          y +
                          " " +
                          m +
                          "</li>")
                    : (l +=
                          '<li class="ls-popup-player-li" style="cursor:pointer" onclick="lh_get_matchup(\'' +
                          e +
                          "','" +
                          b +
                          "','" +
                          leagueHistory.series_record[a][e][d].score +
                          "','" +
                          y +
                          "','" +
                          _ +
                          "','" +
                          a +
                          "'," +
                          h +
                          "," +
                          s +
                          ')">Week ' +
                          h +
                          ':<span class="lh_popup_result ' +
                          c +
                          '" style="' +
                          p +
                          '">' +
                          u +
                          "</span>" +
                          n +
                          " " +
                          leagueHistory.series_record[a][e][d].score +
                          _ +
                          y +
                          " " +
                          m +
                          "</li>");
            }
        else {
            if (s) var f = e + "_defunct";
            else f = e;
            for (d = 0; d < leagueHistory.series_record[a][f].length; d++) {
                switch (leagueHistory.series_record[a][f][d].result) {
                    case "W":
                        (c = "lh_popup_win"), (p = "width:1.25rem;display:inline-block;text-align:center");
                        break;
                    case "L":
                        (c = "lh_popup_loss"), (p = "width:1.25rem;display:inline-block;text-align:center");
                        break;
                    case null:
                    case "T":
                        (c = "lh_popup_tie"), (p = "width:1.25rem;display:inline-block;text-align:center");
                }
                var b;
                (h =
                    parseInt(leagueHistory.series_record[a][f][d].week) < 10
                        ? "0" + leagueHistory.series_record[a][f][d].week
                        : leagueHistory.series_record[a][f][d].week),
                    (_ = 1 === leagueHistory.series_record[a][f][d].is_home ? " vs " : " at ");
                if ("BYE" === (b = leagueHistory.series_record[a][f][d].historic_opp) || "AVG" === b) (m = b), (y = "");
                else (m = getFranchiseName(a, b, !1, !1)), (y = leagueHistory.series_record[a][f][d].opp_score);
                if (null === leagueHistory.series_record[a][f][d].result) u = "T";
                else u = leagueHistory.series_record[a][f][d].result;
                "1" === leagueHistory.series_record[a][f][d].regular
                    ? (o +=
                          '<li class="ls-popup-player-li" style="cursor:pointer" onclick="lh_get_matchup(\'' +
                          e +
                          "','" +
                          b +
                          "','" +
                          leagueHistory.series_record[a][f][d].score +
                          "','" +
                          y +
                          "','" +
                          _ +
                          "','" +
                          a +
                          "'," +
                          h +
                          "," +
                          s +
                          ')">Week ' +
                          h +
                          ':<span class="lh_popup_result ' +
                          c +
                          '" style="' +
                          p +
                          '">' +
                          u +
                          "</span>" +
                          n +
                          " " +
                          leagueHistory.series_record[a][f][d].score +
                          _ +
                          y +
                          " " +
                          m +
                          "</li>")
                    : (l +=
                          '<li class="ls-popup-player-li" style="cursor:pointer" onclick="lh_get_matchup(\'' +
                          e +
                          "','" +
                          b +
                          "','" +
                          leagueHistory.series_record[a][f][d].score +
                          "','" +
                          y +
                          "','" +
                          _ +
                          "','" +
                          a +
                          "'," +
                          h +
                          "," +
                          s +
                          ')">Week ' +
                          h +
                          ':<span class="lh_popup_result ' +
                          c +
                          '" style="' +
                          p +
                          '">' +
                          u +
                          "</span>" +
                          n +
                          " " +
                          leagueHistory.series_record[a][f][d].score +
                          _ +
                          y +
                          " " +
                          m +
                          "</li>");
            }
        }
        var g = "";
        (g +=
            '<div class="ls-popup-matchup" style="text-align:center;font-weight:bold;font-size:0.938rem">' +
            a +
            " " +
            getFranchiseName(a, i, !1, !1) +
            ' <span class="lh_franchise_schedule_abbrev">(' +
            n +
            ")</span></div>"),
            (g +=
                '<div class="ls-popup-matchup-record" style="text-align:center;font-style:italic">(' +
                r +
                ")</span></div>"),
            (g += "<p>"),
            (g +=
                '<ul class="ls-popup-position-ul"><span style="font-weight:bold;width:100%;display:inline-block;margin-bottom:0.313rem;text-indent:0.313rem;font-size:0.875rem">Regular Season</span>'),
            (g += "" === o ? '<li class="ls-popup-player-li ls-popup-player-li-none">no matchups found</li>' : o),
            (g += "</ul>"),
            (g += "</p>"),
            (g += "<p>"),
            (g +=
                '<ul class="ls-popup-position-ul"><span style="font-weight:bold;width:100%;display:inline-block;margin-bottom:0.313rem;text-indent:0.313rem;font-size:0.875rem">Playoffs</span>'),
            (g += "" === l ? '<li class="ls-popup-player-li ls-popup-player-li-none">no matchups found</li>' : l),
            (g += "</ul>"),
            (g += "</p>"),
            jQuery("#ls-modal-2-header-content").html("Franchise Schedule"),
            jQuery("#ls-modal-2-content").html(g),
            jQuery("#ls-modal-2-content").scrollTop(0);
    }
    function lh_apply_tab_settings() {
        var e = "";
        (e += "League History"),
            (e += '<div id="tab_options_11100" class="hs-control-setting">'),
            (e +=
                '<div class="hs_toggle_settings" style="pointer-events:auto;float:right;margin-right:0.188rem"><i class="fa-regular fa-gears" aria-hidden="true"></i> Settings</div>'),
            (e += '<div class="hs-control-setting-content">'),
            (e += '<div class="history-selections">'),
            (e += '<span class="lh_settings_title_ckbox" style="display:block;padding-bottom:0.313rem">'),
            (e += '<span class="lh_settings_title" style="font-size:0.813rem;margin-right:0.313rem">Filter: </span>'),
            "1" === localStorage["lh_defunct_" + league_id]
                ? (e +=
                      '<div style="pointer-events:auto"><input type="checkbox" name="lh_defunct_checkbox" id="lh_defunct_checkbox" onclick="lh_checkbox(\'defunct\',this,false);jQuery(\'#lh_defunct_checkbox2\').prop(\'checked\',this.checked)"><label for="lh_defunct_checkbox">Defunct</label></div>')
                : (e +=
                      '<div style="pointer-events:auto"><input type="checkbox" name="lh_defunct_checkbox" id="lh_defunct_checkbox" checked="checked" onclick="lh_checkbox(\'defunct\',this,false);jQuery(\'#lh_defunct_checkbox2\').prop(\'checked\',this.checked)"><label for="lh_defunct_checkbox">Defunct</label></div>'),
            "1" === localStorage["lh_award_" + league_id]
                ? (e +=
                      '<div style="pointer-events:auto"><input type="checkbox" name="lh_award_checkbox" id="lh_award_checkbox" onclick="lh_checkbox(\'award\',this,false)"><label for="lh_award_checkbox" style="margin-right:0">Awards</label></div>')
                : (e +=
                      '<div style="pointer-events:auto"><input type="checkbox" name="lh_award_checkbox" id="lh_award_checkbox" checked="checked" onclick="lh_checkbox(\'award\',this,false)"><label for="lh_award_checkbox" style="margin-right:0">Awards</label></div>'),
            lh_auto_rename_linked_franchise ||
                ("1" === localStorage["lh_notation_" + league_id]
                    ? (e +=
                          '<div style="pointer-events:auto"><input type="checkbox" name="lh_notation_checkbox" id="lh_notation_checkbox" onclick="lh_checkbox(\'notation\',this,false)"><label for="lh_notation_checkbox">Notations</label></div>')
                    : (e +=
                          '<div style="pointer-events:auto"><input type="checkbox" name="lh_notation_checkbox" id="lh_notation_checkbox" checked="checked" onclick="lh_checkbox(\'notation\',this,false)"><label for="lh_notation_checkbox">Notations</label></div>')),
            (e += "</span>"),
            (e += '<span class="overall_season_radio_ckbox">'),
            (e +=
                '<span class="lh_settings_title" style="font-size:0.813rem;margin-right:0.313rem">Fantasy Season: </span>'),
            (e +=
                '<div style="pointer-events:auto"><input' +
                ("All" === lh_overall_season ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_overall_allseason_checkbox" name="lh_overall_allseason_checkbox" onclick="lh_radio(\'All\',5)"><label for="lh_overall_allseason_checkbox"' +
                ("All" === lh_overall_season ? ' class="pointer-events-none"' : "") +
                ">All</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                ("Regular" === lh_overall_season ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_overall_regular_checkbox" name="lh_overall_regular_checkbox" onclick="lh_radio(\'Regular\',5)"><label for="lh_overall_regular_checkbox"' +
                ("Regular" === lh_overall_season ? ' class="pointer-events-none"' : "") +
                ">Regular</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                ("Playoff" === lh_overall_season ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_overall_playoff_checkbox" name="lh_overall_playoff_checkbox" onclick="lh_radio(\'Playoff\',5)"><label for="lh_overall_playoff_checkbox"' +
                ("Playoff" === lh_overall_season ? ' class="pointer-events-none"' : "") +
                ' style="margin-right:0">Playoff</label></div>'),
            (e += "</span>"),
            (e += "</div>"),
            (e += "</div>"),
            (e += "</div>"),
            (e += '<div id="tab_options_11101" class="hs-control-setting" style="display:none">'),
            (e +=
                '<div class="hs_toggle_settings" style="pointer-events:auto;float:right;margin-right:0.188rem"><i class="fa-regular fa-gears" aria-hidden="true"></i> Settings</div>'),
            (e += '<div class="hs-control-setting-content">'),
            (e += '<div class="series-selections">'),
            (e += '<span class="lh_settings_title_ckbox" style="display:block;padding-bottom:0.313rem">'),
            (e += '<span class="lh_settings_title" style="font-size:0.813rem;margin-right:0.313rem">Filter: </span>'),
            "1" === localStorage["lh_defunct_" + league_id]
                ? (e +=
                      '<div style="pointer-events:auto"><input type="checkbox" name="lh_defunct_checkbox2" id="lh_defunct_checkbox2" onclick="lh_checkbox(\'defunct\',this,false);jQuery(\'#lh_defunct_checkbox\').prop(\'checked\',this.checked)"><label for="lh_defunct_checkbox2" style="margin-right:0">Defunct</label></div>')
                : (e +=
                      '<div style="pointer-events:auto"><input type="checkbox" name="lh_defunct_checkbox2" id="lh_defunct_checkbox2" checked="checked" onclick="lh_checkbox(\'defunct\',this,false);jQuery(\'#lh_defunct_checkbox\').prop(\'checked\',this.checked)"><label for="lh_defunct_checkbox2" style="margin-right:0">Defunct</label></div>'),
            (e += "</span>"),
            (e += '<span class="series_season_radio_ckbox">'),
            (e += '<span class="lh_settings_title" style="font-size:0.813rem;margin-right:0.313rem">Filter: </span>'),
            (e +=
                '<div style="pointer-events:auto"><input' +
                ("All" === lh_series_season ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_series_allseason_checkbox" name="lh_series_allseason_checkbox" onclick="lh_radio(\'All\',6)"><label for="lh_series_allseason_checkbox"' +
                ("All" === lh_overall_season ? ' class="pointer-events-none"' : "") +
                ">All</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                ("Regular" === lh_series_season ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_series_regular_checkbox" name="lh_series_regular_checkbox" onclick="lh_radio(\'Regular\',6)"><label for="lh_series_regular_checkbox"' +
                ("Regular" === lh_overall_season ? ' class="pointer-events-none"' : "") +
                ">Regular</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                ("Playoff" === lh_series_season ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_series_playoff_checkbox" name="lh_series_playoff_checkbox" onclick="lh_radio(\'Playoff\',6)"><label for="lh_series_playoff_checkbox"' +
                ("Playoff" === lh_overall_season ? ' class="pointer-events-none"' : "") +
                ' style="margin-right:0">Playoff</label></div>'),
            (e += "</span>"),
            (e += "</div>"),
            (e += "</div>"),
            (e += "</div>"),
            (e += '<div id="tab_options_11102" class="hs-control-setting" style="display:none">'),
            (e +=
                '<div class="hs_toggle_settings" style="pointer-events:auto;float:right;margin-right:0.188rem"><i class="fa-regular fa-gears" aria-hidden="true"></i> Settings</div>'),
            (e += '<div class="hs-control-setting-content">'),
            (e += '<div class="team-selections">'),
            (e += '<span style="display:block;padding-bottom:0.313rem">'),
            (e +=
                '<span class="lh_settings_title" style="font-size:0.813rem;margin-right:0.313rem">Include Pts From: </span>'),
            "1" === localStorage["lh_multiple_" + league_id]
                ? (e +=
                      '<div style="pointer-events:auto"><input type="checkbox" name="lh_multiple_checkbox" id="lh_multiple_checkbox" checked="checked" onclick="lh_checkbox(\'multiple\',this,true)"><label for="lh_multiple_checkbox">Multiple</label></div>')
                : (e +=
                      '<div style="pointer-events:auto"><input type="checkbox" name="lh_multiple_checkbox" id="lh_multiple_checkbox" onclick="lh_checkbox(\'multiple\',this,true)"><label for="lh_multiple_checkbox">Multiple</label></div>'),
            "1" === localStorage["lh_bye_" + league_id]
                ? (e +=
                      '<div style="pointer-events:auto"><input type="checkbox" name="lh_bye_checkbox" id="lh_bye_checkbox" checked="checked" onclick="lh_checkbox(\'bye\',this,true)"><label for="lh_bye_checkbox">Bye</label></div>')
                : (e +=
                      '<div style="pointer-events:auto"><input type="checkbox" name="lh_bye_checkbox" id="lh_bye_checkbox" onclick="lh_checkbox(\'bye\',this,true)"><label for="lh_bye_checkbox">Bye</label></div>'),
            "1" === localStorage["lh_zero_" + league_id]
                ? (e +=
                      '<div style="pointer-events:auto"><input type="checkbox" name="lh_zero_checkbox" id="lh_zero_checkbox" checked="checked" onclick="lh_checkbox(\'zero\',this,true)"><label for="lh_zero_checkbox" style="margin-right:0">Zero</label></div>')
                : (e +=
                      '<div style="pointer-events:auto"><input type="checkbox" name="lh_zero_checkbox" id="lh_zero_checkbox" onclick="lh_checkbox(\'zero\',this,true)"><label for="lh_zero_checkbox" style="margin-right:0">Zero</label></div>'),
            (e += "</span>"),
            (e += '<span class="teams_rank_radio_ckbox">'),
            (e +=
                '<span class="lh_settings_title" style="font-size:0.813rem;margin-right:0.313rem">Teams to Rank: </span>'),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (10 === lh_teams_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_teams_rank_10_checkbox" name="lh_teams_rank_10_checkbox" onclick="lh_radio(10,2)"><label for="lh_teams_rank_10_checkbox"' +
                (10 === lh_teams_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">10</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (25 === lh_teams_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_teams_rank_25_checkbox" name="lh_teams_rank_25_checkbox" onclick="lh_radio(25,2)"><label for="lh_teams_rank_25_checkbox"' +
                (25 === lh_teams_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">25</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (50 === lh_teams_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_teams_rank_50_checkbox" name="lh_teams_rank_50_checkbox" onclick="lh_radio(50,2)"><label for="lh_teams_rank_50_checkbox"' +
                (50 === lh_teams_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">50</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (100 === lh_teams_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_teams_rank_100_checkbox" name="lh_teams_rank_100_checkbox" onclick="lh_radio(100,2)"><label for="lh_teams_rank_100_checkbox"' +
                (100 === lh_teams_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">100</label></div>"),
            (e += "</span>"),
            (e += "</div>"),
            (e += "</div>"),
            (e += "</div>"),
            (e += '<div id="tab_options_11103" class="hs-control-setting" style="display:none">'),
            (e +=
                '<div class="hs_toggle_settings" style="pointer-events:auto;float:right;margin-right:0.188rem"><i class="fa-regular fa-gears" aria-hidden="true"></i> Settings</div>'),
            (e += '<div class="hs-control-setting-content">'),
            (e += '<div class="player-selections">'),
            (e += '<span class="players_radio_ckbox" style="display:block;padding-bottom:0.313rem">'),
            (e += '<span class="lh_settings_title" style="font-size:0.813rem;margin-right:0.313rem">Position: </span>'),
            (e +=
                '<div style="pointer-events:auto"><input' +
                ("All" === lh_global_position ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_all_checkbox" name="lh_all_checkbox" onclick="lh_radio(\'All\',0)"><label for="lh_all_checkbox" class="pointer-events-none">All</label></div>');
        for (var t = 0; t < leagueHistory.league_history_detail["" + year].positions.length; t++) {
            var a = leagueHistory.league_history_detail["" + year].positions[t];
            e +=
                '<div style="pointer-events:auto"><input' +
                (lh_global_position === a ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_' +
                a.toLowerCase() +
                '_checkbox" name="lh_' +
                a.toLowerCase() +
                '_checkbox" onclick="lh_radio(\'' +
                a +
                '\',0)"><label for="lh_' +
                a.toLowerCase() +
                '_checkbox">' +
                a +
                "</label></div>";
        }
        (e += "</span>"),
            (e += '<span class="player_season_radio_ckbox" style="display:block;padding-bottom:0.313rem">'),
            (e +=
                '<span class="lh_settings_title" style="font-size:0.813rem;margin-right:0.313rem">Fantasy Season: </span>'),
            (e +=
                '<div style="pointer-events:auto"><input' +
                ("All" === lh_player_season ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_player_allseason_checkbox" name="lh_player_allseason_checkbox" onclick="lh_radio(\'All\',1)"><label for="lh_player_allseason_checkbox" class="pointer-events-none">All</label></div>'),
            (e +=
                '<div style="pointer-events:auto"><input' +
                ("Regular" === lh_player_season ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_player_regular_checkbox" name="lh_player_regular_checkbox" onclick="lh_radio(\'Regular\',1)"><label for="lh_player_regular_checkbox">Regular</label></div>'),
            (e +=
                '<div style="pointer-events:auto"><input' +
                ("Playoff" === lh_player_season ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_player_playoff_checkbox" name="lh_player_playoff_checkbox" onclick="lh_radio(\'Playoff\',1)"><label for="lh_player_playoff_checkbox" style="margin-right:0">Playoff</label></div>'),
            (e += "</span>"),
            (e += '<span class="players_rank_radio_ckbox">'),
            (e +=
                '<span class="lh_settings_title" style="font-size:0.813rem;margin-right:0.313rem">Players to Rank: </span>'),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (10 === lh_players_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_players_rank_10_checkbox" name="lh_players_rank_10_checkbox" onclick="lh_radio(10,3)"><label for="lh_players_rank_10_checkbox"' +
                (10 === lh_players_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">10</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (25 === lh_players_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_players_rank_25_checkbox" name="lh_players_rank_25_checkbox" onclick="lh_radio(25,3)"><label for="lh_players_rank_25_checkbox"' +
                (25 === lh_players_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">25</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (50 === lh_players_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_players_rank_50_checkbox" name="lh_players_rank_50_checkbox" onclick="lh_radio(50,3)"><label for="lh_players_rank_50_checkbox"' +
                (50 === lh_players_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">50</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (100 === lh_players_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_players_rank_100_checkbox" name="lh_players_rank_100_checkbox" onclick="lh_radio(100,3)"><label for="lh_players_rank_100_checkbox"' +
                (100 === lh_players_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">100</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (500 === lh_players_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_players_rank_500_checkbox" name="lh_players_rank_500_checkbox" onclick="lh_radio(500,3)"><label for="lh_players_rank_500_checkbox"' +
                (500 === lh_players_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">500</label></div>"),
            (e += "</span>"),
            (e += "</div>"),
            (e += "</div>"),
            (e += "</div>"),
            (e += '<div id="tab_options_11104" class="hs-control-setting" style="display:none">'),
            (e +=
                '<div class="hs_toggle_settings" style="pointer-events:auto;float:right;margin-right:0.188rem"><i class="fa-regular fa-gears" aria-hidden="true"></i> Settings</div>'),
            (e += '<div class="hs-control-setting-content">'),
            (e += '<div class="misc-selections">'),
            (e += '<span class="misc_rank_radio_ckbox">'),
            (e +=
                '<span class="lh_settings_title" style="font-size:0.813rem;margin-right:0.313rem">Teams to Rank: </span>'),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (10 === lh_misc_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_misc_rank_10_checkbox" name="lh_misc_rank_10_checkbox" onclick="lh_radio(10,4)"><label for="lh_misc_rank_10_checkbox"' +
                (10 === lh_misc_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">10</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (25 === lh_misc_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_misc_rank_25_checkbox" name="lh_misc_rank_25_checkbox" onclick="lh_radio(25,4)"><label for="lh_misc_rank_25_checkbox"' +
                (25 === lh_misc_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">25</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (50 === lh_misc_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_misc_rank_50_checkbox" name="lh_misc_rank_50_checkbox" onclick="lh_radio(50,4)"><label for="lh_misc_rank_50_checkbox"' +
                (50 === lh_misc_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">50</label></div>"),
            (e +=
                '<div style="pointer-events:auto"><input' +
                (100 === lh_misc_to_rank ? ' checked="checked" ' : " ") +
                'type="checkbox" id="lh_misc_rank_100_checkbox" name="lh_misc_rank_100_checkbox" onclick="lh_radio(100,4)"><label for="lh_misc_rank_100_checkbox"' +
                (100 === lh_misc_to_rank ? ' class="pointer-events-none" ' : " ") +
                ">100</label></div>"),
            (e += "</span>"),
            (e += "</div>"),
            (e += "</div>"),
            (e += "</div>"),
            jQuery(".lh-main-caption-span").html(e),
            jQuery(".hs_toggle_settings").on("click", function () {
                $(".hs-control-setting-content").slideToggle("slow");
            });
    }
    function update_defunct_franchises() {
        var e = [];
        for (var t in leagueHistory.defunct_franchise)
            if (leagueHistory.defunct_franchise.hasOwnProperty(t))
                for (var a in leagueHistory.defunct_franchise[t])
                    leagueHistory.defunct_franchise[t].hasOwnProperty(a) &&
                        (e.hasOwnProperty(a) ||
                            ((e[a] = []),
                            (e[a].overall = { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 }),
                            (e[a].regular = { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 })),
                        (e[a].overall.gp += leagueHistory.defunct_franchise[t][a].gp),
                        (e[a].overall.w += leagueHistory.defunct_franchise[t][a].w),
                        (e[a].overall.l += leagueHistory.defunct_franchise[t][a].l),
                        (e[a].overall.t += leagueHistory.defunct_franchise[t][a].t),
                        (e[a].overall.pf += leagueHistory.defunct_franchise[t][a].pf),
                        (e[a].overall.pa += leagueHistory.defunct_franchise[t][a].pa),
                        (e[a][t] = []),
                        (e[a][t].id = leagueHistory.defunct_franchise[t][a].id),
                        (e[a][t].gp = leagueHistory.defunct_franchise[t][a].gp),
                        (e[a][t].w = leagueHistory.defunct_franchise[t][a].w),
                        (e[a][t].l = leagueHistory.defunct_franchise[t][a].l),
                        (e[a][t].t = leagueHistory.defunct_franchise[t][a].t),
                        (e[a][t].pf = leagueHistory.defunct_franchise[t][a].pf),
                        (e[a][t].pa = leagueHistory.defunct_franchise[t][a].pa));
        (leagueHistory.defunct_franchise = []), (leagueHistory.defunct_franchise = e);
    }
    function update_overall_record() {
        var e = [];
        for (var t in leagueHistory.defunct_franchise)
            if (leagueHistory.defunct_franchise.hasOwnProperty(t))
                for (var a in leagueHistory.defunct_franchise[t])
                    if (leagueHistory.defunct_franchise[t].hasOwnProperty(a) && "overall" !== a) {
                        var r = leagueHistory.defunct_franchise[t][a].id;
                        e.hasOwnProperty(r) || (e[r] = []), (e[r][a] = t);
                    }
        for (var a in leagueHistory.season_record)
            if (leagueHistory.season_record.hasOwnProperty(a))
                for (var r in leagueHistory.season_record[a])
                    if (leagueHistory.season_record[a].hasOwnProperty(r)) {
                        var s = "";
                        if (leagueHistory.reverse_lookup.hasOwnProperty(a + "_" + r))
                            s = leagueHistory.reverse_lookup[a + "_" + r];
                        else
                            try {
                                s = e[r][a];
                            } catch (e) {}
                        "" !== s &&
                            (lh_overall_record_ar.hasOwnProperty(s) ||
                                (lh_overall_record_ar[s] = {
                                    overall: { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 },
                                    regular: { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 },
                                    playoff: { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 },
                                }),
                            (lh_overall_record_ar[s][a] = leagueHistory.season_record[a][r]),
                            (lh_overall_record_ar[s].overall.gp += leagueHistory.season_record[a][r].overall.gp),
                            (lh_overall_record_ar[s].overall.w += leagueHistory.season_record[a][r].overall.w),
                            (lh_overall_record_ar[s].overall.l += leagueHistory.season_record[a][r].overall.l),
                            (lh_overall_record_ar[s].overall.t += leagueHistory.season_record[a][r].overall.t),
                            (lh_overall_record_ar[s].overall.pf += leagueHistory.season_record[a][r].overall.pf),
                            (lh_overall_record_ar[s].overall.pa += leagueHistory.season_record[a][r].overall.pa),
                            (lh_overall_record_ar[s].regular.gp += leagueHistory.season_record[a][r].regular.gp),
                            (lh_overall_record_ar[s].regular.w += leagueHistory.season_record[a][r].regular.w),
                            (lh_overall_record_ar[s].regular.l += leagueHistory.season_record[a][r].regular.l),
                            (lh_overall_record_ar[s].regular.t += leagueHistory.season_record[a][r].regular.t),
                            (lh_overall_record_ar[s].regular.pf += leagueHistory.season_record[a][r].regular.pf),
                            (lh_overall_record_ar[s].regular.pa += leagueHistory.season_record[a][r].regular.pa),
                            (lh_overall_record_ar[s].playoff.gp += leagueHistory.season_record[a][r].playoff.gp),
                            (lh_overall_record_ar[s].playoff.w += leagueHistory.season_record[a][r].playoff.w),
                            (lh_overall_record_ar[s].playoff.l += leagueHistory.season_record[a][r].playoff.l),
                            (lh_overall_record_ar[s].playoff.t += leagueHistory.season_record[a][r].playoff.t),
                            (lh_overall_record_ar[s].playoff.pf += leagueHistory.season_record[a][r].playoff.pf),
                            (lh_overall_record_ar[s].playoff.pa += leagueHistory.season_record[a][r].playoff.pa));
                    }
    }
    function sort_defunct_franchises() {
        try {
            var e = [];
            for (var t in leagueHistory.defunct_franchise)
                if (leagueHistory.defunct_franchise.hasOwnProperty(t)) {
                    var a =
                        (lh_overall_record_ar[t].regular.w + lh_overall_record_ar[t].regular.t / 2) /
                        lh_overall_record_ar[t].regular.gp;
                    e.push({
                        nameKey: t,
                        pct: a,
                        gp: lh_overall_record_ar[t].regular.gp,
                        w: lh_overall_record_ar[t].regular.w,
                        t: lh_overall_record_ar[t].regular.t,
                    });
                }
            e.sort(function (e, t) {
                return e.pct > t.pct
                    ? -1
                    : e.pct < t.pct
                      ? 1
                      : e.gp > t.gp
                        ? -1
                        : e.gp < t.gp
                          ? 1
                          : e.w > t.w
                            ? -1
                            : e.w < t.w
                              ? 1
                              : e.nameKey < t.nameKey
                                ? -1
                                : e.nameKey > t.nameKey
                                  ? 1
                                  : void 0;
            });
            for (var r = [], s = 0; s < e.length; s++) r[e[s].nameKey] = leagueHistory.defunct_franchise[e[s].nameKey];
            (leagueHistory.defunct_franchise = []), (leagueHistory.defunct_franchise = r);
        } catch (e) {}
    }
    function create_html_historical_records() {
        var e = [],
            t = [];
        for (var a in franchiseDatabase)
            if (franchiseDatabase.hasOwnProperty(a) && "fid_0000" !== a) {
                var r = franchiseDatabase[a].id;
                try {
                    switch (lh_overall_season) {
                        case "All":
                            t = lh_overall_record_ar[r].overall;
                            break;
                        case "Regular":
                            t = lh_overall_record_ar[r].regular;
                            break;
                        case "Playoff":
                            t = lh_overall_record_ar[r].playoff;
                    }
                    var s = (t.w + t.t / 2) / t.gp;
                } catch (e) {
                    (lh_overall_record_ar[r] = {
                        overall: { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 },
                        regular: { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 },
                        playoff: { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 },
                    }),
                        (t = { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 });
                    s = 0;
                }
                e.push({ id: r, pct: s, gp: t.gp });
            }
        e.sort(compare);
        var o = "";
        (o += '<div id="historical_records_wrapper">'),
            (o += '<div class="mobile-wrap">'),
            (o += '<table align="center" cellspacing="1" class="report"  id="historical_records">'),
            (o +=
                '<tr><th class="lh_overall_franchise" style="text-align:left;padding:0 0.313rem">Franchise</th><th class="lh_overall_pct">Win %</th><th class="lh_overall_gp">GP</th><th class="lh_overall_record">Overall</th>'),
            "1" === localStorage["lh_award_" + league_id]
                ? (o += '<th class="lh_overall_awards lh_award_check" style="display:none">Awards</th>')
                : (o += '<th class="lh_overall_awards lh_award_check">Awards</th>');
        for (var l = 0; l < leagueHistory.years.length; l++)
            o +=
                '<th class="lh_year_record"><a href="' +
                leagueHistory.history_links[l].url +
                '" target="_blank">' +
                leagueHistory.years[l] +
                "</a></th>";
        o += "</tr>";
        var i = [],
            n = 0;
        for (l = 0; l < e.length; l++) {
            r = e[l].id;
            if (lh_franchise_id === r) var d = " myfranchise";
            else d = "";
            (o +=
                l % 2
                    ? '<tr class="eventablerow active_fran' + d + '">'
                    : '<tr class="oddtablerow active_fran' + d + '">'),
                (o +=
                    '<td class="fname lh_franchise" style="text-align:left;white-space:nowrap;"><a class="franchise_' +
                    r +
                    '" href="' +
                    baseURLDynamic +
                    "/" +
                    year +
                    "/options?L=" +
                    league_id +
                    "&F=" +
                    r +
                    '&O=01">' +
                    getFranchiseName(yearStr, r, !1, !0) +
                    "</a></td>"),
                (o += '<td class="lh_overall_pct" style="text-align:center;">' + e[l].pct.toFixed(3) + "</td>"),
                (o += '<td class="lh_overall_gp" style="text-align:center;">' + e[l].gp + "</td>"),
                (t = []);
            try {
                switch (lh_overall_season) {
                    case "All":
                        t = lh_overall_record_ar[r].overall;
                        break;
                    case "Regular":
                        t = lh_overall_record_ar[r].regular;
                        break;
                    case "Playoff":
                        t = lh_overall_record_ar[r].playoff;
                }
            } catch (e) {
                t = { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 };
            }
            0 === t.gp
                ? (o +=
                      '<td class="lh_overall_record" style="text-align:center;white-space:nowrap;">' +
                      lh_no_record +
                      "</td>")
                : (o +=
                      '<td class="lh_overall_record" style="text-align:center;white-space:nowrap;cursor:pointer" onclick="lh_get_franchise_schedule_history(\'' +
                      r +
                      "','" +
                      t.w +
                      "-" +
                      t.l +
                      "-" +
                      t.t +
                      '\',false)"><a style="text-decoration:underline">' +
                      t.w +
                      "-" +
                      t.l +
                      "-" +
                      t.t +
                      "</a></td>"),
                "1" === localStorage["lh_award_" + league_id]
                    ? (o +=
                          '<td class="lh_overall_awards lh_award_check" style="text-align:center;display:none">' +
                          lh_getAwards(r, !1) +
                          "</td>")
                    : (o +=
                          '<td class="lh_overall_awards lh_award_check" style="text-align:center;">' +
                          lh_getAwards(r, !1) +
                          "</td>");
            for (var c = 0; c < leagueHistory.years.length; c++) {
                var p = "";
                "-" !== leagueHistory.fid_history_detail[r][leagueHistory.years[c]].fname &&
                    getFranchiseName(yearStr, r, !1, !1).trim().toLowerCase() !==
                        getFranchiseName(leagueHistory.years[c], r, !0, !1).trim().toLowerCase() &&
                    (i.hasOwnProperty(
                        r + "_" + getFranchiseName(leagueHistory.years[c], r, !0, !1).trim().toLowerCase()
                    ) ||
                        (n++,
                        (i[r + "_" + getFranchiseName(leagueHistory.years[c], r, !0, !1).trim().toLowerCase()] = {
                            id: r,
                            old_id: franchiseDatabase["fid_" + r].fid,
                            fname: getFranchiseName(yearStr, r, !1, !1).trim(),
                            old_fname: getFranchiseName(leagueHistory.years[c], r, !0, !1).trim(),
                            notation: n,
                        })),
                    (p =
                        '<span class="lh_notation" style="vertical-align:top;font-size:xx-small;color:red;font-weight:bold;padding-left:0.063rem;padding-right:0.063rem">' +
                        i[r + "_" + getFranchiseName(leagueHistory.years[c], r, !0, !1).trim().toLowerCase()].notation +
                        "</span>")),
                    (o += '<td class="lh_year_record" style="text-align:center;white-space:nowrap;">'),
                    (t = []);
                try {
                    switch (lh_overall_season) {
                        case "All":
                            t = lh_overall_record_ar[r][leagueHistory.years[c]].overall;
                            break;
                        case "Regular":
                            t = lh_overall_record_ar[r][leagueHistory.years[c]].regular;
                            break;
                        case "Playoff":
                            t = lh_overall_record_ar[r][leagueHistory.years[c]].playoff;
                    }
                } catch (e) {
                    t = { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 };
                }
                var h = t.w + "-" + t.l + "-" + t.t;
                0 === t.gp
                    ? (o += lh_no_record)
                    : (o +=
                          '<span class="lh_get_franchise_schedule" style="cursor:pointer" onclick="lh_get_franchise_schedule(\'' +
                          r +
                          "'," +
                          c +
                          ",'" +
                          leagueHistory.years[c] +
                          "','" +
                          h +
                          '\',false)"><a style="text-decoration:underline">' +
                          h +
                          "</a></span>"),
                    lh_auto_rename_linked_franchise ||
                        ("1" === localStorage["lh_notation_" + league_id]
                            ? (o += '<span class="lh_notation_check" style="display:none">' + p + "</span>")
                            : (o += '<span class="lh_notation_check">' + p + "</span>")),
                    (o += "</td>");
            }
            o += "</tr>";
        }
        "1" === localStorage["lh_defunct_" + league_id]
            ? (o +=
                  '<tr class="lh_defunct_check rowheader" style="display:none"><th class="lh_overall_franchise" style="text-align:left">Defunct Franchises</th><th class="lh_overall_pct">Win %</th><th class="lh_overall_gp">GP</th><th class="lh_overall_record">Overall</th>')
            : (o +=
                  '<tr class="lh_defunct_check rowheader"><th class="lh_overall_franchise" style="text-align:left">Defunct Franchises</th><th class="lh_overall_pct">Win %</th><th class="lh_overall_gp">GP</th><th class="lh_overall_record">Overall</th>'),
            "1" === localStorage["lh_award_" + league_id]
                ? (o += '<th class="lh_overall_pct lh_award_check" style="display:none">Awards</th>')
                : (o += '<th class="lh_overall_pct lh_award_check">Awards</th>');
        for (l = 0; l < leagueHistory.years.length; l++)
            o +=
                '<th class="lh_year_record"><a href="' +
                leagueHistory.history_links[l].url +
                '" target="_blank">' +
                leagueHistory.years[l] +
                "</a></th>";
        o += "</tr>";
        var _ = 0;
        for (var a in leagueHistory.defunct_franchise)
            if (leagueHistory.defunct_franchise.hasOwnProperty(a)) {
                _ % 2
                    ? "1" === localStorage["lh_defunct_" + league_id]
                        ? (o += '<tr class="eventablerow lh_defunct_check" style="display:none">')
                        : (o += '<tr class="eventablerow lh_defunct_check">')
                    : "1" === localStorage["lh_defunct_" + league_id]
                      ? (o += '<tr class="oddtablerow lh_defunct_check" style="display:none">')
                      : (o += '<tr class="oddtablerow lh_defunct_check">'),
                    (o += '<td class="fname lh_franchise" style="text-align:left;white-space:nowrap;">' + a + "</td>");
                try {
                    switch (lh_overall_season) {
                        case "All":
                            t = lh_overall_record_ar[a].overall;
                            break;
                        case "Regular":
                            t = lh_overall_record_ar[a].regular;
                            break;
                        case "Playoff":
                            t = lh_overall_record_ar[a].playoff;
                    }
                } catch (e) {
                    t = { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 };
                }
                (o +=
                    '<td class="lh_overall_pct" style="text-align:center;">' +
                    ((t.w + t.t / 2) / t.gp).toFixed(3) +
                    "</td>"),
                    (o += '<td class="lh_overall_gp" style="text-align:center;">' + t.gp + "</td>"),
                    0 === t.gp
                        ? (o +=
                              '<td class="lh_overall_record" style="text-align:center;white-space:nowrap;">' +
                              lh_no_record +
                              "</td>")
                        : (o +=
                              '<td class="lh_overall_record" style="text-align:center;white-space:nowrap;">' +
                              t.w +
                              "-" +
                              t.l +
                              "-" +
                              t.t +
                              "</td>"),
                    "1" === localStorage["lh_award_" + league_id]
                        ? (o +=
                              '<td class="lh_overall_awards lh_award_check" style="text-align:center;white-space:nowrap;display:none">' +
                              lh_getAwards(a, !0) +
                              "</td>")
                        : (o +=
                              '<td class="lh_overall_awards lh_award_check" style="text-align:center;white-space:nowrap;">' +
                              lh_getAwards(a, !0) +
                              "</td>");
                for (l = 0; l < leagueHistory.years.length; l++)
                    if (leagueHistory.defunct_franchise[a].hasOwnProperty(leagueHistory.years[l])) {
                        r = leagueHistory.defunct_franchise[a][leagueHistory.years[l]].id;
                        o += '<td class="lh_year_record" style="text-align:center;white-space:nowrap;">';
                        try {
                            switch (lh_overall_season) {
                                case "All":
                                    t = lh_overall_record_ar[a][leagueHistory.years[l]].overall;
                                    break;
                                case "Regular":
                                    t = lh_overall_record_ar[a][leagueHistory.years[l]].regular;
                                    break;
                                case "Playoff":
                                    t = lh_overall_record_ar[a][leagueHistory.years[l]].playoff;
                            }
                        } catch (e) {
                            t = { gp: 0, w: 0, l: 0, t: 0, pf: 0, pa: 0 };
                        }
                        h = t.w + "-" + t.l + "-" + t.t;
                        0 === t.gp
                            ? (o += lh_no_record)
                            : (o +=
                                  '<span class="lh_get_franchise_schedule" style="cursor:pointer" onclick="lh_get_franchise_schedule(\'' +
                                  r +
                                  "'," +
                                  c +
                                  ",'" +
                                  leagueHistory.years[l] +
                                  "','" +
                                  h +
                                  '\',true)"><a style="text-decoration:underline">' +
                                  h +
                                  "</a></span>"),
                            (o += "</td>");
                    } else
                        o +=
                            '<td class="lh_year_record" style="text-align:center;white-space:nowrap;">' +
                            lh_no_record +
                            "</td>";
                (o += "</tr>"), _++;
            }
        (o += "</table>"), (o += "</div>"), (o += "</div>");
        var m = "";
        for (var a in historicalAwards)
            historicalAwards.hasOwnProperty(a) &&
                ((m += '<li class="lh_award_li">'),
                (m += '<span class="lh_award lh_award_li_award">' + historicalAwards[a] + "</span>"),
                (m += '<span class="lh_award lh_award_li_note">' + a + "</span>"),
                (m += "</li>"));
        if (
            ("" !== m &&
                ("1" === localStorage["lh_award_" + league_id]
                    ? (o += '<div class="mobile-wrap lh_award_check" style="display:none">')
                    : (o += '<div class="mobile-wrap lh_award_check">'),
                (o +=
                    '<ul class="lh_award_ul" style="list-style-type:none;margin-left:0.313rem"><span class="lh_award_caption" style="font-weight:bold;display:block;margin-bottom:0.188rem">League Awards</span>'),
                (o += m),
                (o += "</ul>"),
                (o += "</div>")),
            !lh_auto_rename_linked_franchise && n > 0)
        ) {
            for (var a in ("1" === localStorage["lh_notation_" + league_id]
                ? (o += '<div class="mobile-wrap lh_notation_check" style="display:none">')
                : (o += '<div class="mobile-wrap lh_notation_check">'),
            (o +=
                '<ul class="lh_notation_ul" style="list-style-type:none"><span class="lh_notation_caption" style="font-weight:bold;display:block;margin-bottom:0.188rem">Historical Franchise Name Changes</span>'),
            i))
                i.hasOwnProperty(a) &&
                    ((o += '<li class="lh_notation_li">'),
                    (o +=
                        '<span class="lh_notation lh_notation_li_notation" style="color:red;font-weight:bold">' +
                        i[a].notation +
                        "</span>"),
                    (o +=
                        '<span class="lh_notation lh_notation_li_note">' +
                        i[a].fname +
                        " was known as " +
                        i[a].old_fname +
                        "</span>"),
                    (o += "</li>"));
            (o += "</ul>"), (o += "</div>");
        }
        jQuery("#historical_records_content").html(o),
            jQuery(".lh_defunct_check").prev(".active_fran").addClass("fran-last"),
            lh_initial_run && show_custom_tab_history(11100),
            (lh_initial_run = !1),
            doTableScrollHistory(3, "historical_records_wrapper");
    }
    function lh_get_series_record(e, t, a) {
        var r = "",
            s = "",
            o = { w: 0, l: 0, t: 0 },
            l = { w: 0, l: 0, t: 0 },
            i = { w: 0, l: 0, t: 0 },
            n = !1;
        for (var d in leagueHistory.series_record)
            if (leagueHistory.series_record.hasOwnProperty(d))
                for (var c in leagueHistory.series_record[d])
                    if (leagueHistory.series_record[d].hasOwnProperty(c))
                        if (isNaN(parseInt(e)) || 4 !== e.length) {
                            if (
                                leagueHistory.defunct_franchise.hasOwnProperty(e) &&
                                leagueHistory.defunct_franchise[e].hasOwnProperty(d)
                            ) {
                                var p = leagueHistory.defunct_franchise[e][d].id;
                                if (c === p + "_defunct")
                                    for (var h = 0; h < leagueHistory.series_record[d][c].length; h++)
                                        if (leagueHistory.series_record[d][c][h].opp === t) {
                                            switch (
                                                ((n = !0),
                                                "1" === leagueHistory.series_record[d][c][h].regular ? !0 : !0,
                                                leagueHistory.series_record[d][c][h].result)
                                            ) {
                                                case "W":
                                                    o.w++,
                                                        "1" === leagueHistory.series_record[d][c][h].regular
                                                            ? l.w++
                                                            : i.w++;
                                                    var _ = "lh_popup_win",
                                                        m = "width:1.25rem;display:inline-block;text-align:center";
                                                    break;
                                                case "L":
                                                    o.l++,
                                                        "1" === leagueHistory.series_record[d][c][h].regular
                                                            ? l.l++
                                                            : i.l++;
                                                    (_ = "lh_popup_loss"),
                                                        (m = "width:1.25rem;display:inline-block;text-align:center");
                                                    break;
                                                case "T":
                                                    o.t++,
                                                        "1" === leagueHistory.series_record[d][c][h].regular
                                                            ? l.t++
                                                            : i.t++;
                                                    (_ = "lh_popup_tie"),
                                                        (m = "width:1.25rem;display:inline-block;text-align:center");
                                            }
                                            var y =
                                                    parseInt(leagueHistory.series_record[d][c][h].week) < 10
                                                        ? "0" + leagueHistory.series_record[d][c][h].week
                                                        : leagueHistory.series_record[d][c][h].week,
                                                u =
                                                    1 === leagueHistory.series_record[d][c][h].is_home
                                                        ? " vs "
                                                        : " at ";
                                            "1" === leagueHistory.series_record[d][c][h].regular
                                                ? (r +=
                                                      '<li class="ls-popup-player-li" style="cursor:pointer" onclick="lh_get_matchup(\'' +
                                                      p +
                                                      "','" +
                                                      t +
                                                      "','" +
                                                      leagueHistory.series_record[d][c][h].score +
                                                      "','" +
                                                      leagueHistory.series_record[d][c][h].opp_score +
                                                      "','" +
                                                      u +
                                                      "','" +
                                                      d +
                                                      "'," +
                                                      y +
                                                      ',true)">' +
                                                      d +
                                                      " Week " +
                                                      y +
                                                      ':<span class="lh_popup_result ' +
                                                      _ +
                                                      '" style="' +
                                                      m +
                                                      '">' +
                                                      leagueHistory.series_record[d][c][h].result +
                                                      "</span>" +
                                                      getFranchiseAbbrev(d, p, !1, !1) +
                                                      " " +
                                                      leagueHistory.series_record[d][c][h].score +
                                                      u +
                                                      franchiseDatabase["fid_" + t].abbrev +
                                                      " " +
                                                      leagueHistory.series_record[d][c][h].opp_score +
                                                      "</li>")
                                                : (s +=
                                                      '<li class="ls-popup-player-li" style="cursor:pointer" onclick="lh_get_matchup(\'' +
                                                      p +
                                                      "','" +
                                                      t +
                                                      "','" +
                                                      leagueHistory.series_record[d][c][h].score +
                                                      "','" +
                                                      leagueHistory.series_record[d][c][h].opp_score +
                                                      "','" +
                                                      u +
                                                      "','" +
                                                      d +
                                                      "'," +
                                                      y +
                                                      ',true)">' +
                                                      d +
                                                      " Week " +
                                                      y +
                                                      ':<span class="lh_popup_result ' +
                                                      _ +
                                                      '" style="' +
                                                      m +
                                                      '">' +
                                                      leagueHistory.series_record[d][c][h].result +
                                                      "</span>" +
                                                      getFranchiseAbbrev(d, p, !1, !1) +
                                                      " " +
                                                      leagueHistory.series_record[d][c][h].score +
                                                      u +
                                                      franchiseDatabase["fid_" + t].abbrev +
                                                      " " +
                                                      leagueHistory.series_record[d][c][h].opp_score +
                                                      "</li>");
                                        }
                            }
                        } else if (c === e)
                            for (h = 0; h < leagueHistory.series_record[d][c].length; h++)
                                if (leagueHistory.series_record[d][c][h].opp === t) {
                                    switch (((n = !0), leagueHistory.series_record[d][c][h].result)) {
                                        case "W":
                                            o.w++, "1" === leagueHistory.series_record[d][c][h].regular ? l.w++ : i.w++;
                                            (_ = "lh_popup_win"),
                                                (m = "width:1.25rem;display:inline-block;text-align:center");
                                            break;
                                        case "L":
                                            o.l++, "1" === leagueHistory.series_record[d][c][h].regular ? l.l++ : i.l++;
                                            (_ = "lh_popup_loss"),
                                                (m = "width:1.25rem;display:inline-block;text-align:center");
                                            break;
                                        case "T":
                                            o.t++, "1" === leagueHistory.series_record[d][c][h].regular ? l.t++ : i.t++;
                                            (_ = "lh_popup_tie"),
                                                (m = "width:1.25rem;display:inline-block;text-align:center");
                                    }
                                    (y =
                                        parseInt(leagueHistory.series_record[d][c][h].week) < 10
                                            ? "0" + leagueHistory.series_record[d][c][h].week
                                            : leagueHistory.series_record[d][c][h].week),
                                        (u = 1 === leagueHistory.series_record[d][c][h].is_home ? " vs " : " at ");
                                    "1" === leagueHistory.series_record[d][c][h].regular
                                        ? (r +=
                                              '<li class="ls-popup-player-li" style="cursor:pointer" onclick="lh_get_matchup(\'' +
                                              e +
                                              "','" +
                                              t +
                                              "','" +
                                              leagueHistory.series_record[d][c][h].score +
                                              "','" +
                                              leagueHistory.series_record[d][c][h].opp_score +
                                              "','" +
                                              u +
                                              "','" +
                                              d +
                                              "'," +
                                              y +
                                              ',false)">' +
                                              d +
                                              " Week " +
                                              y +
                                              ':<span class="lh_popup_result ' +
                                              _ +
                                              '" style="' +
                                              m +
                                              '">' +
                                              leagueHistory.series_record[d][c][h].result +
                                              "</span>" +
                                              franchiseDatabase["fid_" + e].abbrev +
                                              " " +
                                              leagueHistory.series_record[d][c][h].score +
                                              u +
                                              franchiseDatabase["fid_" + t].abbrev +
                                              " " +
                                              leagueHistory.series_record[d][c][h].opp_score +
                                              "</li>")
                                        : (s +=
                                              '<li class="ls-popup-player-li" style="cursor:pointer" onclick="lh_get_matchup(\'' +
                                              e +
                                              "','" +
                                              t +
                                              "','" +
                                              leagueHistory.series_record[d][c][h].score +
                                              "','" +
                                              leagueHistory.series_record[d][c][h].opp_score +
                                              "','" +
                                              u +
                                              "','" +
                                              d +
                                              "'," +
                                              y +
                                              ',false)">' +
                                              d +
                                              " Week " +
                                              y +
                                              ':<span class="lh_popup_result ' +
                                              _ +
                                              '" style="' +
                                              m +
                                              '">' +
                                              leagueHistory.series_record[d][c][h].result +
                                              "</span>" +
                                              franchiseDatabase["fid_" + e].abbrev +
                                              " " +
                                              leagueHistory.series_record[d][c][h].score +
                                              u +
                                              franchiseDatabase["fid_" + t].abbrev +
                                              " " +
                                              leagueHistory.series_record[d][c][h].opp_score +
                                              "</li>");
                                }
        if (a) {
            var f = "";
            isNaN(parseInt(e))
                ? (f +=
                      '<div class="ls-popup-matchup" style="text-align:center;font-weight:bold;font-size:0.938rem">' +
                      e +
                      " vs " +
                      franchiseDatabase["fid_" + t].name +
                      "</div>")
                : (f +=
                      '<div class="ls-popup-matchup" style="text-align:center;font-weight:bold;font-size:0.938rem">' +
                      franchiseDatabase["fid_" + e].name +
                      " vs " +
                      franchiseDatabase["fid_" + t].name +
                      "</div>"),
                o.w + o.l + o.t === 0
                    ? (f +=
                          '<div class="ls-popup-matchup-record" style="text-align:center;font-style:italic">(' +
                          lh_no_record +
                          ")</div>")
                    : (f +=
                          '<div class="ls-popup-matchup-record" style="text-align:center;font-style:italic">(' +
                          o.w +
                          "-" +
                          o.l +
                          "-" +
                          o.t +
                          ")</div>"),
                (f += "<p>"),
                (f +=
                    '<ul class="ls-popup-position-ul"><span style="font-weight:bold;width:100%;display:inline-block;margin-bottom:0.313rem;text-indent:0.313rem;font-size:0.875rem">Regular Season</span>'),
                (f += "" === r ? '<li class="ls-popup-player-li ls-popup-player-li-none">no matchups found</li>' : r),
                (f += "</ul>"),
                (f += "</p>"),
                (f += "<p>"),
                (f +=
                    '<ul class="ls-popup-position-ul"><span style="font-weight:bold;width:100%;display:inline-block;margin-bottom:0.313rem;text-indent:0.313rem;font-size:0.875rem">Playoffs</span>'),
                (f += "" === s ? '<li class="ls-popup-player-li ls-popup-player-li-none">no matchups found</li>' : s),
                (f += "</ul>"),
                (f += "</p>"),
                jQuery("#ls-modal-2-header-content").html("Series Record"),
                jQuery("#ls-modal-2-content").html(f),
                jQuery("#ls-modal-2-content").scrollTop(0);
        } else
            switch (lh_series_season) {
                case "All":
                    return n ? o.w + "-" + o.l + "-" + o.t : lh_no_record;
                case "Regular":
                    return n ? l.w + "-" + l.l + "-" + l.t : lh_no_record;
                case "Playoff":
                    return n ? i.w + "-" + i.l + "-" + i.t : lh_no_record;
            }
    }
    function create_html_series_records() {
        var e = "";
        for (var t in ((e += '<div id="series_records_wrapper">'),
        (e += '<div class="mobile-wrap">'),
        (e += '<table align="center" cellspacing="1" class="report" id="series_records">'),
        (e += '<tr><th class="lh_overall_franchise" style="text-align:left;padding:0 0.313rem">Franchise</th>'),
        franchiseDatabase))
            franchiseDatabase.hasOwnProperty(t) &&
                "fid_0000" !== t &&
                (e += '<th class="lh_abbrev">' + franchiseDatabase[t].abbrev + "</th>");
        e += "</tr>";
        var a = 0;
        for (var t in franchiseDatabase)
            if (franchiseDatabase.hasOwnProperty(t) && "fid_0000" !== t) {
                var r = franchiseDatabase[t].id;
                if (lh_franchise_id === r) var s = " myfranchise";
                else s = "";
                for (var o in ((e +=
                    a % 2
                        ? '<tr class="eventablerow active_fran' + s + '">'
                        : '<tr class="oddtablerow active_fran' + s + '">'),
                (e +=
                    '<td class="fname lh_franchise" style="text-align:left;white-space:nowrap;"><a class="franchise_' +
                    r +
                    '" href="' +
                    baseURLDynamic +
                    "/" +
                    year +
                    "/options?L=" +
                    league_id +
                    "&F=" +
                    r +
                    '&O=01">' +
                    getFranchiseName(yearStr, r, !1, !0) +
                    "</a></td>"),
                franchiseDatabase)) {
                    if (franchiseDatabase.hasOwnProperty(o) && "fid_0000" !== o)
                        e +=
                            r === (l = franchiseDatabase[o].id)
                                ? '<td id="lh_series_' +
                                  r +
                                  "_" +
                                  l +
                                  '" class="lh_series_td lh_series_same_team" style="text-align:center"><i class="fa-regular fa-rectangle-xmark" aria-hidden="true" style="font-size: 1rem"></i></td>'
                                : '<td id="lh_series_' +
                                  r +
                                  "_" +
                                  l +
                                  '" class="lh_series_td" style="text-align:center;cursor:pointer" onclick="lh_get_series_record(\'' +
                                  r +
                                  "','" +
                                  l +
                                  '\',true)"><a style="text-decoration:underline">' +
                                  lh_get_series_record(r, l, !1) +
                                  "</a></td>";
                }
                (e += "</tr>"), a++;
            }
        for (var t in ("1" === localStorage["lh_defunct_" + league_id]
            ? (e +=
                  '<tr class="lh_defunct_check rowheader" style="display:none"><th class="lh_overall_franchise" style="text-align:left">Defunct Franchises</th>')
            : (e +=
                  '<tr class="lh_defunct_check rowheader"><th class="lh_overall_franchise" style="text-align:left">Defunct Franchises</th>'),
        franchiseDatabase))
            franchiseDatabase.hasOwnProperty(t) &&
                "fid_0000" !== t &&
                (e += '<th class="lh_abbrev">' + franchiseDatabase[t].abbrev + "</th>");
        e += "</tr>";
        a = 0;
        for (var t in leagueHistory.defunct_franchise)
            if (leagueHistory.defunct_franchise.hasOwnProperty(t)) {
                for (var o in (a % 2
                    ? "1" === localStorage["lh_defunct_" + league_id]
                        ? (e += '<tr class="eventablerow lh_defunct_check" style="display:none">')
                        : (e += '<tr class="eventablerow lh_defunct_check">')
                    : "1" === localStorage["lh_defunct_" + league_id]
                      ? (e += '<tr class="oddtablerow lh_defunct_check" style="display:none">')
                      : (e += '<tr class="oddtablerow lh_defunct_check">'),
                (e += '<td class="fname lh_franchise" style="text-align:left;white-space:nowrap;">' + t + "</td>"),
                franchiseDatabase)) {
                    var l;
                    if (franchiseDatabase.hasOwnProperty(o) && "fid_0000" !== o)
                        e +=
                            '<td id="lh_series_' +
                            t +
                            "_" +
                            (l = franchiseDatabase[o].id) +
                            '" class="lh_series_td" style="text-align:center;cursor:pointer" onclick="lh_get_series_record(\'' +
                            t +
                            "','" +
                            l +
                            '\',true)"><a style="text-decoration:underline">' +
                            lh_get_series_record(t, l, !1) +
                            "</a></td>";
                }
                (e += "</tr>"), a++;
            }
        (e += "</table>"),
            (e += "</div>"),
            (e += "</div>"),
            jQuery("#series_records_content").html(e),
            jQuery(".lh_defunct_check").prev(".active_fran").addClass("fran-last"),
            doTableScrollHistory(3, "series_records_wrapper");
    }
    function create_html_team_points_table(e, t, a, r) {
        var s = "";
        (s += '<div class="mobile-wrap lh-bottom-line">'),
            (s += '<table align="center" cellspacing="1" class="report" id="' + t + '">'),
            (s += '<caption style="display:table-caption"><span>' + a + "</span></caption>"),
            (s += "<tr>"),
            (s +=
                '<th class="lh_rank" style="width:1.875rem;padding:0 0.188rem">Rank</th><th class="lh_franchise" style="text-align:left;padding:0 0.313rem;">Franchise</th>'),
            r < 2 && (s += '<th class="lh_year" style="text-align:center;width:3.125rem">Year</th>'),
            r < 1 && (s += '<th class="lh_week" style="text-align:center;width:3.125rem">Week</th>'),
            1 === r && (s += '<th class="lh_season_gp" style="text-align:center;width:3.125rem">GP</th>'),
            2 === r && (s += '<th class="lh_season" style="text-align:center;width:3.75rem">Seasons</th>'),
            2 === r && (s += '<th class="lh_season_avg" style="text-align:center;width:3.125rem">Avg</th>'),
            (s += '<th class="lh_points" style="text-align:center;width:4.375rem">Points</th>'),
            (s += "</tr>");
        for (var o = lh_teams_to_rank, l = 0, i = 0, n = 0; n < e.length; n++)
            if (void 0 !== leagueHistory.league_history_detail[e[n].year].franchises[e[n].fid.substr(0, 4)])
                if ("0" !== localStorage["lh_zero_" + league_id] || 0 !== e[n].score)
                    if (1 !== r || 0 !== e[n].gp) {
                        var d = "";
                        if (
                            (leagueHistory.reverse_lookup.hasOwnProperty(e[n].year + "_" + e[n].fid) &&
                                leagueHistory.reverse_lookup[e[n].year + "_" + e[n].fid] === lh_franchise_id &&
                                (d = " myfranchise"),
                            (s += i % 2 ? '<tr class="eventablerow' + d + '">' : '<tr class="oddtablerow' + d + '">'),
                            (s +=
                                '<td class="lh_rank" style="width:1.875rem;text-align:center;padding:0 0.188rem">' +
                                (n - l == 0
                                    ? n - l + 1
                                    : e[n].score === e[n - (1 + l)].score
                                      ? '<i class="fa-regular fa-minus" aria-hidden="true" style="font-size:0.625rem"></i>'
                                      : n - l + 1) +
                                "</td>"),
                            (s +=
                                '<td class="lh_franchise" style="text-align:left;padding:0 0.313rem">' +
                                getFranchiseName(e[n].year, e[n].fid.substr(0, 4), !1, !0) +
                                "</td>"),
                            r < 2 &&
                                (s +=
                                    '<td class="lh_year" style="text-align:center;width:3.125rem">' +
                                    e[n].year +
                                    "</td>"),
                            r < 1 &&
                                (s +=
                                    '<td class="lh_week" style="text-align:center;width:3.125rem">' +
                                    e[n].week +
                                    "</td>"),
                            2 === r)
                        ) {
                            var c = 0;
                            for (var p in leagueHistory.fid_history_detail[e[n].fid])
                                leagueHistory.fid_history_detail[e[n].fid].hasOwnProperty(p) &&
                                    "-" !== leagueHistory.fid_history_detail[e[n].fid][p].fid &&
                                    c++;
                            s += '<td class="lh_week" style="text-align:center">' + c + "</td>";
                        }
                        if (
                            (1 === r &&
                                (s +=
                                    '<td class="lh_season_gp" style="text-align:center;width:3.125rem">' +
                                    e[n].gp +
                                    "</td>"),
                            2 === r &&
                                (s +=
                                    '<td class="lh_season_avg" style="text-align:center;width:3.125rem">' +
                                    (e[n].score / c).toFixed(lh_precision) +
                                    "</td>"),
                            (s +=
                                0 === r
                                    ? '<td class="lh_points" style="text-align:center;width:4.375rem"><a href="#get_score_details" onclick="getScoreDetails(\'' +
                                      e[n].year +
                                      "','" +
                                      e[n].week +
                                      "','" +
                                      e[n].fid +
                                      "')\">" +
                                      e[n].score.toFixed(lh_precision) +
                                      "</a></td>"
                                    : 1 === r
                                      ? '<td class="lh_points" style="text-align:center;width:4.375rem"><a href="#get_score_details_season" onclick="lh_get_franchise_schedule(\'' +
                                        e[n].fid +
                                        "'," +
                                        n +
                                        ",'" +
                                        e[n].year +
                                        "','" +
                                        e[n].score.toFixed(lh_precision) +
                                        "'," +
                                        isDefunctFranchise(e[n].year, e[n].fid) +
                                        ')">' +
                                        e[n].score.toFixed(lh_precision) +
                                        "</a></td>"
                                      : '<td class="lh_points" style="text-align:center;width:4.375rem"><a href="#get_score_details_all_seasons" onclick="lh_get_franchise_schedule_history(\'' +
                                        e[n].fid +
                                        "','" +
                                        e[n].score.toFixed(lh_precision) +
                                        "',false)\">" +
                                        e[n].score.toFixed(lh_precision) +
                                        "</a></td>"),
                            (s += "</tr>"),
                            n === o - 1)
                        )
                            break;
                        i++;
                    } else o++, l++;
                else o++, l++;
            else o++, l++;
        return (s += "</table>"), (s += "</div>");
    }
    function create_html_team_points() {
        var e = [],
            t = [],
            a = [],
            r = [],
            s = [];
        for (var o in leagueHistory.series_record)
            if (leagueHistory.series_record.hasOwnProperty(o))
                for (var l in leagueHistory.series_record[o])
                    if ("BYE" !== l && "BYE_defunct" !== l && leagueHistory.series_record[o].hasOwnProperty(l))
                        for (var i = 0; i < leagueHistory.series_record[o][l].length; i++) {
                            var n = leagueHistory.series_record[o][l][i].week,
                                d = l.substr(0, 4);
                            if (l.length > 4) var c = l.substr(0, 4);
                            else c = leagueHistory.fid_history_detail[l][o].fid;
                            var p = leagueHistory.series_record[o][l][i].historic_opp,
                                h =
                                    parseInt(
                                        parseFloat(leagueHistory.series_record[o][l][i].score) * lh_precision_multiplier
                                    ) / lh_precision_multiplier,
                                _ =
                                    parseInt(
                                        parseFloat(leagueHistory.series_record[o][l][i].opp_score) *
                                            lh_precision_multiplier
                                    ) / lh_precision_multiplier,
                                m = leagueHistory.series_record[o][l][i].result;
                            1 === (u = parseInt(leagueHistory.series_record[o][l][i].regular)) && (s[o] = n),
                                ("1" !== localStorage["lh_multiple_" + league_id] &&
                                    r.hasOwnProperty(o + "_" + n + "_" + c)) ||
                                    ("1" !== localStorage["lh_zero_" + league_id] && 0 === h) ||
                                    (t.hasOwnProperty(c) || (t[c] = []),
                                    t[c].hasOwnProperty(o) ||
                                        (t[c][o] = { regular: 0, playoff: 0, regular_gp: 0, playoff_gp: 0 }),
                                    1 === u
                                        ? ((t[c][o].regular += h), t[c][o].regular_gp++)
                                        : ((t[c][o].playoff += h), t[c][o].playoff_gp++),
                                    4 === l.length &&
                                        (a.hasOwnProperty(d) ||
                                            (a[d] = { regular: 0, playoff: 0, regular_gp: 0, playoff_gp: 0 }),
                                        1 === u
                                            ? ((a[d].regular += h), a[d].regular_gp++)
                                            : ((a[d].playoff += h), a[d].playoff_gp++)),
                                    e.push({
                                        year: o,
                                        week: n,
                                        fidkey: d,
                                        fid: c,
                                        fid_opp: p,
                                        score: h,
                                        score_opp: _,
                                        result: m,
                                        regular: u,
                                    }),
                                    (r[o + "_" + n + "_" + c] = 1));
                        }
        var y = "" + year;
        for (var l in leagueHistory.series_record[y])
            if ("BYE" !== l && "BYE_defunct" !== l && leagueHistory.series_record[y].hasOwnProperty(l))
                for (i = 0; i < leagueHistory.series_record[y][l].length; i++) {
                    var u;
                    (n = leagueHistory.series_record[y][l][i].week),
                        (c = l),
                        (d = l),
                        (p = leagueHistory.series_record[y][l][i].opp),
                        (h =
                            parseInt(parseFloat(leagueHistory.series_record[y][l][i].score) * lh_precision_multiplier) /
                            lh_precision_multiplier),
                        (_ =
                            parseInt(
                                parseFloat(leagueHistory.series_record[y][l][i].opp_score) * lh_precision_multiplier
                            ) / lh_precision_multiplier),
                        (m = leagueHistory.series_record[y][l][i].result);
                    1 === (u = parseInt(leagueHistory.series_record[y][l][i].regular)) && (s[y] = n),
                        ("1" !== localStorage["lh_multiple_" + league_id] && r.hasOwnProperty(y + "_" + n + "_" + c)) ||
                            ("1" !== localStorage["lh_zero_" + league_id] && 0 === h) ||
                            (t.hasOwnProperty(c) || (t[c] = []),
                            t[c].hasOwnProperty(y) ||
                                (t[c][y] = { regular: 0, playoff: 0, regular_gp: 0, playoff_gp: 0 }),
                            1 === u
                                ? ((t[c][y].regular += h), t[c][y].regular_gp++)
                                : ((t[c][y].playoff += h), t[c][y].playoff_gp++),
                            a.hasOwnProperty(d) || (a[d] = { regular: 0, playoff: 0, regular_gp: 0, playoff_gp: 0 }),
                            1 === u
                                ? ((a[d].regular += h), a[d].regular_gp++)
                                : ((a[d].playoff += h), a[d].playoff_gp++),
                            e.push({
                                year: y,
                                week: n,
                                fidkey: d,
                                fid: c,
                                fid_opp: p,
                                score: h,
                                score_opp: _,
                                result: m,
                                regular: u,
                            }),
                            (r[y + "_" + n + "_" + c] = 1));
                }
        if ("1" === localStorage["lh_bye_" + league_id]) {
            for (var o in leagueHistory.weekly_score)
                if (leagueHistory.weekly_score.hasOwnProperty(o)) {
                    if (s.hasOwnProperty(o)) var f = parseInt(s[o]);
                    else f = parseInt(leagueHistory.league_history_detail[o].last_week);
                    for (var l in leagueHistory.weekly_score[o])
                        if ("BYE" !== l && "BYE_defunct" !== l && leagueHistory.weekly_score[o].hasOwnProperty(l))
                            for (var b in leagueHistory.weekly_score[o][l])
                                if (leagueHistory.weekly_score[o][l].hasOwnProperty(b)) {
                                    d = l.substr(0, 4);
                                    if (l.length > 4) c = l.substr(0, 4);
                                    else c = leagueHistory.fid_history_detail[l][o].fid;
                                    h =
                                        parseInt(
                                            parseFloat(leagueHistory.weekly_score[o][l][b]) * lh_precision_multiplier
                                        ) / lh_precision_multiplier;
                                    r.hasOwnProperty(o + "_" + b + "_" + c) ||
                                        ("1" !== localStorage["lh_zero_" + league_id] && 0 === h) ||
                                        (t.hasOwnProperty(c) || (t[c] = []),
                                        t[c].hasOwnProperty(o) ||
                                            (t[c][o] = { regular: 0, playoff: 0, regular_gp: 0, playoff_gp: 0 }),
                                        parseInt(b) <= f
                                            ? ((t[c][o].regular += h), t[c][o].regular_gp++)
                                            : ((t[c][o].playoff += h), t[c][o].playoff_gp++),
                                        4 === l.length &&
                                            (a.hasOwnProperty(d) ||
                                                (a[d] = { regular: 0, playoff: 0, regular_gp: 0, playoff_gp: 0 }),
                                            parseInt(b) <= f
                                                ? ((a[d].regular += h), a[d].regular_gp++)
                                                : ((a[d].playoff += h), a[d].playoff_gp++)),
                                        parseInt(b) <= f
                                            ? e.push({
                                                  year: o,
                                                  week: b,
                                                  fidkey: d,
                                                  fid: c,
                                                  fid_opp: "BYE",
                                                  score: h,
                                                  regular: "1",
                                              })
                                            : e.push({
                                                  year: o,
                                                  week: b,
                                                  fidkey: d,
                                                  fid: c,
                                                  fid_opp: "BYE",
                                                  score: h,
                                                  regular: "0",
                                              }));
                                }
                }
            y = "" + year;
            if (s.hasOwnProperty(y)) f = parseInt(s[y]);
            else f = parseInt(leagueHistory.league_history_detail[y].last_week);
            for (var l in leagueHistory.weekly_score[y])
                if ("BYE" !== l && "BYE_defunct" !== l && leagueHistory.weekly_score[y].hasOwnProperty(l))
                    for (var b in leagueHistory.weekly_score[y][l])
                        if (leagueHistory.weekly_score[y][l].hasOwnProperty(b)) {
                            (d = l.substr(0, 4)),
                                (c = l.substr(0, 4)),
                                (h =
                                    parseInt(
                                        parseFloat(leagueHistory.weekly_score[y][l][b]) * lh_precision_multiplier
                                    ) / lh_precision_multiplier);
                            r.hasOwnProperty(y + "_" + b + "_" + c) ||
                                ("1" !== localStorage["lh_zero_" + league_id] && 0 === h) ||
                                (t.hasOwnProperty(c) || (t[c] = []),
                                t[c].hasOwnProperty(y) ||
                                    (t[c][y] = { regular: 0, playoff: 0, regular_gp: 0, playoff_gp: 0 }),
                                parseInt(b) <= f
                                    ? ((t[c][y].regular += h), t[c][y].regular_gp++)
                                    : ((t[c][y].playoff += h), t[c][y].playoff_gp++),
                                a.hasOwnProperty(d) ||
                                    (a[d] = { regular: 0, playoff: 0, regular_gp: 0, playoff_gp: 0 }),
                                parseInt(b) <= f
                                    ? ((a[d].regular += h), a[d].regular_gp++)
                                    : ((a[d].playoff += h), a[d].playoff_gp++),
                                parseInt(b) <= f
                                    ? e.push({
                                          year: y,
                                          week: b,
                                          fidkey: d,
                                          fid: c,
                                          fid_opp: "BYE",
                                          score: h,
                                          regular: "1",
                                      })
                                    : e.push({
                                          year: y,
                                          week: b,
                                          fidkey: d,
                                          fid: c,
                                          fid_opp: "BYE",
                                          score: h,
                                          regular: "0",
                                      }));
                        }
        }
        var g = "";
        (g += '<div id="team_points_wrapper">'),
            (g += '<div id="myfantasyleague_tabs" class="hs_tabs_wrap">'),
            (g += '<div class="toggle_tabs">'),
            (g += '<table class="report">'),
            (g += "<tbody>"),
            (g += "<tr>"),
            (g += "<td>"),
            (g += '<div class="myfantasyleague_tabmenu">'),
            (g += '<span id="tab_title_11200">11200</span>'),
            (g += '<input id="sub11200" type="checkbox">'),
            (g += '<label for="sub11200"><span></span></label>'),
            (g += '<ul id="homepagetabs">'),
            (g +=
                '<li id="tab11200" onclick="javascript:show_custom_tab_history(\'11200\');"><a class="no-sub">All Seasons<input id="sub11200" type="checkbox"><label for="sub11200"></label></a></li>'),
            (g +=
                '<li id="tab11201" onclick="javascript:show_custom_tab_history(\'11201\');"><a class="no-sub">Single Season<input id="sub11200" type="checkbox"><label for="sub11200"></label></a></li>'),
            (g +=
                '<li id="tab11202" onclick="javascript:show_custom_tab_history(\'11202\');"><a class="no-sub">Single Week<input id="sub11200" type="checkbox"><label for="sub11200"></label></a></li>'),
            (g += "</ul>"),
            (g += "</div>"),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "</tbody>"),
            (g += "</table>"),
            (g += '<div class="tabs_scroll" style="position:relative">'),
            (g += '<div id="tabcontent11200" class="homepagetabcontent">'),
            (g += '<table style="width:100%;border:0;box-shadow:none;margin:0;padding:0">'),
            (g += "<tbody>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">');
        var v = [];
        for (var l in a)
            "BYE" !== l &&
                "BYE_defunct" !== l &&
                a.hasOwnProperty(l) &&
                v.push({ fid: l, year: "" + year, score: a[l].regular + a[l].playoff });
        v.sort(function (e, t) {
            return t.score - e.score;
        }),
            (g += create_html_team_points_table(v, "history_points_most_all", "Most Points Scored - All Seasons", 2)),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            v.sort(function (e, t) {
                return e.score - t.score;
            }),
            (g += create_html_team_points_table(
                v,
                "history_points_fewest_all",
                "Fewest Points Scored - All Season",
                2
            )),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">');
        v = [];
        for (var l in a)
            "BYE" !== l &&
                "BYE_defunct" !== l &&
                a.hasOwnProperty(l) &&
                v.push({ fid: l, year: "" + year, score: a[l].regular });
        v.sort(function (e, t) {
            return t.score - e.score;
        }),
            (g += create_html_team_points_table(
                v,
                "history_points_most_all_regular",
                "Most Pts All Seasons - Regular Season",
                2
            )),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            v.sort(function (e, t) {
                return e.score - t.score;
            }),
            (g += create_html_team_points_table(
                v,
                "history_points_fewest_all_regular",
                "Fewest Pts All Seasons - Regular Season",
                2
            )),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">');
        v = [];
        for (var l in a)
            "BYE" !== l &&
                "BYE_defunct" !== l &&
                a.hasOwnProperty(l) &&
                v.push({ fid: l, year: "" + year, score: a[l].playoff });
        v.sort(function (e, t) {
            return t.score - e.score;
        }),
            (g += create_html_team_points_table(
                v,
                "history_points_most_all_playoff",
                "Most Pts All Seasons - Playoff",
                2
            )),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            v.sort(function (e, t) {
                return e.score - t.score;
            }),
            (g += create_html_team_points_table(
                v,
                "history_points_fewest_all_playoff",
                "Fewest Pts All Seasons - Playoff",
                2
            )),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "</tbody>"),
            (g += "</table>"),
            (g += "</div>"),
            (g += '<div id="tabcontent11201" class="homepagetabcontent">'),
            (g += '<table style="width:100%;border:0;box-shadow:none;margin:0;padding:0">'),
            (g += "<tbody>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">');
        v = [];
        for (var l in t)
            if ("BYE" !== l && "BYE_defunct" !== l && t.hasOwnProperty(l))
                for (var o in t[l])
                    t[l].hasOwnProperty(o) &&
                        v.push({
                            fid: l,
                            year: o,
                            score: t[l][o].regular + t[l][o].playoff,
                            gp: t[l][o].regular_gp + t[l][o].playoff_gp,
                        });
        v.sort(function (e, t) {
            return t.score - e.score;
        }),
            (g += create_html_team_points_table(v, "season_points_most_all", "Most Points Scored - Season", 1)),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            v.sort(function (e, t) {
                return e.score - t.score;
            }),
            (g += create_html_team_points_table(v, "season_points_fewest_all", "Fewest Points Scored - Season", 1)),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">');
        v = [];
        for (var l in t)
            if ("BYE" !== l && "BYE_defunct" !== l && t.hasOwnProperty(l))
                for (var o in t[l])
                    t[l].hasOwnProperty(o) &&
                        v.push({ fid: l, year: o, score: t[l][o].regular, gp: t[l][o].regular_gp });
        v.sort(function (e, t) {
            return t.score - e.score;
        }),
            (g += create_html_team_points_table(
                v,
                "season_points_most_regular",
                "Most Pts Season - Regular Season",
                1
            )),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            v.sort(function (e, t) {
                return e.score - t.score;
            }),
            (g += create_html_team_points_table(
                v,
                "season_points_fewest_regular",
                "Fewest Pts Season - Regular Season",
                1
            )),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">');
        v = [];
        for (var l in t)
            if ("BYE" !== l && "BYE_defunct" !== l && t.hasOwnProperty(l))
                for (var o in t[l])
                    t[l].hasOwnProperty(o) &&
                        v.push({ fid: l, year: o, score: t[l][o].playoff, gp: t[l][o].playoff_gp });
        v.sort(function (e, t) {
            return t.score - e.score;
        }),
            (g += create_html_team_points_table(v, "season_points_most_playoff", "Most Pts Season - Playoff", 1)),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            v.sort(function (e, t) {
                return e.score - t.score;
            }),
            (g += create_html_team_points_table(v, "season_points_fewest_playoff", "Fewest Pts Season - Playoff", 1)),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "</tbody>"),
            (g += "</table>"),
            (g += "</div>"),
            (g += '<div id="tabcontent11202" class="homepagetabcontent">'),
            (g += '<table style="width:100%;border:0;box-shadow:none;margin:0;padding:0">'),
            (g += "<tbody>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">'),
            e.sort(function (e, t) {
                return t.score - e.score;
            }),
            (g += create_html_team_points_table(e, "week_points_most_all", "Most Pts Week - Any Week", 0)),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            e.sort(function (e, t) {
                return e.score - t.score;
            }),
            (g += create_html_team_points_table(e, "week_points_fewest_all", "Fewest Pts Week - Any Week", 0)),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">'),
            e.sort(function (e, t) {
                return e.regular > t.regular ? -1 : e.regular < t.regular ? 1 : t.score - e.score;
            }),
            (g += create_html_team_points_table(e, "week_points_most_regular", "Most Pts Week - Regular Season", 0)),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            e.sort(function (e, t) {
                return e.regular > t.regular ? -1 : e.regular < t.regular ? 1 : e.score - t.score;
            }),
            (g += create_html_team_points_table(e, "week_points_fewest_all", "Fewest Pts Week - Regular Season", 0)),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">'),
            e.sort(function (e, t) {
                return t.regular > e.regular ? -1 : t.regular < e.regular ? 1 : t.score - e.score;
            }),
            (g += create_html_team_points_table(e, "week_points_most_regular", "Most Pts Week - Playoffs", 0)),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            e.sort(function (e, t) {
                return t.regular > e.regular ? -1 : t.regular < e.regular ? 1 : e.score - t.score;
            }),
            (g += create_html_team_points_table(e, "week_points_fewest_all", "Fewest Pts Week - Playoffs", 0)),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "</tbody>"),
            (g += "</table>"),
            (g += "</div>"),
            (g += "</div>"),
            (g += "</div>"),
            (g += "</div>"),
            (g += "</div>");
        var w = 11200;
        jQuery("#tab11201").hasClass("currenttab") && (w = 11201),
            jQuery("#tab11202").hasClass("currenttab") && (w = 11202),
            jQuery("#team_points_content").html(g),
            show_custom_tab_history(w);
    }
    function create_html_misc_table(e, t, a, r) {
        var s = "";
        (s += '<div class="mobile-wrap lh-bottom-line">'),
            (s += '<table align="center" cellspacing="1" class="report" id="' + t + '">'),
            (s += '<caption style="display:table-caption"><span>' + a + "</span></caption>"),
            (s += "<tr>"),
            (s += '<th class="lh_rank" style="width:1.875rem;padding:0 0.188rem">Rank</th>'),
            r < 2 &&
                (s += '<th class="lh_franchise" style="text-align:left;padding:0 0.313rem;">Franchise Away/Home</th>'),
            2 === r && (s += '<th class="lh_franchise" style="text-align:left;padding:0 0.313rem;">Franchise</th>'),
            r < 2 && (s += '<th class="lh_points" style="text-align:center;width:4.375rem">Pts</th>'),
            (s += '<th class="lh_year" style="text-align:center;width:3.125rem">Year</th>'),
            r < 2 && (s += '<th class="lh_week" style="text-align:center;width:3.125rem">Week</th>'),
            2 === r && (s += '<th class="lh_week" style="text-align:center;width:3.125rem">Start Week</th>'),
            2 === r && (s += '<th class="lh_week" style="text-align:center;width:3.125rem">End Week</th>'),
            0 === r && (s += '<th class="lh_points" style="text-align:center;width:4.375rem">Combined</th>'),
            1 === r && (s += '<th class="lh_points" style="text-align:center;width:4.375rem">Difference</th>'),
            2 === r && (s += '<th class="lh_points" style="text-align:center;width:4.375rem">Streak</th>'),
            (s += "</tr>");
        for (var o = 1, l = lh_misc_to_rank, i = 0, n = 0, d = 0; d < e.length; d++) {
            if (2 === r) {
                if (void 0 === leagueHistory.league_history_detail[e[d].year].franchises[e[d].fid.substr(0, 4)]) {
                    l++, i++;
                    continue;
                }
            } else if (
                void 0 === leagueHistory.league_history_detail[e[d].year].franchises[e[d].home.substr(0, 4)] ||
                void 0 === leagueHistory.league_history_detail[e[d].year].franchises[e[d].away.substr(0, 4)]
            ) {
                l++, i++;
                continue;
            }
            var c = "";
            if (
                (2 === r
                    ? leagueHistory.reverse_lookup.hasOwnProperty(e[d].year + "_" + e[d].fid) &&
                      leagueHistory.reverse_lookup[e[d].year + "_" + e[d].fid] === lh_franchise_id &&
                      (c = " myfranchise")
                    : (leagueHistory.reverse_lookup.hasOwnProperty(e[d].year + "_" + e[d].away) &&
                          leagueHistory.reverse_lookup[e[d].year + "_" + e[d].away] === lh_franchise_id &&
                          (c = " myfranchise"),
                      leagueHistory.reverse_lookup.hasOwnProperty(e[d].year + "_" + e[d].home) &&
                          leagueHistory.reverse_lookup[e[d].year + "_" + e[d].home] === lh_franchise_id &&
                          (c = " myfranchise")),
                (s += n % 2 ? '<tr class="eventablerow' + c + '">' : '<tr class="oddtablerow' + c + '">'),
                (o =
                    d - i == 0
                        ? d - i + 1
                        : (0 === r && e[d].total === e[d - 1].total) ||
                            (1 === r && e[d].spread === e[d - 1].spread) ||
                            (2 === r && e[d].streak === e[d - 1].streak)
                          ? '<i class="fa-regular fa-minus" aria-hidden="true" style="font-size:0.625rem"></i>'
                          : d - i + 1),
                2 === r
                    ? ((s +=
                          '<td class="lh_rank" style="width:1.875rem;text-align:center;padding:0 0.188rem">' +
                          o +
                          "</td>"),
                      (s +=
                          '<td class="lh_franchise" style="text-align:left;padding:0 0.313rem">' +
                          getFranchiseName(e[d].year, e[d].fid.substr(0, 4), !1, !0) +
                          "</td>"),
                      (s += '<td class="lh_year" style="text-align:center;width:3.125rem">' + e[d].year + "</td>"),
                      (s +=
                          '<td class="lh_week" style="text-align:center;width:3.125rem">' + e[d].start_week + "</td>"),
                      (s += '<td class="lh_week" style="text-align:center;width:3.125rem">' + e[d].end_week + "</td>"),
                      (s += '<td class="lh_points" style="text-align:center;width:4.375rem">' + e[d].streak + "</td>"))
                    : ((s +=
                          '<td class="lh_rank" rowspan="2" style="width:1.875rem;text-align:center;padding:0 0.188rem">' +
                          o +
                          "</td>"),
                      (s +=
                          '<td class="lh_franchise" style="text-align:left;padding:0 0.313rem">' +
                          getFranchiseName(e[d].year, e[d].away.substr(0, 4), !1, !0) +
                          "</td>"),
                      (s +=
                          '<td class="lh_points" style="text-align:center;width:4.375rem"><a href="#get_score_details" onclick="getScoreDetails(\'' +
                          e[d].year +
                          "','" +
                          e[d].week +
                          "','" +
                          e[d].away +
                          "')\">" +
                          e[d].away_score.toFixed(lh_precision) +
                          "</a></td>"),
                      (s +=
                          '<td class="lh_year" rowspan="2" style="text-align:center;width:3.125rem">' +
                          e[d].year +
                          "</td>"),
                      (s +=
                          '<td class="lh_week" rowspan="2" style="text-align:center;width:3.125rem">' +
                          e[d].week +
                          "</td>"),
                      0 === r &&
                          (s +=
                              '<td class="lh_points" rowspan="2" style="text-align:center;width:4.375rem">' +
                              e[d].total.toFixed(lh_precision) +
                              "</td>"),
                      1 === r &&
                          (s +=
                              '<td class="lh_points" rowspan="2" style="text-align:center;width:4.375rem">' +
                              e[d].spread.toFixed(lh_precision) +
                              "</td>"),
                      (s += "</tr>"),
                      (s += n % 2 ? '<tr class="eventablerow' + c + '">' : '<tr class="oddtablerow' + c + '">'),
                      (s +=
                          '<td class="lh_franchise" style="text-align:left;padding:0 0.313rem">' +
                          getFranchiseName(e[d].year, e[d].home.substr(0, 4), !1, !0) +
                          "</td>"),
                      (s +=
                          '<td class="lh_points" style="text-align:center;width:4.375rem"><a href="#get_score_details" onclick="getScoreDetails(\'' +
                          e[d].year +
                          "','" +
                          e[d].week +
                          "','" +
                          e[d].home +
                          "')\">" +
                          e[d].home_score.toFixed(lh_precision) +
                          "</a></td>")),
                (s += "</tr>"),
                d === l - 1)
            )
                break;
            n++;
        }
        return (s += "</table>"), (s += "</div>");
    }
    function create_html_misc() {
        var e = [],
            t = [],
            a = [],
            r = !1,
            s = "",
            o = { season: [], regular: [], playoff: [] },
            l = [],
            i = [];
        for (var n in leagueHistory.series_record)
            if (leagueHistory.series_record.hasOwnProperty(n))
                for (var d in ((a = []), leagueHistory.series_record[n]))
                    if ("BYE" !== d && "BYE_defunct" !== d && leagueHistory.series_record[n].hasOwnProperty(d)) {
                        (r = !1), (s = "");
                        for (var c = 0; c < leagueHistory.series_record[n][d].length; c++) {
                            var p = leagueHistory.series_record[n][d][c].week;
                            d.substr(0, 4);
                            if (d.length > 4) var h = d.substr(0, 4);
                            else h = leagueHistory.fid_history_detail[d][n].fid;
                            var _ = leagueHistory.series_record[n][d][c].historic_opp,
                                m = leagueHistory.series_record[n][d][c].result,
                                y = parseInt(leagueHistory.series_record[n][d][c].regular);
                            if (
                                (1 === y && (i[n] = p),
                                void 0 === a[h] && (a[h] = { winning: 0, losing: 0, start_week: p, end_week: p }),
                                1 === y
                                    ? ("T" === m &&
                                          (e.push({
                                              streak: a[h].winning,
                                              fid: h,
                                              year: n,
                                              start_week: a[h].start_week,
                                              end_week: a[h].end_week,
                                          }),
                                          t.push({
                                              streak: a[h].losing,
                                              fid: h,
                                              year: n,
                                              start_week: a[h].start_week,
                                              end_week: a[h].end_week,
                                          }),
                                          (a[h].winning = 0),
                                          (a[h].losing = 0),
                                          (a[h].start_week = p),
                                          (a[h].end_week = p),
                                          (s = "T")),
                                      "W" === m &&
                                          (a[h].winning++,
                                          t.push({
                                              streak: a[h].losing,
                                              fid: h,
                                              year: n,
                                              start_week: a[h].start_week,
                                              end_week: a[h].end_week,
                                          }),
                                          (a[h].losing = 0),
                                          a[h].winning > 1 || (a[h].start_week = p),
                                          (a[h].end_week = p),
                                          (s = "W")),
                                      "L" === m &&
                                          (a[h].losing++,
                                          e.push({
                                              streak: a[h].winning,
                                              fid: h,
                                              year: n,
                                              start_week: a[h].start_week,
                                              end_week: a[h].end_week,
                                          }),
                                          (a[h].winning = 0),
                                          a[h].losing > 1 || (a[h].start_week = p),
                                          (a[h].end_week = p),
                                          (s = "L")))
                                    : (r ||
                                          ("W" === s &&
                                              e.push({
                                                  streak: a[h].winning,
                                                  fid: h,
                                                  year: n,
                                                  start_week: a[h].start_week,
                                                  end_week: a[h].end_week,
                                              }),
                                          "L" === s &&
                                              t.push({
                                                  streak: a[h].losing,
                                                  fid: h,
                                                  year: n,
                                                  start_week: a[h].start_week,
                                                  end_week: a[h].end_week,
                                              }),
                                          (a[h].winning = 0),
                                          (a[h].losing = 0)),
                                      (r = !0)),
                                void 0 === l[n + "_" + p + "_" + h + "_" + _])
                            ) {
                                var u =
                                        parseInt(
                                            parseFloat(leagueHistory.series_record[n][d][c].score) *
                                                lh_precision_multiplier
                                        ) / lh_precision_multiplier,
                                    f =
                                        parseInt(
                                            parseFloat(leagueHistory.series_record[n][d][c].opp_score) *
                                                lh_precision_multiplier
                                        ) / lh_precision_multiplier,
                                    b = parseInt(leagueHistory.series_record[n][d][c].is_home);
                                1 === b
                                    ? o.season.push({
                                          total: u + f,
                                          spread: Math.abs(u - f),
                                          year: n,
                                          week: p,
                                          home: h,
                                          away: _,
                                          home_score: u,
                                          away_score: f,
                                      })
                                    : o.season.push({
                                          total: u + f,
                                          spread: Math.abs(u - f),
                                          year: n,
                                          week: p,
                                          home: _,
                                          away: h,
                                          home_score: f,
                                          away_score: u,
                                      }),
                                    1 === y
                                        ? 1 === b
                                            ? o.regular.push({
                                                  total: u + f,
                                                  spread: Math.abs(u - f),
                                                  year: n,
                                                  week: p,
                                                  home: h,
                                                  away: _,
                                                  home_score: u,
                                                  away_score: f,
                                              })
                                            : o.regular.push({
                                                  total: u + f,
                                                  spread: Math.abs(u - f),
                                                  year: n,
                                                  week: p,
                                                  home: _,
                                                  away: h,
                                                  home_score: f,
                                                  away_score: u,
                                              })
                                        : 1 === b
                                          ? o.playoff.push({
                                                total: u + f,
                                                spread: Math.abs(u - f),
                                                year: n,
                                                week: p,
                                                home: h,
                                                away: _,
                                                home_score: u,
                                                away_score: f,
                                            })
                                          : o.playoff.push({
                                                total: u + f,
                                                spread: Math.abs(u - f),
                                                year: n,
                                                week: p,
                                                home: _,
                                                away: h,
                                                home_score: f,
                                                away_score: u,
                                            }),
                                    (l[n + "_" + p + "_" + h + "_" + _] = 1),
                                    (l[n + "_" + p + "_" + _ + "_" + h] = 1);
                            }
                        }
                    }
        var g = "";
        (g += '<div id="misc_wrapper">'),
            (g += '<div id="myfantasyleague_tabs" class="hs_tabs_wrap">'),
            (g += '<div class="toggle_tabs">'),
            (g += '<table class="report">'),
            (g += "<tbody>"),
            (g += "<tr>"),
            (g += "<td>"),
            (g += '<div class="myfantasyleague_tabmenu">'),
            (g += '<span id="tab_title_11300">11300</span>'),
            (g += '<input id="sub11300" type="checkbox">'),
            (g += '<label for="sub11300"><span></span></label>'),
            (g += '<ul id="homepagetabs">'),
            (g +=
                '<li id="tab11300" onclick="javascript:show_custom_tab_history(\'11300\');"><a class="no-sub">Combined Points<input id="sub11300" type="checkbox"><label for="sub11300"></label></a></li>'),
            (g +=
                '<li id="tab11301" onclick="javascript:show_custom_tab_history(\'11301\');"><a class="no-sub">Point Difference<input id="sub11300" type="checkbox"><label for="sub11300"></label></a></li>'),
            (g +=
                '<li id="tab11302" onclick="javascript:show_custom_tab_history(\'11302\');"><a class="no-sub">Streaks<input id="sub11300" type="checkbox"><label for="sub11300"></label></a></li>'),
            (g += "</ul>"),
            (g += "</div>"),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "</tbody>"),
            (g += "</table>"),
            (g += '<div class="tabs_scroll" style="position:relative">'),
            (g += '<div id="tabcontent11300" class="homepagetabcontent">'),
            (g += '<table style="width:100%;border:0;box-shadow:none;margin:0;padding:0">'),
            (g += "<tbody>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">'),
            o.season.sort(function (e, t) {
                return t.total - e.total;
            }),
            (g += create_html_misc_table(o.season, "combined_most_all", "Most Combined", 0)),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            o.season.sort(function (e, t) {
                return e.total - t.total;
            }),
            (g += create_html_misc_table(o.season, "combined_fewest_all", "Fewest Combined", 0)),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">'),
            o.regular.sort(function (e, t) {
                return t.total - e.total;
            }),
            (g += create_html_misc_table(o.regular, "combined_most_regular", "Most Combined - Regular Season", 0)),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            o.regular.sort(function (e, t) {
                return e.total - t.total;
            }),
            (g += create_html_misc_table(o.regular, "combined_fewest_regular", "Fewest Combined - Regular Season", 0)),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">'),
            o.playoff.sort(function (e, t) {
                return t.total - e.total;
            }),
            (g += create_html_misc_table(o.playoff, "combined_most_playoff", "Most Combined - Playoff", 0)),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            o.playoff.sort(function (e, t) {
                return e.total - t.total;
            }),
            (g += create_html_misc_table(o.playoff, "combined_fewest_playoff", "Fewest Combined - Playoff", 0)),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "</tbody>"),
            (g += "</table>"),
            (g += "</div>"),
            (g += '<div id="tabcontent11301" class="homepagetabcontent">'),
            (g += '<table style="width:100%;border:0;box-shadow:none;margin:0;padding:0">'),
            (g += "<tbody>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">'),
            o.season.sort(function (e, t) {
                return t.spread - e.spread;
            }),
            (g += create_html_misc_table(o.season, "difference_largest_all", "Largest Difference", 1)),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            o.season.sort(function (e, t) {
                return e.spread - t.spread;
            }),
            (g += create_html_misc_table(o.season, "difference_smallest_all", "Smallest Difference", 1)),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">'),
            o.regular.sort(function (e, t) {
                return t.spread - e.spread;
            }),
            (g += create_html_misc_table(
                o.regular,
                "difference_largest_regular",
                "Largest Difference - Regular Season",
                1
            )),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            o.regular.sort(function (e, t) {
                return e.spread - t.spread;
            }),
            (g += create_html_misc_table(
                o.regular,
                "difference_smallest_regular",
                "Smallest Difference - Regular Season",
                1
            )),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">'),
            o.playoff.sort(function (e, t) {
                return t.spread - e.spread;
            }),
            (g += create_html_misc_table(o.playoff, "difference_largest_playoff", "Largest Difference - Playoff", 1)),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            o.playoff.sort(function (e, t) {
                return e.spread - t.spread;
            }),
            (g += create_html_misc_table(o.playoff, "difference_smallest_playoff", "Smallest Difference - Playoff", 1)),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "</tbody>"),
            (g += "</table>"),
            (g += "</div>"),
            (g += '<div id="tabcontent11302" class="homepagetabcontent">'),
            (g += '<table style="width:100%;border:0;box-shadow:none;margin:0;padding:0">'),
            (g += "<tbody>"),
            (g += "<tr>"),
            (g += '<td class="mobile-view" width="50%">'),
            e.sort(function (e, t) {
                return t.streak - e.streak;
            }),
            (g += create_html_misc_table(e, "longest_win_streak_regular", "Longest Winning - Regular Season", 2)),
            (g += "</td>"),
            (g += '<td class="mobile-view" width="50%">'),
            t.sort(function (e, t) {
                return t.streak - e.streak;
            }),
            (g += create_html_misc_table(t, "longest_lose_streak_regular", "Longest Losing - Regular Season", 2)),
            (g += "</td>"),
            (g += "</tr>"),
            (g += "</tbody>"),
            (g += "</table>"),
            (g += "</div>"),
            (g += "</div>"),
            (g += "</div>"),
            (g += "</div>"),
            (g += "</div>");
        var v = 11300;
        jQuery("#tab11301").hasClass("currenttab") && (v = 11301),
            jQuery("#tab11302").hasClass("currenttab") && (v = 11302),
            jQuery("#misc_content").html(g),
            show_custom_tab_history(v);
    }
    function getPlayerPosition(e, t) {
        try {
            return playerHistory[t]["pid_" + e].position;
        } catch (e) {
            return "?";
        }
    }
    function getPlayerName(e, t, a, r) {
        var s = "";
        if (void 0 !== a)
            try {
                for (var o = 0; o < playerHistoryLeague[t].pid["pid_" + e]["wk_" + a].fid.length; o++)
                    if (playerHistoryLeague[t].pid["pid_" + e]["wk_" + a].fid[o].fid === r)
                        switch (playerHistoryLeague[t].pid["pid_" + e]["wk_" + a].fid[o].rstr) {
                            case "R":
                            default:
                                s = "";
                                break;
                            case "T":
                                s = ' <span class="warning playerHistory_taxi" title="Taxi Squad">TS</span>';
                                break;
                            case "I":
                                s = ' <span class="warning playerHistory_ir" title="Injured Reserve">IR</span>';
                        }
            } catch (e) {}
        try {
            return (
                playerHistory[t]["pid_" + e].name +
                " " +
                playerHistory[t]["pid_" + e].team +
                " " +
                playerHistory[t]["pid_" + e].position +
                s
            );
        } catch (a) {
            return t + "_" + e;
        }
    }
    function getPlayerSeasonDetails(e, t) {
        for (
            var a = [],
                r = parseInt(leagueHistory.league_history_detail["" + year].precision),
                s = 0,
                o = 0,
                l = 0,
                i = 0,
                n = 0,
                d = 0,
                c = 0;
            c < lh_playerScore_ar.length;
            c++
        )
            lh_playerScore_ar[c].pid === t &&
                lh_playerScore_ar[c].year === e &&
                a.push({
                    score: lh_playerScore_ar[c].score,
                    fid: lh_playerScore_ar[c].fid,
                    week: parseInt(lh_playerScore_ar[c].week),
                    regular: lh_playerScore_ar[c].regular,
                    status: lh_playerScore_ar[c].status,
                });
        a.sort(function (e, t) {
            return e.week - t.week;
        });
        var p = "",
            h = !1;
        (p += '<table align="center" cellspacing="1" class="report">'),
            (p +=
                '<tr class="oddtablerow lh-regular-header" style="font-weight:bold;font-size:0.938rem"><td colspan="4">Fantasy Regular Season</td></tr>'),
            (p +=
                '<tr><th style="width:3.125rem;text-align:center">Week</th><th style="text-align:left">Franchise</th><th style="text-align:center">Status</th><th style="width:3.125rem;text-align:center">Pts</th></tr>'),
            (p += "<tbody>");
        var _ = 0,
            m = 1;
        for (c = 0; c < a.length; c++)
            if (
                (h ||
                    "0" !== a[c].regular ||
                    ((p +=
                        '<tr class="player-total-row player-total-row-total"><th colspan="3" style="text-align:right">Regular Season Total: </th><th style="text-align:center">' +
                        (s + o + l).toFixed(r) +
                        "</th></tr>"),
                    (p +=
                        '<tr class="player-total-row player-total-row-starter"><th colspan="3" style="text-align:right;font-size:0.75rem">as Starter: </th><th style="text-align:center;font-size:0.75rem">' +
                        s.toFixed(r) +
                        "</th></tr>"),
                    (p +=
                        '<tr class="player-total-row player-total-row-non-starter"><th colspan="3" style="text-align:right;font-size:0.75rem">as Non-Starter: </th><th style="text-align:center;;font-size:0.75rem">' +
                        o.toFixed(r) +
                        "</th></tr>"),
                    (p +=
                        '<tr class="player-total-row player-total-row-non-roster"><th colspan="3" style="text-align:right;font-size:0.75rem">as Non-Roster: </th><th style="text-align:center;;font-size:0.75rem">' +
                        l.toFixed(r) +
                        "</th></tr>"),
                    (p +=
                        '<tr class="oddtablerow lh-playoff-header" style="font-weight:bold;font-size:0.938rem"><td colspan="4">Fantasy Playoffs</td></tr>'),
                    (p +=
                        '<tr><th style="width:3.125rem;text-align:center">Week</th><th style="text-align:left">Franchise</th><th style="text-align:center">Status</th><th style="width:3.125rem;text-align:center">Pts</th></tr>'),
                    (h = !0)),
                !(a[c].week < m))
            ) {
                if (a[c].week > m) {
                    for (j = 0; j < a[c].week - m; j++)
                        (p += _ % 2 ? '<tr class="eventablerow">' : '<tr class="oddtablerow">'),
                            (p += '<td style="text-align:center">' + (m + j) + "</td>"),
                            (p += '<td class="lh_dnp" style="text-align:left;font-style:italic">- DNP -</td>'),
                            (p += '<td style="text-align:center">-</td>'),
                            (p += '<td style="text-align:center">-</td>'),
                            (p += "</tr>"),
                            _++;
                    m = a[c].week;
                }
                (p += _ % 2 ? '<tr class="eventablerow">' : '<tr class="oddtablerow">'),
                    (p += '<td style="text-align:center">' + a[c].week + "</td>"),
                    "FA" === a[c].fid
                        ? ((p += '<td style="text-align:left;font-style:italic">- FA -</td>'),
                          (p += '<td style="text-align:center">-</td>'),
                          h ? (d += parseFloat(a[c].score)) : (l += parseFloat(a[c].score)))
                        : ((p += '<td style="text-align:left">' + getFranchiseName(e, a[c].fid, !1, !0) + "</td>"),
                          (p += '<td style="text-align:center">' + a[c].status + "</td>"),
                          "S" === a[c].status
                              ? h
                                  ? (i += parseFloat(a[c].score))
                                  : (s += parseFloat(a[c].score))
                              : h
                                ? (n += parseFloat(a[c].score))
                                : (o += parseFloat(a[c].score))),
                    (p +=
                        '<td style="text-align:center"><a href="#get_player_score_details" onclick="getPlayerScoreDetails(\'' +
                        e +
                        "','" +
                        a[c].week +
                        "','" +
                        t +
                        "')\">" +
                        parseFloat(a[c].score).toFixed(r) +
                        "</a></td>"),
                    (p += "</tr>"),
                    _++,
                    m++;
            }
        (p +=
            '<tr class="player-total-row player-total-row-total"><th colspan="3" style="text-align:right">Playoff Total: </th><th style="text-align:center">' +
            (i + n + d).toFixed(r) +
            "</th></tr>"),
            (p +=
                '<tr class="player-total-row player-total-row-starter"><th colspan="3" style="text-align:right;font-size:0.75rem">as Starter: </th><th style="text-align:center;font-size:0.75rem">' +
                i.toFixed(r) +
                "</th></tr>"),
            (p +=
                '<tr class="player-total-row player-total-row-non-starter"><th colspan="3" style="text-align:right;font-size:0.75rem">as Non-Starter: </th><th style="text-align:center;font-size:0.75rem">' +
                n.toFixed(r) +
                "</th></tr>"),
            (p +=
                '<tr class="player-total-row player-total-row-non-roster"><th colspan="3" style="text-align:right;font-size:0.75rem">as Non-Roster: </th><th style="text-align:center;font-size:0.75rem">' +
                d.toFixed(r) +
                "</th></tr>"),
            (p += "</tbody>"),
            (p += "</table><br>"),
            jQuery("#ls-modal-3-header-content").html(
                '<table align="center" cellspacing="1" class="report"><caption><span>' +
                    getPlayerName(t, e) +
                    '</span></caption></table><span style="padding-left:1.25rem">Weekly Pts: ' +
                    e +
                    "</span>"
            ),
            jQuery("#ls-modal-3-content").html(p),
            jQuery("#ls-modal-3-content").scrollTop(0);
    }
    function getPlayerCareerDetails(e) {
        var t = [],
            a = 0,
            r = 0,
            s = 0,
            o = 0,
            l = parseInt(leagueHistory.league_history_detail["" + year].precision),
            i = "";
        for (var n in lh_playerScoreSeason_ar)
            lh_playerScoreSeason_ar.hasOwnProperty(n) &&
                lh_playerScoreSeason_ar[n].hasOwnProperty("pid_" + e) &&
                ((i = n),
                t.push({
                    year: parseInt(n),
                    pt: lh_playerScoreSeason_ar[n]["pid_" + e].pt,
                    gp: lh_playerScoreSeason_ar[n]["pid_" + e].gp,
                    s: lh_playerScoreSeason_ar[n]["pid_" + e].pt_s,
                    ns: lh_playerScoreSeason_ar[n]["pid_" + e].pt_ns,
                    nr: lh_playerScoreSeason_ar[n]["pid_" + e].pt_nr,
                }));
        t.sort(function (e, t) {
            return e.year - t.year;
        });
        var d = "";
        (d += '<table align="center" cellspacing="1" class="report">'),
            (d +=
                "<tr><th>Year</th><th>GP</th><th>Starter</th><th>Non-Starter</th><th>Non-Roster</th><th>Total</th></tr>"),
            (d += "<tbody>");
        for (var c = 0, p = 0; p < t.length; p++)
            (d += c % 2 ? '<tr class="eventablerow">' : '<tr class="oddtablerow">'),
                (d += '<td style="text-align:center">' + t[p].year + "</td>"),
                (d += '<td style="text-align:center">' + t[p].gp + "</td>"),
                (d += '<td style="text-align:center">' + t[p].s.toFixed(l) + "</td>"),
                (d += '<td style="text-align:center">' + t[p].ns.toFixed(l) + "</td>"),
                (d += '<td style="text-align:center">' + t[p].nr.toFixed(l) + "</td>"),
                (d +=
                    '<td style="text-align:center"><a href="#get_player_season_details" onclick="getPlayerSeasonDetails(\'' +
                    t[p].year +
                    "','" +
                    e +
                    "')\">" +
                    t[p].pt.toFixed(l) +
                    "</td>"),
                (d += "</tr>"),
                (a += t[p].s),
                (r += t[p].ns),
                (s += t[p].nr),
                (o += t[p].gp),
                c++;
        (d += "<tr>"),
            (d += "<th>Total</td>"),
            (d += "<th>" + o + "</td>"),
            (d += "<th>" + a.toFixed(l) + "</td>"),
            (d += "<th>" + r.toFixed(l) + "</td>"),
            (d += "<th>" + s.toFixed(l) + "</td>"),
            (d += "<th>" + (a + r + s).toFixed(l) + "</td>"),
            (d += "</tr>"),
            (d += "</tbody>"),
            (d += "</table><br>"),
            jQuery("#ls-modal-2-header-content").html(
                '<table align="center" cellspacing="1" class="report"><caption><span>' +
                    getPlayerName(e, i) +
                    '</span></caption></table><span style="padding-left:1.25rem">Points by Season</span>'
            ),
            jQuery("#ls-modal-2-content").html(d),
            jQuery("#ls-modal-2-content").scrollTop(0);
    }
    function create_html_players_table(e, t, a, r) {
        var s = "";
        (s += '<div class="mobile-wrap lh-bottom-line">'),
            (s += '<table align="center" cellspacing="1" class="report" id="' + t + '">'),
            (s += '<caption style="display:table-caption"><span>' + a + "</span></caption>"),
            (s += "<tr>"),
            (s += '<th class="lh_rank" style="width:1.875rem;padding:0 0.188rem">Rank</th>'),
            (s += '<th class="lh_franchise" style="text-align:left;padding:0 0.313rem;">Player</th>'),
            r < 4 && (s += '<th class="lh_abbrev" style="text-align:center;padding:0 0.313rem;">MFL</th>'),
            r < 5
                ? (s += '<th class="lh_year" style="text-align:center;width:3.125rem">Year</th>')
                : ((s += '<th class="lh_year" style="text-align:center;width:3.125rem">Start</th>'),
                  (s += '<th class="lh_year" style="text-align:center;width:3.125rem">End</th>')),
            (s +=
                r < 4
                    ? '<th class="lh_week" style="text-align:center;width:3.125rem">Week</th>'
                    : '<th class="lh_gp" style="text-align:center;width:3.125rem">GP</th>'),
            (s += '<th class="lh_points" style="text-align:center;width:4.375rem">Pts</th>'),
            (s += "</tr>");
        for (
            var o = parseInt(leagueHistory.league_history_detail["" + year].precision),
                l = lh_players_to_rank,
                i = 0,
                n = 0,
                d = 0;
            d < e.length;
            d++
        )
            if (1 !== r || "S" === e[d].status)
                if (2 !== r || ("S" !== e[d].status && "FA" !== e[d].fid))
                    if (3 !== r || "FA" === e[d].fid)
                        if (
                            "All" === lh_global_position ||
                            lh_global_position === getPlayerPosition(e[d].pid, e[d].year)
                        )
                            if (
                                r < 4 &&
                                "All" !== lh_player_season &&
                                (("Regular" === lh_player_season && "0" === e[d].regular) ||
                                    ("Playoff" === lh_player_season && "1" === e[d].regular))
                            )
                                l++, i++;
                            else {
                                var c = "";
                                if (
                                    (r < 4 &&
                                        leagueHistory.reverse_lookup.hasOwnProperty(e[d].year + "_" + e[d].fid) &&
                                        leagueHistory.reverse_lookup[e[d].year + "_" + e[d].fid] === lh_franchise_id &&
                                        (c = " myfranchise"),
                                    (s +=
                                        n % 2
                                            ? '<tr class="eventablerow' + c + '">'
                                            : '<tr class="oddtablerow' + c + '">'),
                                    (s +=
                                        '<td class="lh_rank" style="width:1.875rem;text-align:center;padding:0 0.188rem">' +
                                        (d - i == 0
                                            ? d - i + 1
                                            : e[d].score === e[d - (1 + i)].score
                                              ? '<i class="fa-regular fa-minus" aria-hidden="true" style="font-size:0.625rem"></i>'
                                              : d - i + 1) +
                                        "</td>"),
                                    (s +=
                                        '<td class="lh_franchise" style="text-align:left;padding:0 0.313rem">' +
                                        getPlayerName(e[d].pid, e[d].year, e[d].week, e[d].fid) +
                                        "</td>"),
                                    r < 4 &&
                                        (s +=
                                            '<td class="lh_abbrev" style="text-align:center;padding:0 0.313rem">' +
                                            getFranchiseAbbrev(e[d].year, e[d].fid, !1, !0, e[d].week) +
                                            "</td>"),
                                    r < 5
                                        ? (s +=
                                              '<td class="lh_year" style="text-align:center;width:3.125rem">' +
                                              e[d].year +
                                              "</td>")
                                        : ((s +=
                                              '<td class="lh_year" style="text-align:center;width:3.125rem">' +
                                              e[d].start_year +
                                              "</td>"),
                                          parseInt(e[d].year) === year
                                              ? (s +=
                                                    '<td class="lh_year" style="text-align:center;width:3.125rem">-</td>')
                                              : (s +=
                                                    '<td class="lh_year" style="text-align:center;width:3.125rem">' +
                                                    e[d].year +
                                                    "</td>")),
                                    (s +=
                                        r < 4
                                            ? '<td class="lh_week" style="text-align:center;width:3.125rem">' +
                                              e[d].week +
                                              "</td>"
                                            : '<td class="lh_week" style="text-align:center;width:3.125rem">' +
                                              e[d].gp +
                                              "</td>"),
                                    r < 4
                                        ? (s +=
                                              '<td class="lh_points" style="text-align:center;width:4.375rem"><a href="#get_player_score_details" onclick="getPlayerScoreDetails(\'' +
                                              e[d].year +
                                              "','" +
                                              e[d].week +
                                              "','" +
                                              e[d].pid +
                                              "')\">" +
                                              e[d].score.toFixed(o) +
                                              "</a></td>")
                                        : 4 === r
                                          ? (s +=
                                                '<td class="lh_points" style="text-align:center;width:4.375rem"><a href="#get_player_season_details" onclick="getPlayerSeasonDetails(\'' +
                                                e[d].year +
                                                "','" +
                                                e[d].pid +
                                                "')\">" +
                                                e[d].score.toFixed(o) +
                                                "</a></td>")
                                          : 5 === r &&
                                            (s +=
                                                '<td class="lh_points" style="text-align:center;width:4.375rem"><a href="#get_player_career_details" onclick="getPlayerCareerDetails(\'' +
                                                e[d].pid +
                                                "')\">" +
                                                e[d].score.toFixed(o) +
                                                "</td>"),
                                    (s += "</tr>"),
                                    d === l - 1)
                                )
                                    break;
                                n++;
                            }
                        else l++, i++;
                    else l++, i++;
                else l++, i++;
            else l++, i++;
        return (s += "</table>"), (s += "</div>");
    }
    function create_html_players() {
        for (var e in ((lh_playerScore_ar = []),
        (lh_playerScoreSeason_ar = []),
        (lh_playerScoreCareer_ar = []),
        playerHistoryLeague))
            if (playerHistoryLeague.hasOwnProperty(e))
                for (var t in playerHistoryLeague[e].pid)
                    if (playerHistoryLeague[e].pid.hasOwnProperty(t) && "pid_" !== t)
                        for (var a in (lh_playerScoreSeason_ar.hasOwnProperty(e) || (lh_playerScoreSeason_ar[e] = []),
                        lh_playerScoreSeason_ar[e].hasOwnProperty(t) ||
                            (lh_playerScoreSeason_ar[e][t] = {
                                pt: 0,
                                gp: 0,
                                pt_s: 0,
                                gp_s: 0,
                                pt_ns: 0,
                                gp_ns: 0,
                                pt_nr: 0,
                                gp_nr: 0,
                                year: e,
                            }),
                        lh_playerScoreCareer_ar.hasOwnProperty(t) ||
                            (lh_playerScoreCareer_ar[t] = {
                                pt: 0,
                                gp: 0,
                                pt_s: 0,
                                gp_s: 0,
                                pt_ns: 0,
                                gp_ns: 0,
                                pt_nr: 0,
                                gp_nr: 0,
                                year: e,
                                start_year: e,
                            }),
                        playerHistoryLeague[e].pid[t]))
                            if (
                                playerHistoryLeague[e].pid[t].hasOwnProperty(a) &&
                                null !== playerHistoryLeague[e].pid[t][a].score
                            ) {
                                var r = parseFloat(playerHistoryLeague[e].pid[t][a].score),
                                    s = t.substring(4, t.length),
                                    o = a.substring(3, a.length),
                                    l = playerHistoryLeague[e].regular[a];
                                try {
                                    l =
                                        parseInt(a.substr(3, 2)) <=
                                        parseInt(leagueHistory.league_history_detail[e].last_week)
                                            ? "1"
                                            : "0";
                                } catch (e) {}
                                for (var i = 0; i < playerHistoryLeague[e].pid[t][a].fid.length; i++) {
                                    var n = playerHistoryLeague[e].pid[t][a].fid[i].fid,
                                        d = playerHistoryLeague[e].pid[t][a].fid[i].sts;
                                    lh_playerScore_ar.push({
                                        score: r,
                                        pid: s,
                                        year: e,
                                        week: o,
                                        regular: l,
                                        fid: n,
                                        status: d,
                                    }),
                                        0 === i &&
                                            ("All" === lh_player_season ||
                                                ("Regular" === lh_player_season && "1" === l) ||
                                                ("Playoff" === lh_player_season && "0" === l)) &&
                                            ((lh_playerScoreSeason_ar[e][t].pt += r),
                                            lh_playerScoreSeason_ar[e][t].gp++,
                                            (lh_playerScoreSeason_ar[e][t].year = e),
                                            (lh_playerScoreCareer_ar[t].pt += r),
                                            lh_playerScoreCareer_ar[t].gp++,
                                            (lh_playerScoreCareer_ar[t].year = e),
                                            "FA" === n
                                                ? ((lh_playerScoreSeason_ar[e][t].pt_nr += r),
                                                  lh_playerScoreSeason_ar[e][t].gp_nr++,
                                                  (lh_playerScoreCareer_ar[t].pt_nr += r),
                                                  lh_playerScoreCareer_ar[t].gp_nr++)
                                                : "S" === d
                                                  ? ((lh_playerScoreSeason_ar[e][t].pt_s += r),
                                                    lh_playerScoreSeason_ar[e][t].gp_s++,
                                                    (lh_playerScoreCareer_ar[t].pt_s += r),
                                                    lh_playerScoreCareer_ar[t].gp_s++)
                                                  : ((lh_playerScoreSeason_ar[e][t].pt_ns += r),
                                                    lh_playerScoreSeason_ar[e][t].gp_ns++,
                                                    (lh_playerScoreCareer_ar[t].pt_ns += r),
                                                    lh_playerScoreCareer_ar[t].gp_ns++));
                                }
                            }
        var c = "";
        (c += '<div id="players_wrapper">'),
            (c += '<div id="myfantasyleague_tabs" class="hs_tabs_wrap">'),
            (c += '<div class="toggle_tabs">'),
            (c += '<table class="report">'),
            (c += "<tbody>"),
            (c += "<tr>"),
            (c += "<td>"),
            (c += '<div class="myfantasyleague_tabmenu">'),
            (c += '<span id="tab_title_11400">11400</span>'),
            (c += '<input id="sub11400" type="checkbox">'),
            (c += '<label for="sub11400"><span></span></label>'),
            (c += '<ul id="homepagetabs">'),
            (c +=
                '<li id="tab11400" onclick="javascript:show_custom_tab_history(\'11400\');"><a class="no-sub">Single Week<input id="sub11400" type="checkbox"><label for="sub11400"></label></a></li>'),
            (c +=
                '<li id="tab11401" onclick="javascript:show_custom_tab_history(\'11401\');"><a class="no-sub">Single Season<input id="sub11400" type="checkbox"><label for="sub11400"></label></a></li>'),
            (c +=
                '<li id="tab11402" onclick="javascript:show_custom_tab_history(\'11402\');"><a class="no-sub">Career<input id="sub11400" type="checkbox"><label for="sub11400"></label></a></li>'),
            (c += "</ul>"),
            (c += "</div>"),
            "" !== lh_first_player_season &&
                (c +=
                    '<div class="note-first-player-season" style="font-style:italic;font-size:0.688rem">Note: Player Stats go back to the ' +
                    lh_first_player_season +
                    " season.</div>"),
            (c += "</td>"),
            (c += "</tr>"),
            (c += "</tbody>"),
            (c += "</table>"),
            (c += '<div class="tabs_scroll" style="position:relative">'),
            (c += '<div id="tabcontent11400" class="homepagetabcontent">'),
            (c += '<table style="width:100%;border:0;box-shadow:none;margin:0;padding:0">'),
            (c += "<tbody>"),
            (c += "<tr>"),
            (c += '<td class="mobile-view" width="50%">'),
            lh_playerScore_ar.sort(function (e, t) {
                return t.score - e.score;
            }),
            (c += create_html_players_table(
                lh_playerScore_ar,
                "player_week_any_position_any_status",
                "Most Points - Any Status",
                0
            )),
            (c += "</td>"),
            (c += '<td class="mobile-view" width="50%">'),
            (c += create_html_players_table(
                lh_playerScore_ar,
                "player_week_any_position_starter",
                "Most Points - Starter",
                1
            )),
            (c += "</td>"),
            (c += "</tr>"),
            (c += "<tr>"),
            (c += '<td class="mobile-view" width="50%">'),
            (c += create_html_players_table(
                lh_playerScore_ar,
                "player_week_any_position_nonstarter",
                "Most Points - Non-Starter",
                2
            )),
            (c += "</td>"),
            (c += '<td class="mobile-view" width="50%">'),
            (c += create_html_players_table(
                lh_playerScore_ar,
                "player_week_any_position_nonroster",
                "Most Points - Non-Roster",
                3
            )),
            (c += "</td>"),
            (c += "</tr>"),
            (c += "</tbody>"),
            (c += "</table>"),
            (c += "</div>"),
            (c += '<div id="tabcontent11401" class="homepagetabcontent">'),
            (c += '<table style="width:100%;border:0;box-shadow:none;margin:0;padding:0">'),
            (c += "<tbody>"),
            (c += "<tr>"),
            (c += '<td class="mobile-view" width="50%">');
        var p = [];
        for (var e in ((p.all = []), (p.s = []), (p.ns = []), (p.nr = []), lh_playerScoreSeason_ar))
            if (lh_playerScoreSeason_ar.hasOwnProperty(e))
                for (var t in lh_playerScoreSeason_ar[e])
                    lh_playerScoreSeason_ar[e].hasOwnProperty(t) &&
                        (p.all.push({
                            score: lh_playerScoreSeason_ar[e][t].pt,
                            gp: lh_playerScoreSeason_ar[e][t].gp,
                            pid: t.substring(4, t.length),
                            year: lh_playerScoreSeason_ar[e][t].year,
                        }),
                        p.s.push({
                            score: lh_playerScoreSeason_ar[e][t].pt_s,
                            gp: lh_playerScoreSeason_ar[e][t].gp_s,
                            pid: t.substring(4, t.length),
                            year: lh_playerScoreSeason_ar[e][t].year,
                        }),
                        p.ns.push({
                            score: lh_playerScoreSeason_ar[e][t].pt_ns,
                            gp: lh_playerScoreSeason_ar[e][t].gp_ns,
                            pid: t.substring(4, t.length),
                            year: lh_playerScoreSeason_ar[e][t].year,
                        }),
                        p.nr.push({
                            score: lh_playerScoreSeason_ar[e][t].pt_nr,
                            gp: lh_playerScoreSeason_ar[e][t].gp_nr,
                            pid: t.substring(4, t.length),
                            year: lh_playerScoreSeason_ar[e][t].year,
                        }));
        p.all.sort(function (e, t) {
            return t.score - e.score;
        }),
            (c += create_html_players_table(
                p.all,
                "player_season_any_position_any_status",
                "Most Points - Any Status",
                4
            )),
            (c += "</td>"),
            (c += '<td class="mobile-view" width="50%">'),
            p.s.sort(function (e, t) {
                return t.score - e.score;
            }),
            (c += create_html_players_table(p.s, "player_season_any_position_starter", "Most Points - Starter", 4)),
            (c += "</td>"),
            (c += "</tr>"),
            (c += "<tr>"),
            (c += '<td class="mobile-view" width="50%">'),
            p.ns.sort(function (e, t) {
                return t.score - e.score;
            }),
            (c += create_html_players_table(
                p.ns,
                "player_season_any_position_nonstarter",
                "Most Points - Non-Starter",
                4
            )),
            (c += "</td>"),
            (c += '<td class="mobile-view" width="50%">'),
            p.nr.sort(function (e, t) {
                return t.score - e.score;
            }),
            (c += create_html_players_table(
                p.nr,
                "player_season_any_position_nonroster",
                "Most Points - Non-Roster",
                4
            )),
            (c += "</td>"),
            (c += "</tr>"),
            (c += "</tbody>"),
            (c += "</table>"),
            (c += "</div>"),
            (c += '<div id="tabcontent11402" class="homepagetabcontent">'),
            (c += '<table style="width:100%;border:0;box-shadow:none;margin:0;padding:0">'),
            (c += "<tbody>"),
            (c += "<tr>"),
            (c += '<td class="mobile-view" width="50%">');
        p = [];
        for (var t in ((p.all = []), (p.s = []), (p.ns = []), (p.nr = []), lh_playerScoreCareer_ar))
            lh_playerScoreCareer_ar.hasOwnProperty(t) &&
                (p.all.push({
                    score: lh_playerScoreCareer_ar[t].pt,
                    gp: lh_playerScoreCareer_ar[t].gp,
                    pid: t.substring(4, t.length),
                    year: lh_playerScoreCareer_ar[t].year,
                    start_year: lh_playerScoreCareer_ar[t].start_year,
                }),
                p.s.push({
                    score: lh_playerScoreCareer_ar[t].pt_s,
                    gp: lh_playerScoreCareer_ar[t].gp_s,
                    pid: t.substring(4, t.length),
                    year: lh_playerScoreCareer_ar[t].year,
                    start_year: lh_playerScoreCareer_ar[t].start_year,
                }),
                p.ns.push({
                    score: lh_playerScoreCareer_ar[t].pt_ns,
                    gp: lh_playerScoreCareer_ar[t].gp_ns,
                    pid: t.substring(4, t.length),
                    year: lh_playerScoreCareer_ar[t].year,
                    start_year: lh_playerScoreCareer_ar[t].start_year,
                }),
                p.nr.push({
                    score: lh_playerScoreCareer_ar[t].pt_nr,
                    gp: lh_playerScoreCareer_ar[t].gp_nr,
                    pid: t.substring(4, t.length),
                    year: lh_playerScoreCareer_ar[t].year,
                    start_year: lh_playerScoreCareer_ar[t].start_year,
                }));
        p.all.sort(function (e, t) {
            return t.score - e.score;
        }),
            (c += create_html_players_table(
                p.all,
                "player_career_any_position_any_status",
                "Most Points - Any Status",
                5
            )),
            (c += "</td>"),
            (c += '<td class="mobile-view" width="50%">'),
            p.s.sort(function (e, t) {
                return t.score - e.score;
            }),
            (c += create_html_players_table(p.s, "player_career_any_position_starter", "Most Points - Starter", 5)),
            (c += "</td>"),
            (c += "</tr>"),
            (c += "<tr>"),
            (c += '<td class="mobile-view" width="50%">'),
            p.ns.sort(function (e, t) {
                return t.score - e.score;
            }),
            (c += create_html_players_table(
                p.ns,
                "player_career_any_position_nonstarter",
                "Most Points - Non-Starter",
                5
            )),
            (c += "</td>"),
            (c += '<td class="mobile-view" width="50%">'),
            p.nr.sort(function (e, t) {
                return t.score - e.score;
            }),
            (c += create_html_players_table(
                p.nr,
                "player_career_any_position_nonroster",
                "Most Points - Non-Roster",
                5
            )),
            (c += "</td>"),
            (c += "</tr>"),
            (c += "</tbody>"),
            (c += "</table>"),
            (c += "</div>"),
            (c += "</div>"),
            (c += "</div>"),
            (c += "</div>"),
            (c += "</div>");
        var h = 11400;
        jQuery("#tab11401").hasClass("currenttab") && (h = 11401),
            jQuery("#tab11402").hasClass("currenttab") && (h = 11402),
            jQuery("#player_content").html(c),
            show_custom_tab_history(h);
    }
    var lh_append_league_files,
        lh_interval_count = 0;
    function leagueHistoryWait() {
        lh_interval_count++;
        var e = !0;
        if (
            ("undefined" == typeof leagueHistory && (e = !1),
            void 0 === playerHistoryLeague && (e = !1),
            e && (leagueHistory.hasOwnProperty("weekly_score") || (e = !1)),
            e && (leagueHistory.hasOwnProperty("league_awards") || (e = !1)),
            e)
        )
            for (var t = 0; t < leagueHistory.history_links.length && e; t++)
                leagueHistory.weekly_score.hasOwnProperty(leagueHistory.history_links[t].year) || (e = !1),
                    e && (playerHistoryLeague.hasOwnProperty(leagueHistory.history_links[t].year) || (e = !1));
        if (e || lh_interval_count > 100) {
            if ((clearInterval(lh_interval), -1 !== lh_precision_override)) lh_precision = lh_precision_override;
            else
                try {
                    lh_precision = parseInt(leagueHistory.league_history_detail[year].precision);
                } catch (e) {
                    lh_precision = 2;
                }
            setTimeout(lh_apply_tab_settings, 500),
                (lh_precision_multiplier = Math.pow(10, lh_precision)),
                update_defunct_franchises(),
                update_overall_record(),
                sort_defunct_franchises(),
                create_html_historical_records(),
                create_html_series_records(),
                create_html_team_points(),
                create_html_misc(),
                create_html_players();
        }
    }
    function lh_fatal_error() {
        "undefined" != typeof franchise_id ? show_custom_tab_history(11105) : show_custom_tab_history(11100);
    }
    function lh_append_script(e, t) {
        return new Promise((a, r) => {
            const s = document.createElement("script");
            "leagues" === t ? (s.id = `league_history_${e}`) : "players" === t && (s.id = `player_history_${e}`),
                (s.src = `${baseURLHistory}/${year}/${t}/${league_id}/${e}.js`),
                (s.onload = a),
                (s.onerror = r),
                document.head.appendChild(s);
        });
    }
    async function lh_initiate() {
        if ("undefined" == typeof leagueHistory) {
            let e;
            "undefined" != typeof franchise_id && "0000" === franchise_id
                ? (show_custom_tab_history(11105),
                  (e =
                      '<h3 class="warning" style="max-width:31.25rem;margin:0 auto">Your league\'s history has failed to load. If you have just updated to a new season, open the Admin tab and run the history and player updates for this season.</h3>'))
                : (e =
                      '<h3 class="warning" style="max-width:31.25rem;margin:0 auto">Your league\'s history has failed to load. This is most likely occurring because your commissioner has not updated history for this season or the server for which files are stored is currently down. Please try again later.</h3>'),
                (document.querySelector(".failure_message").innerHTML = e);
        } else
            try {
                leagueHistory.hasOwnProperty("league_awards") ||
                    (await new Promise((e, t) => {
                        const a = document.createElement("script");
                        (a.src = `${baseURLHistory}/${year}/leagues/${league_id}/league_awards.js`),
                            (a.onload = e),
                            (a.onerror = t),
                            document.head.appendChild(a);
                    }));
                const e = leagueHistory.history_links,
                    t = [];
                for (let a = 0; a < e.length; a++)
                    t.push(lh_append_script(e[a].year, "leagues")), t.push(lh_append_script(e[a].year, "players"));
                await Promise.allSettled(t), (lh_interval = setInterval(leagueHistoryWait, 50));
            } catch (e) {
                console.error("Error occurred while appending files:", e);
            }
    }
    if (
        ("undefined" != typeof franchise_id &&
            ((lh_franchise_id =
                "0000" === franchise_id && "" !== lh_commish_franchise_id ? lh_commish_franchise_id : franchise_id),
            "0000" === franchise_id && jQuery("#tab11105").removeAttr("style")),
        /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))
    ) {
        style = document.createElement("style");
        document.head.appendChild(style), style.sheet.insertRule(".hz-table-scroll table{padding-bottom:0!important}");
    }
    if (load_draftHistory_script && $("#draft-history-wrapper").length) {
        if (void 0 === tableSortInstalled) {
            jQuery("head").append(
                '<script type="text/javascript" src="https://www.mflscripts.com/mfl-apps/tableSort/script.js"></script>'
            );
            var tableSortInstalled = !0;
        }
        if (void 0 === dh_Mobile) var dh_Mobile = !1;
        if (void 0 === dh_Ovr) var dh_Ovr = !1;
        if (void 0 === dh_Date) var dh_Date = !1;
        if (void 0 === dh_Elapse) var dh_Elapse = !1;
        if (void 0 === dh_Comments) var dh_Comments = !1;
        if (void 0 === dh_sortArrow) var dh_sortArrow = "white";
        if (void 0 === dh_accumulatePts) var dh_accumulatePts = !1;
        var draftHistoryData_ar = [],
            draftHistoryYtdPts_ar = [],
            dh_filterPosition = "",
            dh_filterFranchise = "",
            dh_filterHeader = [];
        function dh_buildTabs() {
            var e = "";
            (e +=
                '<div id="myfantasyleague_tabs" class="dh_tabs_wrap"><table class="homepagemodule report" id="draft_tab_reports" cellspacing="1" align="center"><caption><span class="dh-main-caption-span">' +
                year +
                ' DRAFT RESULTS</span><span><div id="dh_options_11100" class="dh-control-setting" style=""><div class="dh_toggle_settings" style="pointer-events:auto;float:right;margin-right:0.188rem"><i class="fa-regular fa-gears" aria-hidden="true"></i> Filters</div><div id="draft_options"></div></div></span></caption><tbody></tbody></table>'),
                (e += '<div class="dh_toggle_tabs dh-main-toggle-tabs">'),
                (e += '<table class="report">'),
                (e += "<tbody>"),
                (e += "<tr>"),
                (e += "<td>"),
                (e += '<div class="myfantasyleague_tabmenu historyTabYears">'),
                (e +=
                    '<span id="dh_title_11100" style="z-index:1">' +
                    year +
                    '</span><input id="dh_11100" type="checkbox"><label for="dh_11100"><span></span></label>'),
                (e += '<ul id="homepagetabs" class="dh-tabs-menu">'),
                (e +=
                    '<li id="dh_11100" class="currenttab" onclick="dh_getDraftTable(\'' +
                    year +
                    "','" +
                    baseURLDynamic.split("/")[2].substr(3, 2) +
                    "','" +
                    league_id +
                    '\')"><a class="no-sub">' +
                    year +
                    "</a></li>");
            let t = 0;
            for (let a = 0; a < integratedHistory_ar.length; a++) {
                (e +=
                    '<li id="dh_111' +
                    ("0" + t).substr(-2) +
                    '" class="" onclick="dh_getDraftTable(\'' +
                    integratedHistory_ar[a].yid +
                    "','" +
                    integratedHistory_ar[a].sid +
                    "','" +
                    integratedHistory_ar[a].lid +
                    "')\"><a>" +
                    integratedHistory_ar[a].yid +
                    "</a></li>"),
                    t++;
            }
            (e += "</ul>"),
                (e += "</div>"),
                (e += "</td>"),
                (e += "</tr>"),
                (e += "</tbody>"),
                (e += "</table>"),
                (e +=
                    '<div id="draft_loader"><center style="position:relative;height:12.5rem;padding-top:1.25rem">Loading Draft History . . .<br><br><div class="MFLPlayerPopupLoader" style="margin:0 auto"></div></center></div>'),
                (e += '<div class="dh_tabs_scroll" style="position:relative;display:none"></div>'),
                (e += "</div>"),
                (e += "</div>"),
                $("#draft-history-wrapper").append(e);
        }
        function dh_trackColumnSorting(e) {
            void 0 === dh_filterHeader[0] || dh_filterHeader[0] !== e
                ? ((dh_filterHeader[0] = e), (dh_filterHeader[1] = 1))
                : (dh_filterHeader[1] = -1 * dh_filterHeader[1]);
        }
        function dh_doDraftTable(e, t, a) {
            if ($.trim(e)) {
                var r = $(e).find('form[action="options"]').appendTo("#draft_options");
                $("#draft_options").html(r);
                var s = $(e).find('h3:contains("Show"):contains("Draft"):contains("Results")');
                $(e)
                    .find(".report:first")
                    .appendTo(".dh_tabs_scroll")
                    .attr("id", "draftHistortable")
                    .addClass("tablesorter"),
                    s.attr("data-year", t),
                    s.attr("data-server", a),
                    $(".dh_tabs_scroll").prepend(s),
                    $(".dh_tabs_scroll h3 a").length || $(".dh_tabs_scroll h3").remove(),
                    $(".dh_tabs_scroll th:last-child").each(function () {
                        $(this).text().match("Comments")
                            ? ($("#draftHistortable tr:first th:last-child").addClass("comments-col"),
                              $("#draftHistortable tr.oddtablerow,#draftHistortable tr.eventablerow").each(function () {
                                  $(this).find("td:last-child").addClass("comments-col");
                              }))
                            : ($("#draftHistortable tr:first th:last-child").after(
                                  '<th class="comments-col">Comments</th>'
                              ),
                              $("#draftHistortable tr.oddtablerow,#draftHistortable tr.eventablerow").each(function () {
                                  $(this).find("td:last-child").after('<td class="comments-col"></td>');
                              }));
                    }),
                    $("th.points + th.points").length ||
                        ($("th.timestamp + th.points").after('"<th class="points">Points</th>'),
                        $("td.timestamp + td.points").after('"<td class="points totalpoints">0</td>')),
                    $("#draftHistortable tr").each(function () {
                        var e = $(this).find("td:eq(6)").text();
                        "-" === e && (e = "0"), $(this).find("td:eq(6)").text(e);
                    }),
                    0 !== precision &&
                        $("#draftHistortable tr").each(function () {
                            $(this)
                                .find("td:eq(6)")
                                .text(parseFloat($(this).find("td:eq(6)").text(), 10).toFixed(precision));
                        }),
                    parseInt(t) !== year &&
                        dh_accumulatePts &&
                        ($("#draftHistortable tr:first th:eq(6)").after(
                            '<th class="points ctd-pts" title="Career Pts to Date">CPts</th>'
                        ),
                        $("#draftHistortable tr.oddtablerow,#draftHistortable tr.eventablerow").each(function () {
                            $(this).find("td:eq(6)").after('<td class="points ctd-pts"></td>');
                        }));
                var o = 0;
                $("#draftHistortable tr:first")
                    .find("th")
                    .each(function () {
                        $(this).attr("onclick", "dh_trackColumnSorting(" + o + ")"), o++;
                    });
                var l = 0;
                $("#draftHistortable:first tr th").each(function () {
                    $(this).attr("colspan") ? (l += +$(this).attr("colspan")) : l++;
                }),
                    $("#draftHistortable caption").remove(),
                    $("#draftHistortable tr:first").wrap("<thead>"),
                    $("#draftHistortable thead").insertBefore("#draftHistortable tbody"),
                    $("#draftHistortable thead th").wrapInner('<div class="tablesorter-header-inner"></div>'),
                    $('<tbody style="display:none"><tr><td colspan=' + l + "></td></tr></tbody>").insertBefore(
                        "#draftHistortable tbody"
                    ),
                    $("#draftHistortable tbody:last tr td:nth-of-type(7)").addClass("totalpoints");
                let n = 0,
                    d = 0;
                parseInt(t) !== year && dh_accumulatePts
                    ? ($(
                          '<tfoot><tr class="totalscore-row oddtablerow"><th></th><th></th><th></th><th></th><th></th><th></th><th class="totalscore" style="text-align:center!important">' +
                              n +
                              '</th><th class="totalctdscore"style="text-align:center!important">' +
                              d +
                              '</th><th class="last_total"></th></tr></tfoot>'
                      ).insertAfter("#draftHistortable tbody:last"),
                      $("head").append(
                          '<style>#draftHistortable th.totalscore:before{content:"Total Points:";position:absolute;margin-left:-6.25rem}</style>'
                      ))
                    : ($(
                          '<tfoot><tr class="totalscore-row oddtablerow"><th></th><th></th><th></th><th></th><th></th><th></th><th class="totalscore" style="text-align:center!important">' +
                              n +
                              '</th><th class="last_total"></th></tr></tfoot>'
                      ).insertAfter("#draftHistortable tbody:last"),
                      $("head").append(
                          '<style>#draftHistortable th.totalscore:before{content:"Total Points:";position:absolute;margin-left:-6.25rem}</style>'
                      )),
                    $(function () {
                        sumPoints(t),
                            $("#draftHistortable").tablesorter(),
                            $("#draftHistortable")
                                .bind("sortStart", function (e, t) {})
                                .bind("sortEnd", function (e, a) {
                                    sumPoints(t), dh_applyRowClass();
                                });
                    }),
                    $('#draft_options select[name="POSITION"] option').val(function (e, t) {
                        return t.replace(/\+/g, ",tr.dr_pos_");
                    }),
                    $('#draft_options select[name="POSITION"] option[value="*"]').text("Position"),
                    $('#draft_options select[name="FRANCHISE"] option[value="0000"]').text("Franchise"),
                    $('#draft_options form input[type="submit"]').remove(),
                    $("#draft-history-wrapper td.franchisename a").each(function () {
                        var e = $(this).attr("href"),
                            t = e.substr(e.indexOf("F=") + 2, 4);
                        $(this)
                            .closest("tr")
                            .not(".totalscore-row")
                            .addClass("dr_fran_" + t);
                    }),
                    $("#draft-history-wrapper td.player a").each(function () {
                        var e = $(this).attr("class"),
                            a = e.substr(e.indexOf("position_") + 9, e.length),
                            r = $(this).attr("href").replace("&PRINTER=1", "").split("=")[2];
                        $(this)
                            .closest("tr")
                            .not(".totalscore-row")
                            .addClass("fran_filtered pos_filtered dr_pos_" + a),
                            t < year && $(this).closest("td").text($(this).text().trim()).attr("pid", r);
                    }),
                    $('#draft_options select[name="POSITION"]').change(function () {
                        dh_filterPosition = "*" === $(this).val() ? "" : $(this).val();
                        var e = $(this).val().toLowerCase();
                        $('tr[class*="dr_pos_"]').removeClass("pos_filtered").hide(),
                            $("tr.dr_pos_" + e)
                                .addClass("pos_filtered")
                                .show(),
                            $('tr[class*="dr_fran_"]').not(".fran_filtered").hide(),
                            "*" == $(this).val() &&
                                ($('tr[class*="dr_pos_"]').addClass("pos_filtered").show(),
                                $('tr[class*="dr_pos_"]').not(".fran_filtered").hide()),
                            dh_applyRowClass(),
                            sumPoints(t);
                    }),
                    $('#draft_options select[name="FRANCHISE"]').change(function () {
                        var e = $(this).val().toLowerCase();
                        (dh_filterFranchise = "0000" === e ? "" : e),
                            $('tr[class*="dr_fran_"]').removeClass("fran_filtered").hide(),
                            $("tr.dr_fran_" + e)
                                .addClass("fran_filtered")
                                .show(),
                            $('tr[class*="dr_fran_"]').not(".pos_filtered").hide(),
                            "0000" == $(this).val() &&
                                ($('tr[class*="dr_fran_"]').addClass("fran_filtered").show(),
                                $('tr[class*="dr_fran_"]').not(".pos_filtered").hide()),
                            dh_applyRowClass(),
                            sumPoints(t);
                    });
                var i = parseInt(t);
                $(".dh-main-caption-span").text(i + " Draft Results"),
                    $(".dh-main-toggle-tabs li").click(function () {
                        dh_applyRowClass(),
                            $(".dh-main-toggle-tabs li").removeClass("currenttab"),
                            $(this).addClass("currenttab"),
                            $('.dh-main-toggle-tabs span[id*="dh_title_"]').html(i),
                            $("#dh_11100").prop("checked", !1);
                    }),
                    $("#draftHistortable td.franchisename:first").length
                        ? i == year
                            ? ($("#draftHistortable td a").attr("href", function (e, t) {
                                  return t.replace("&PRINTER=1", "");
                              }),
                              $("#draft_style_pointer").remove())
                            : 0 == $("#draft_style_pointer").length &&
                              $("head").append(
                                  '<style id="draft_style_pointer">#draft-history-wrapper table td a{pointer-events:none!important;text-decoration:none!important}</style>'
                              )
                        : $("#draftHistortable").html(
                              '<h3 style="padding:1.875rem 0.313rem">No Draft Results For Selected Season</h3>'
                          ),
                    parseInt(t) !== year &&
                        dh_accumulatePts &&
                        $("#draftHistortable tbody:eq(1) tr").each(function () {
                            try {
                                var e = $(this).find("td.player").attr("pid");
                            } catch (t) {
                                e = "";
                            }
                            var a = 0;
                            if (draftHistoryYtdPts_ar.hasOwnProperty("pid_" + e))
                                for (var r in draftHistoryYtdPts_ar["pid_" + e])
                                    parseInt(r.substr(-4)) >= parseInt(t) &&
                                        (a += parseFloat(draftHistoryYtdPts_ar["pid_" + e][r], 10));
                            $(this).find("td.ctd-pts").html(a.toFixed(precision));
                        }),
                    $("#draft_loader").hide(),
                    $(".dh_tabs_scroll").show(),
                    $("#draftHistortable td.comments-col").html(function (e, t) {
                        return t.replace(/&nbsp;/g, "");
                    }),
                    $("#draftHistortable td.comments-col").html(function (e, t) {
                        return t.replace(/NaN/g, "");
                    }),
                    $("#draftHistortable td.comments-col:empty").addClass("empty_comments"),
                    $("#draftHistortable td.comments-col")
                        .not("td.empty_comments")
                        .wrapInner('<div class="dh_comments_cell"></div>'),
                    $("#draftHistortable th.comments-col").html(
                        '<i class="fa-regular fa-comments" aria-hidden="true"></i>'
                    ),
                    $("#draftHistortable td.comments-col").append(
                        '<i class="fa-regular fa-comments" aria-hidden="true"></i>'
                    ),
                    $("#draftHistortable td.franchisename img").each(function () {
                        var e = $(this).attr("alt");
                        $(this)
                            .parents("td")
                            .append('<span style="display:none">' + e + "</span>");
                    }),
                    "" !== dh_filterFranchise &&
                        $('#draft_options select[name="FRANCHISE"]').val(dh_filterFranchise).trigger("change"),
                    "" !== dh_filterPosition &&
                        $('#draft_options select[name="POSITION"]').val(dh_filterPosition).trigger("change"),
                    void 0 !== dh_filterHeader[0] &&
                        ($("#draftHistortable")
                            .tablesorter()
                            .trigger("sorton", [[[dh_filterHeader[0], "n"]]]),
                        -1 === dh_filterHeader[1] &&
                            $("#draftHistortable")
                                .tablesorter()
                                .trigger("sorton", [[[dh_filterHeader[0], "n"]]]));
            } else
                $(".dh_tabs_scroll").html(
                    '<span class="warning" style="text-align:center;display:block">Error Getting Draft For Selected Season.<br>This is probably due to the selected season not being supported to cross browser requests.<br>The MFL site for this season MUST be HTTPS.<br>You will have to enable SSL for the selected season.<br>Also make sure the selected season is NOT set to private !.</span>'
                );
        }
        function dh_applyRowClass() {
            $("#draftHistortable tr:visible:odd").removeClass("eventablerow").addClass("oddtablerow"),
                $("#draftHistortable tr:visible:even").removeClass("oddtablerow").addClass("eventablerow");
        }
        function sumPoints(e) {
            (pointsum = 0),
                (pointsumr = 0),
                $("#draftHistortable tr:visible .totalpoints").each(function () {
                    var e = $.trim($(this).text());
                    e &&
                        ((e = parseFloat(e.replace(/^\$/, ""))),
                        (pointsum += isNaN(e) ? 0 : e),
                        (pointsumr = pointsum.toFixed(precision)));
                }),
                $("#draftHistortable tr:visible .totalscore").html(pointsumr),
                parseInt(e) !== year &&
                    dh_accumulatePts &&
                    ((ctdsum = 0),
                    (ctdsumr = 0),
                    $("#draftHistortable tr:visible .ctd-pts").each(function () {
                        var e = $.trim($(this).text());
                        e &&
                            ((e = parseFloat(e.replace(/^\$/, ""))),
                            (ctdsum += isNaN(e) ? 0 : e),
                            (ctdsumr = ctdsum.toFixed(precision)));
                    }),
                    $("#draftHistortable tr .totalctdscore").html(ctdsumr));
        }
        function dh_getDraftTable(e, t, a, r) {
            $(".dh_tabs_scroll").html(""),
                r
                    ? fetch(`https://www${t}.myfantasyleague.com/${e}/options?L=${a}&O=17&PRINTER=1`, {
                          credentials: "include",
                      })
                          .then((e) => {
                              if (!e.ok) throw new Error("Network response was not ok");
                              return e.text();
                          })
                          .then((r) => {
                              (draftHistoryData_ar["yid_" + e] = r),
                                  dh_doDraftTable(r, e, t),
                                  dh_accumulatePts && dh_getYtdPtsLazyLoad(e, t, a);
                          })
                          .catch((t) => {
                              console.log("Error Getting Draft For: " + e);
                          })
                    : dh_doDraftTable(draftHistoryData_ar["yid_" + e], e, t);
        }
        function dh_getDraftTableLazyLoad(e, t, a) {
            fetch(`https://www${t}.myfantasyleague.com/${e}/options?L=${a}&O=17&PRINTER=1`, { credentials: "include" })
                .then((e) => {
                    if (!e.ok) throw new Error("Network response was not ok");
                    return e.text();
                })
                .then((t) => {
                    draftHistoryData_ar["yid_" + e] = t;
                })
                .catch((t) => {
                    console.log("Error Getting Draft For: " + e);
                });
        }
        function dh_getYtdPtsLazyLoad(e, t, a) {
            fetch(`https://www${t}.myfantasyleague.com/${e}/export?TYPE=playerScores&L=${a}&APIKEY=&W=YTD&JSON=1`, {
                credentials: "include",
            })
                .then((e) => {
                    if (!e.ok) throw new Error("Network response was not ok");
                    return e.json();
                })
                .then((t) => {
                    for (var a = 0; a < t.playerScores.playerScore.length; a++)
                        draftHistoryYtdPts_ar.hasOwnProperty("pid_" + t.playerScores.playerScore[a].id) ||
                            (draftHistoryYtdPts_ar["pid_" + t.playerScores.playerScore[a].id] = []),
                            (draftHistoryYtdPts_ar["pid_" + t.playerScores.playerScore[a].id]["yid_" + e] =
                                t.playerScores.playerScore[a].score);
                })
                .catch((t) => {
                    console.log("Error Getting YTD Points For: " + e);
                });
        }
        $(".historyNav,.leagueTabNav,.draftTabNav").show(),
            $(".historyNav.mobileNavs").hide(),
            $("head").append(
                "<style>@media only screen and (max-width: 29em){.historyNav{display:none!important}.historyNav.mobileNavs{display:block!important}}</style>"
            ),
            $(document).on("click", ".dh_tabs_scroll h3 a", function (e) {
                e.preventDefault();
                var t = $(this),
                    a = $(".dh_tabs_scroll h3").attr("data-year"),
                    r = $(".dh_tabs_scroll h3").attr("data-server"),
                    s = `https://www${r}.myfantasyleague.com/${a}/${t.attr("href")}`;
                $.ajax({
                    type: "GET",
                    url: s,
                    xhrFields: { withCredentials: !0 },
                    success: function (e) {
                        $(".dh_tabs_scroll").html("");
                        var t = $(e).find('form[action="options"]').appendTo("#draft_options");
                        $("#draft_options").html(t);
                        var s = $(e).find('h3:contains("Show"):contains("Draft"):contains("Results")');
                        $(e)
                            .find(".report:first")
                            .appendTo(".dh_tabs_scroll")
                            .attr("id", "draftHistortable")
                            .addClass("tablesorter"),
                            s.attr("data-year", a),
                            s.attr("data-server", r),
                            $(".dh_tabs_scroll").prepend(s),
                            $(".dh_tabs_scroll h3 a").length || $(".dh_tabs_scroll h3").remove(),
                            $(".dh_tabs_scroll th:last-child").each(function () {
                                $(this).text().match("Comments")
                                    ? ($("#draftHistortable tr:first th:last-child").addClass("comments-col"),
                                      $("#draftHistortable tr.oddtablerow,#draftHistortable tr.eventablerow").each(
                                          function () {
                                              $(this).find("td:last-child").addClass("comments-col");
                                          }
                                      ))
                                    : ($("#draftHistortable tr:first th:last-child").after(
                                          '<th class="comments-col">Comments</th>'
                                      ),
                                      $("#draftHistortable tr.oddtablerow,#draftHistortable tr.eventablerow").each(
                                          function () {
                                              $(this).find("td:last-child").after('<td class="comments-col"></td>');
                                          }
                                      ));
                            }),
                            $("#draftHistortable tr").each(function () {
                                var e = $(this).find("td:eq(6)").text();
                                "-" === e && (e = "0"), $(this).find("td:eq(6)").text(e);
                            }),
                            0 !== precision &&
                                $("#draftHistortable tr").each(function () {
                                    $(this)
                                        .find("td:eq(6)")
                                        .text(parseFloat($(this).find("td:eq(6)").text(), 10).toFixed(precision));
                                }),
                            parseInt(a) !== year &&
                                dh_accumulatePts &&
                                ($("#draftHistortable tr:first th:eq(6)").after(
                                    '<th class="points ctd-pts" title="Career Pts to Date">CPts</th>'
                                ),
                                $("#draftHistortable tr.oddtablerow,#draftHistortable tr.eventablerow").each(
                                    function () {
                                        $(this).find("td:eq(6)").after('<td class="points ctd-pts"></td>');
                                    }
                                ));
                        var o = 0;
                        $("#draftHistortable tr:first")
                            .find("th")
                            .each(function () {
                                $(this).attr("onclick", "dh_trackColumnSorting(" + o + ")"), o++;
                            });
                        var l = 0;
                        $("#draftHistortable:first tr th").each(function () {
                            $(this).attr("colspan") ? (l += +$(this).attr("colspan")) : l++;
                        }),
                            $("#draftHistortable caption").remove(),
                            $("#draftHistortable tr:first").wrap("<thead>"),
                            $("#draftHistortable thead").insertBefore("#draftHistortable tbody"),
                            $("#draftHistortable thead th").wrapInner('<div class="tablesorter-header-inner"></div>'),
                            $('<tbody style="display:none"><tr><td colspan=' + l + "></td></tr></tbody>").insertBefore(
                                "#draftHistortable tbody"
                            ),
                            $("#draftHistortable tbody:last tr td:nth-of-type(7)").addClass("totalpoints");
                        parseInt(a) !== year && dh_accumulatePts
                            ? ($(
                                  '<tfoot><tr class="totalscore-row oddtablerow"><th></th><th></th><th></th><th></th><th></th><th></th><th class="totalscore" style="text-align:center!important">0</th><th class="totalctdscore"style="text-align:center!important">0</th><th class="last_total"></th></tr></tfoot>'
                              ).insertAfter("#draftHistortable tbody:last"),
                              $("head").append(
                                  '<style>#draftHistortable th.totalscore:before{content:"Total Points:";position:absolute;margin-left:-6.25rem}</style>'
                              ))
                            : ($(
                                  '<tfoot><tr class="totalscore-row oddtablerow"><th></th><th></th><th></th><th></th><th></th><th></th><th class="totalscore" style="text-align:center!important">0</th><th class="last_total"></th></tr></tfoot>'
                              ).insertAfter("#draftHistortable tbody:last"),
                              $("head").append(
                                  '<style>#draftHistortable th.totalscore:before{content:"Total Points:";position:absolute;margin-left:-6.25rem}</style>'
                              )),
                            $(function () {
                                sumPoints(a),
                                    $("#draftHistortable").tablesorter(),
                                    $("#draftHistortable")
                                        .bind("sortStart", function (e, t) {})
                                        .bind("sortEnd", function (e, t) {
                                            sumPoints(a), dh_applyRowClass();
                                        });
                            }),
                            $('#draft_options select[name="POSITION"] option').val(function (e, t) {
                                return t.replace(/\+/g, ",tr.dr_pos_");
                            }),
                            $('#draft_options select[name="POSITION"] option[value="*"]').text("Position"),
                            $('#draft_options select[name="FRANCHISE"] option[value="0000"]').text("Franchise"),
                            $('#draft_options form input[type="submit"]').remove(),
                            $("#draft-history-wrapper td.franchisename a").each(function () {
                                var e = $(this).attr("href"),
                                    t = e.substr(e.indexOf("F=") + 2, 4);
                                $(this)
                                    .closest("tr")
                                    .not(".totalscore-row")
                                    .addClass("dr_fran_" + t);
                            }),
                            $("#draft-history-wrapper td.player a").each(function () {
                                var e = $(this).attr("class"),
                                    t = e.substr(e.indexOf("position_") + 9, e.length),
                                    r = $(this).attr("href").replace("&PRINTER=1", "").split("=")[2];
                                $(this)
                                    .closest("tr")
                                    .not(".totalscore-row")
                                    .addClass("fran_filtered pos_filtered dr_pos_" + t),
                                    a < year && $(this).closest("td").text($(this).text().trim()).attr("pid", r);
                            }),
                            $('#draft_options select[name="POSITION"]').change(function () {
                                dh_filterPosition = "*" === $(this).val() ? "" : $(this).val();
                                var e = $(this).val().toLowerCase();
                                $('tr[class*="dr_pos_"]').removeClass("pos_filtered").hide(),
                                    $("tr.dr_pos_" + e)
                                        .addClass("pos_filtered")
                                        .show(),
                                    $('tr[class*="dr_fran_"]').not(".fran_filtered").hide(),
                                    "*" == $(this).val() &&
                                        ($('tr[class*="dr_pos_"]').addClass("pos_filtered").show(),
                                        $('tr[class*="dr_pos_"]').not(".fran_filtered").hide()),
                                    dh_applyRowClass(),
                                    sumPoints(a);
                            }),
                            $('#draft_options select[name="FRANCHISE"]').change(function () {
                                var e = $(this).val().toLowerCase();
                                (dh_filterFranchise = "0000" === e ? "" : e),
                                    $('tr[class*="dr_fran_"]').removeClass("fran_filtered").hide(),
                                    $("tr.dr_fran_" + e)
                                        .addClass("fran_filtered")
                                        .show(),
                                    $('tr[class*="dr_fran_"]').not(".pos_filtered").hide(),
                                    "0000" == $(this).val() &&
                                        ($('tr[class*="dr_fran_"]').addClass("fran_filtered").show(),
                                        $('tr[class*="dr_fran_"]').not(".pos_filtered").hide()),
                                    dh_applyRowClass(),
                                    sumPoints(a);
                            });
                        var i = parseInt(a);
                        $(".dh-main-caption-span").text(i + " Draft Results"),
                            $(".dh-main-toggle-tabs li").click(function () {
                                dh_applyRowClass(),
                                    $(".dh-main-toggle-tabs li").removeClass("currenttab"),
                                    $(this).addClass("currenttab"),
                                    $('.dh-main-toggle-tabs span[id*="dh_title_"]').html(i),
                                    $("#dh_11100").prop("checked", !1);
                            }),
                            $("#draftHistortable td.franchisename:first").length
                                ? i == year
                                    ? ($("#draftHistortable td a").attr("href", function (e, t) {
                                          return t.replace("&PRINTER=1", "");
                                      }),
                                      $("#draft_style_pointer").remove())
                                    : 0 == $("#draft_style_pointer").length &&
                                      $("head").append(
                                          '<style id="draft_style_pointer">#draft-history-wrapper table td a{pointer-events:none!important;text-decoration:none!important}</style>'
                                      )
                                : $("#draftHistortable").html(
                                      '<h3 style="padding:1.875rem 0.313rem">No Draft Results For Selected Season</h3>'
                                  ),
                            parseInt(a) !== year &&
                                dh_accumulatePts &&
                                $("#draftHistortable tbody:eq(1) tr").each(function () {
                                    try {
                                        var e = $(this).find("td.player").attr("pid");
                                    } catch (t) {
                                        e = "";
                                    }
                                    var t = 0;
                                    if (draftHistoryYtdPts_ar.hasOwnProperty("pid_" + e))
                                        for (var r in draftHistoryYtdPts_ar["pid_" + e])
                                            parseInt(r.substr(-4)) >= parseInt(a) &&
                                                (t += parseFloat(draftHistoryYtdPts_ar["pid_" + e][r], 10));
                                    $(this).find("td.ctd-pts").html(t.toFixed(precision));
                                }),
                            $("#draft_loader").hide(),
                            $(".dh_tabs_scroll").show(),
                            $("#draftHistortable td.comments-col").html(function (e, t) {
                                return t.replace(/&nbsp;/g, "");
                            }),
                            $("#draftHistortable td.comments-col").html(function (e, t) {
                                return t.replace(/NaN/g, "");
                            }),
                            $("#draftHistortable td.comments-col:empty").addClass("empty_comments"),
                            $("#draftHistortable td.comments-col")
                                .not("td.empty_comments")
                                .wrapInner('<div class="dh_comments_cell"></div>'),
                            $("#draftHistortable th.comments-col").html(
                                '<i class="fa-regular fa-comments" aria-hidden="true"></i>'
                            ),
                            $("#draftHistortable td.comments-col").append(
                                '<i class="fa-regular fa-comments" aria-hidden="true"></i>'
                            ),
                            $("#draftHistortable td.franchisename img").each(function () {
                                var e = $(this).attr("alt");
                                $(this)
                                    .parents("td")
                                    .append('<span style="display:none">' + e + "</span>");
                            }),
                            "" !== dh_filterFranchise &&
                                $('#draft_options select[name="FRANCHISE"]').val(dh_filterFranchise).trigger("change"),
                            "" !== dh_filterPosition &&
                                $('#draft_options select[name="POSITION"]').val(dh_filterPosition).trigger("change"),
                            void 0 !== dh_filterHeader[0] &&
                                ($("#draftHistortable")
                                    .tablesorter()
                                    .trigger("sorton", [[[dh_filterHeader[0], "n"]]]),
                                -1 === dh_filterHeader[1] &&
                                    $("#draftHistortable")
                                        .tablesorter()
                                        .trigger("sorton", [[[dh_filterHeader[0], "n"]]]));
                    },
                });
            }),
            $(document).on("click", ".dh_toggle_settings", function () {
                $("#draft_options").slideToggle("slow");
            }),
            $("head").append(
                '<style>#draftHistortable th,#draftHistortable td{text-align:left}#draftHistortable th:nth-child(1),#draftHistortable td:nth-child(1),#draftHistortable th:nth-child(2),#draftHistortable td:nth-child(2),#draftHistortable th:nth-child(7),#draftHistortable td:nth-child(7),#draftHistortable th.ctd-pts,#draftHistortable td.ctd-pts{text-align:center}#draftHistortable .franchiseicon[src*="mini-"]{width:unset!important;min-width:unset!important;max-width:unset!important;height:unset!important;min-height:unset!important;max-height:unset!important;max-width:15.625rem!important;min-width:8.125rem!important}#draftHistortable .franchiseicon{height:100%;width:auto;max-height:2.5rem}#draftHistortable th.comments-col{pointer-events:none!important;background-image:none!important}#draftHistortable.tablesorter th{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#draftHistortable.tablesorter th:focus{outline:none!important}#draftHistortable th:nth-child(1){width:3.75rem}#draftHistortable td:last-child{white-space:pre-wrap}#draftHistortable th:nth-child(2){width:3.125rem}#draft_options select{width:5.625rem!important;font-size:0.875rem!important;padding:0!important}.dh_comments_cell{display:none;position:absolute;margin-left:-15.625rem;font-size:0.875rem;padding:0.313rem;border-radius:0.313rem;z-index:99999;float:left;width:15.625rem;margin-top:-0.5rem}#draftHistortable td.comments-col{cursor:pointer;text-align:center}#draftHistortable th.comments-col{text-align:center;padding:0!important}#draftHistortable td.comments-col:hover .dh_comments_cell{display:block;cursor:pointer}#draftHistortable td.empty_comments{opacity:.3;cursor:default}#draft_options select{pointer-events:auto}#draft_options form{padding:0!important;font-size:0.75rem}#draft_options{display:none;text-align:center;line-height:0}.dh-control-setting{font-size: 0.938rem;cursor: pointer;font-weight: normal;display: inline}#draftHistortable tr.totalscore-row th{background-image:none!important}#draftHistortable th:nth-child(1){width:3.438rem!important;max-width:3.438rem!important}#draftHistortable .ctd-pts{width:5rem!important;max-width:5rem!important}#draftHistortable .comments-col{width:2.5rem!important;max-width:2.5rem!important}#draftHistortable .points{width:6.25rem!important;max-width:6.25rem!important}#draftHistortable .points + .points{width:5rem!important;max-width:5rem!important}#draftHistortable .points:nth-child(2){width:3.125rem!important;max-width:3.125rem!important}#draftHistortable .franchisename{width:12.5rem!important;max-width:12.5rem!important}#draftHistortable.tablesorter .header, #draftHistortable.tablesorter .tablesorter-header {background-image:none!important;padding: 0.125rem;cursor: pointer;}#draftHistortable div {white-space:nowrap}#draftHistortable div.dh_comments_cell{white-space:unset}#draftHistortable th div{display:inline-flex;align-items:center;margin:0!important;padding:0!important;text-indent:0!important}#draftHistortable th.comments-col div:after{display:none!important}@media (hover:none) {#draft_options select{width:6.25rem!important;font-size:1rem!important;}}</style>'
            ),
            dh_Mobile &&
                $("head").append(
                    '<style>@media (max-width:40.625em){#draftHistortable td a[data-pimg-processed]{display:inline-block;vertical-align:middle}#draftHistortable,#draftHistortable tbody,#draftHistortable th,#draftHistortable td,#draftHistortable tr{display:block}#draftHistortable tr[class*="dr_pos_"]:last-child{border-bottom:0!important}#draftHistortable th{position:absolute;top:-9999rem;left:-9999rem}#draftHistortable td{position:relative;text-align:left!important;min-height:2.125rem}#draftHistortable td:before{width:6.25rem;text-align:right;display:inline-block;margin-right:0.625rem}#draft-history-wrapper table.report td textarea{width:100%}#draftHistortable td:nth-of-type(1):before{content:"Pick\\00a0:\\00a0"}#draftHistortable td.points:before{content:"Overall Pick\\00a0:\\00a0"}#draftHistortable td.franchisename:before{content:"Franchise\\00a0:\\00a0"}#draftHistortable td.player:before{content:"Selection\\00a0:\\00a0"}#draftHistortable td.timestamp:before{content:"Date/Time : "}#draftHistortable td.timestamp + td.points:before{content:"Elaspsed Time\\00a0:\\00a0"}#draftHistortable td.points + td.points:before{content:"Points\\00a0:\\00a0"}#draftHistortable td:last-of-type:before{content:"Comments\\00a0:\\00a0"}#draftHistortable td.franchisename{padding-left:7.063rem}#draftHistortable td.franchisename:before{margin-left:-6.25rem;padding-right:0.625rem;margin-right:0}#draftHistortable td.comments-col{white-space:nowrap}#draftHistortable .dh_comments_cell{margin-left:8.313rem;margin-top:-1.875rem;width:12.5rem;white-space:pre-wrap}tr.totalscore-row{display:none!important}#draftHistortable .franchisename,#draftHistortable .points:nth-child(2),#draftHistortable .points,#draftHistortable .points + .points{width: unset!important;max-width: unset!important}#draftHistortable td.ctd-pts:before{content: "CPts\\00a0:\\00a0"!important}}</style>'
                ),
            dh_Ovr ||
                $("head").append(
                    "<style>#draftHistortable th:nth-child(2),#draftHistortable td:nth-child(2){display:none!important}</style>"
                ),
            dh_Date ||
                $("head").append(
                    "<style>#draftHistortable th:nth-child(5),#draftHistortable td:nth-child(5){display:none!important}</style>"
                ),
            dh_Elapse ||
                $("head").append(
                    "<style>#draftHistortable th:nth-child(6),#draftHistortable td:nth-child(6){display:none!important}</style>"
                ),
            dh_Comments ||
                $("head").append(
                    "<style>#draftHistortable th.comments-col,#draftHistortable td.comments-col{display:none!important}#draftHistortable tr.totalscore-row th.last_total{display:none!important}</style>"
                ),
            "white" == dh_sortArrow &&
                $("head").append(
                    "<style>#draftHistortable th div:after {content: url(data:image/gif;base64,R0lGODlhFQAJAIAAAP///////yH5BAEAAAEALAAAAAAVAAkAAAIXjI+AywnaYnhUMoqt3gZXPmVg94yJVQAAOw==);width:1rem;margin-left:-0.188rem!important}#draftHistortable.tablesorter .headerSortUp div:after,#draftHistortable.tablesorter .tablesorter-headerSortUp div:after,#draftHistortable.tablesorter .tablesorter-headerAsc div:after {content: url(data:image/gif;base64,R0lGODlhFQAEAIAAAP///////yH5BAEAAAEALAAAAAAVAAQAAAINjI8Bya2wnINUMopZAQA7)}#draftHistortable.tablesorter .headerSortDown div:after,#draftHistortable.tablesorter .tablesorter-headerSortDown div:after,#draftHistortable.tablesorter .tablesorter-headerDesc div:after {content: url(data:image/gif;base64,R0lGODlhFQAEAIAAAP///////yH5BAEAAAEALAAAAAAVAAQAAAINjB+gC+jP2ptn0WskLQA7)}</style>"
                ),
            "black" == dh_sortArrow &&
                $("head").append(
                    "<style>#draftHistortable th div:after{content: url(data:image/gif;base64,R0lGODlhFQAJAIAAACMtMP///yH5BAEAAAEALAAAAAAVAAkAAAIXjI+AywnaYnhUMoqt3gZXPmVg94yJVQAAOw==);width:1rem;margin-left:-0.188rem!important}#draftHistortable.tablesorter .headerSortUp div:after,#draftHistortable.tablesorter .tablesorter-headerSortUp div:after,#draftHistortable.tablesorter .tablesorter-headerAsc div:after{content: url(data:image/gif;base64,R0lGODlhFQAEAIAAACMtMP///yH5BAEAAAEALAAAAAAVAAQAAAINjI8Bya2wnINUMopZAQA7)}#draftHistortable.tablesorter .headerSortDown div:after,#draftHistortable.tablesorter .tablesorter-headerSortDown div:after,#draftHistortable.tablesorter .tablesorter-headerDesc div:after{content: url(data:image/gif;base64,R0lGODlhFQAEAIAAACMtMP///yH5BAEAAAEALAAAAAAVAAQAAAINjB+gC+jP2ptn0WskLQA7)}</style>"
                );
    }
    if (load_standingsHistory_script && $("#standings-history-wrapper").length) {
        var standingsHistoryData_ar = [];
        function sh_buildTabs() {
            var e = "";
            (e +=
                '<div id="myfantasyleague_tabs" class="sh_tabs_wrap"><table class="homepagemodule report" id="standings_history_table" cellspacing="1" align="center"><caption><span class="sh-main-caption-span">' +
                year +
                " Standings</span></caption><tbody></tbody></table>"),
                (e += '<div class="sh_toggle_tabs sh-main-toggle-tabs">'),
                (e += '<table class="report">'),
                (e += "<tbody>"),
                (e += "<tr>"),
                (e += "<td>"),
                (e += '<div class="myfantasyleague_tabmenu historyTabYears">'),
                (e +=
                    '<span id="sh_title_11100" style="z-index:1">' +
                    year +
                    '</span><input id="sh_11100" type="checkbox"><label for="sh_11100"><span></span></label>'),
                (e += '<ul id="homepagetabs" class="sh-tabs-menu">'),
                (e +=
                    '<li id="sh_11100" class="currenttab" onclick="sh_getStandingsTable(\'' +
                    year +
                    "','" +
                    baseURLDynamic.split("/")[2].substr(3, 2) +
                    "','" +
                    league_id +
                    '\')"><a class="no-sub">' +
                    year +
                    "</a></li>");
            let t = 0;
            for (let a = 0; a < integratedHistory_ar.length; a++) {
                (e +=
                    '<li id="sh_111' +
                    ("0" + t).substr(-2) +
                    '" class="" onclick="sh_getStandingsTable(\'' +
                    integratedHistory_ar[a].yid +
                    "','" +
                    integratedHistory_ar[a].sid +
                    "','" +
                    integratedHistory_ar[a].lid +
                    "')\"><a>" +
                    integratedHistory_ar[a].yid +
                    "</a></li>"),
                    t++;
            }
            (e += "</ul>"),
                (e += "</div>"),
                (e += "</td>"),
                (e += "</tr>"),
                (e += "</tbody>"),
                (e += "</table>"),
                (e +=
                    '<div id="standings_loader"><center style="position:relative;height:12.5rem;padding-top:1.25rem">Loading Standings History . . .<br><br><div class="MFLPlayerPopupLoader" style="margin:0 auto"></div></center></div>'),
                (e += '<div class="sh_tabs_scroll" style="position:relative;display:none"></div>'),
                (e += "</div>"),
                (e += "</div>"),
                $("#standings-history-wrapper").append(e);
        }
        function sh_dostandingsTable(e, t) {
            if ($.trim(e)) {
                var a = parseInt(t);
                $(e).find(".report:eq(0)").appendTo(".sh_tabs_scroll").attr("id", "standings"),
                    $("#standings caption").remove(),
                    $("#standings td.points").text(function (e, t) {
                        return t.replace("-", "0");
                    }),
                    $(".sh-main-caption-span").text(a + " Standings"),
                    $(".sh-main-toggle-tabs li").click(function () {
                        $(".sh-main-toggle-tabs li").removeClass("currenttab"),
                            $(this).addClass("currenttab"),
                            $('.sh-main-toggle-tabs span[id*="sh_title_"]').html(a),
                            $("#sh_11100").prop("checked", !1);
                    }),
                    $("#standings td.franchisename:first").length ||
                    $("#standings td.fname:first").length ||
                    $("#standings td.ficonname:first").length ||
                    $("#standings td.ficon:first").length
                        ? a == year
                            ? ($("#standings td a").attr("href", function (e, t) {
                                  return t.replace("&PRINTER=1", "");
                              }),
                              $("#standings_style_pointer").remove())
                            : 0 == $("#standings_style_pointer").length &&
                              $("head").append(
                                  '<style id="standings_style_pointer">#standings-history-wrapper table td a{pointer-events:none!important;text-decoration:none!important}</style>'
                              )
                        : $("#standings").html(
                              '<h3 style="padding:1.875rem 0.313rem">No Standings For Selected Season</h3>'
                          ),
                    parseInt(t) !== year &&
                        $("#standings tbody:eq(1) tr").each(function () {
                            try {
                                $(this).find("td.player a").attr("href").replace("&PRINTER=1", "").split("=")[2];
                            } catch (e) {}
                        }),
                    $("#standings_loader").hide(),
                    $(".sh_tabs_scroll").show();
            } else
                $(".sh_tabs_scroll").html(
                    '<span class="warning" style="text-align:center;display:block">Error Getting Standings For Selected Season.<br>This is probably due to the selected season not being supported to cross browser requests.<br>The MFL site for this season MUST be HTTPS.<br>You will have to enable SSL for the selected season.<br>Also make sure the selected season is NOT set to private !.</span>'
                );
        }
        function sh_getStandingsTable(e, t, a, r) {
            $(".sh_tabs_scroll").html(""),
                r
                    ? fetch(`https://www${t}.myfantasyleague.com/${e}/standings?L=${a}&PRINTER=1`, {
                          credentials: "include",
                      })
                          .then((t) => {
                              if (!t.ok) throw new Error(`Error getting standings for: ${e}`);
                              return t.text();
                          })
                          .then((t) => {
                              (standingsHistoryData_ar[`yid_${e}`] = t), sh_dostandingsTable(t, e);
                          })
                          .catch((e) => {
                              console.log(e);
                          })
                    : sh_dostandingsTable(standingsHistoryData_ar[`yid_${e}`], e);
        }
        function sh_getStandingsTableLazyLoad(e, t, a) {
            fetch(`https://www${t}.myfantasyleague.com/${e}/standings?L=${a}&PRINTER=1`, { credentials: "include" })
                .then((t) => {
                    if (!t.ok) throw new Error(`Error getting standings for: ${e}`);
                    return t.text();
                })
                .then((t) => {
                    standingsHistoryData_ar[`yid_${e}`] = t;
                })
                .catch((e) => {
                    console.log(e);
                });
        }
        $(".historyNav,.leagueTabNav,.standingsTabNav").show(),
            $(".historyNav.mobileNavs").hide(),
            $("head").append(
                "<style>@media only screen and (max-width: 29em){.historyNav{display:none!important}.historyNav.mobileNavs{display:block!important}}</style>"
            ),
            $("head").append(
                "<style>.sh_tabs_scroll td.franchisename,.sh_tabs_scroll td.ficonname,.sh_tabs_scroll td.fname{width:10.625rem;min-width:10.625rem;max-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}</style>"
            );
    }
    if (load_contractHistory_script && $("#contract-history-wrapper").length) {
        if (void 0 === tableSortInstalled) {
            jQuery("head").append(
                '<script type="text/javascript" src="https://www.mflscripts.com/mfl-apps/tableSort/script.js"></script>'
            );
            tableSortInstalled = !0;
        }
        if (void 0 === ch_Injury) var ch_Injury = !1;
        if (void 0 === ch_Salary) var ch_Salary = !0;
        if (void 0 === ch_Year) var ch_Year = !0;
        if (void 0 === ch_Status) var ch_Status = !0;
        if (void 0 === ch_Info) var ch_Info = !0;
        if (void 0 === ch_salaryDecimal) var ch_salaryDecimal = -1;
        if (void 0 === ch_sortArrow) var ch_sortArrow = "white";
        var contractHistoryData_ar = [],
            sharedHistoryYtdPts_ar = [],
            ch_filterPosition = "",
            ch_filterFranchise = "",
            ch_filterHeader = [];
        function ch_buildTabs() {
            var e = "";
            (e +=
                '<div id="myfantasyleague_tabs" class="ch_tabs_wrap"><table class="homepagemodule report" id="contract_tab_reports" cellspacing="1" align="center"><caption><span class="ch-main-caption-span">' +
                year +
                " Contract Summary</span></caption><tbody></tbody></table>"),
                (e += '<div class="ch_toggle_tabs ch-main-toggle-tabs">'),
                (e += '<table class="report">'),
                (e += "<tbody>"),
                (e += "<tr>"),
                (e += "<td>"),
                (e += '<div class="myfantasyleague_tabmenu historyTabYears">'),
                (e +=
                    '<span id="ch_title_11100" style="z-index:1">' +
                    year +
                    '</span><input id="ch_11100" type="checkbox"><label for="ch_11100"><span></span></label>'),
                (e += '<ul id="homepagetabs" class="ch-tabs-menu">'),
                (e +=
                    '<li id="ch_11100" class="currenttab" onclick="ch_getContractTable(\'' +
                    year +
                    "','" +
                    baseURLDynamic.split("/")[2].substr(3, 2) +
                    "','" +
                    league_id +
                    '\')"><a class="no-sub">' +
                    year +
                    "</a></li>");
            let t = 0;
            for (let a = 0; a < integratedHistory_ar.length; a++) {
                (e +=
                    '<li id="ch_111' +
                    ("0" + t).substr(-2) +
                    '" class="" onclick="ch_getContractTable(\'' +
                    integratedHistory_ar[a].yid +
                    "','" +
                    integratedHistory_ar[a].sid +
                    "','" +
                    integratedHistory_ar[a].lid +
                    "')\"><a>" +
                    integratedHistory_ar[a].yid +
                    "</a></li>"),
                    t++;
            }
            (e += "</ul>"),
                (e += "</div>"),
                (e += "</td>"),
                (e += "</tr>"),
                (e += "</tbody>"),
                (e += "</table>"),
                (e +=
                    '<div id="contract_loader"><center style="position:relative;height:12.5rem;padding-top:1.25rem">Loading Contract History . . .<br><br><div class="MFLPlayerPopupLoader" style="margin:0 auto"></div></center></div>'),
                (e += '<div class="ch_tabs_scroll" style="position:relative;display:none"></div>'),
                (e += "</div>"),
                (e += "</div>"),
                $("#contract-history-wrapper").append(e);
        }
        function ch_trackColumnSorting(e) {
            void 0 === ch_filterHeader[0] || ch_filterHeader[0] !== e
                ? ((ch_filterHeader[0] = e), (ch_filterHeader[1] = 1))
                : (ch_filterHeader[1] = -1 * ch_filterHeader[1]);
        }
        function ch_doContractTable(e, t) {
            if ($.trim(e)) {
                $(e)
                    .find(".report:first")
                    .appendTo(".ch_tabs_scroll")
                    .attr("id", "contractHistortable")
                    .addClass("tablesorter"),
                    $("#contractHistortable tr")
                        .find("th.contractinfo:eq(0),td.contractinfo:eq(0)")
                        .each(function () {
                            $(this).removeClass("contractinfo").addClass("contractstatus");
                        }),
                    $("#contractHistortable tr:first th.salary").after('<th class="ytd-pts">Pts</th>'),
                    $("#contractHistortable tr.oddtablerow,#contractHistortable tr.eventablerow").each(function () {
                        $(this).find("td.salary").after('<td class="ytd-pts"></td>');
                    }),
                    ch_customFunction();
                var a = 0;
                $("#contractHistortable tr:first")
                    .find("th")
                    .each(function () {
                        $(this).find("a").replaceWith($(this).find("a").text()),
                            $(this).attr("onclick", "ch_trackColumnSorting(" + a + ")"),
                            a++;
                    }),
                    $("#contractHistortable tr.reportfooter").remove(),
                    $("#contractHistortable tr:last-child").not(".oddtablerow").not(".eventablerow").remove();
                var r = 0;
                $("#contractHistortable:first tr th").each(function () {
                    $(this).attr("colspan") ? (r += +$(this).attr("colspan")) : r++;
                }),
                    $("#contractHistortable caption").remove(),
                    $("#contractHistortable tr:first").wrap("<thead>"),
                    $("#contractHistortable thead").insertBefore("#contractHistortable tbody"),
                    $("#contractHistortable thead th").wrapInner('<div class="tablesorter-header-inner"></div>'),
                    $('<tbody style="display:none"><tr><td colspan=' + r + "></td></tr></tbody>").insertBefore(
                        "#contractHistortable tbody"
                    ),
                    $(function () {
                        $("#contractHistortable").tablesorter(),
                            $("#contractHistortable")
                                .bind("sortStart", function (e, t) {})
                                .bind("sortEnd", function (e, t) {
                                    ch_applyRowClass();
                                });
                    }),
                    $("#contract-history-wrapper td.player a").each(function () {
                        var e = $(this).attr("class"),
                            a = e.substr(e.indexOf("position_") + 9, e.length);
                        $(this)
                            .closest("tr")
                            .addClass("fran_filtered pos_filtered cr_pos_" + a),
                            t < year && $(this).closest("td").text($(this).text().trim());
                    });
                var s = parseInt(t);
                $(".ch-main-caption-span").text(s + " Contract Summary"),
                    $(".ch-main-toggle-tabs li").click(function () {
                        ch_applyRowClass(),
                            $(".ch-main-toggle-tabs li").removeClass("currenttab"),
                            $(this).addClass("currenttab"),
                            $('.ch-main-toggle-tabs span[id*="ch_title_"]').html(s),
                            $("#ch_11100").prop("checked", !1);
                    }),
                    $("#contractHistortable td.player:first").length
                        ? s == year
                            ? ($("#contractHistortable td a").attr("href", function (e, t) {
                                  return t.replace("&PRINTER=1", "");
                              }),
                              $("#contract_style_pointer").remove())
                            : 0 == $("#contract_style_pointer").length &&
                              $("head").append(
                                  '<style id="contract_style_pointer">#contract-history-wrapper table td a{pointer-events:none!important;text-decoration:none!important}</style>'
                              )
                        : $("#contractHistortable").html(
                              '<h3 style="padding:1.875rem 0.313rem">No Contract Summary For Selected Season</h3>'
                          ),
                    $("#contractHistortable tbody:eq(1) tr").each(function () {
                        try {
                            var e = $(this).find("td.player a").attr("href").replace("&PRINTER=1", "").split("=")[2];
                        } catch (t) {
                            e = "";
                        }
                        sharedHistoryYtdPts_ar.hasOwnProperty("pid_" + e) &&
                            sharedHistoryYtdPts_ar["pid_" + e].hasOwnProperty("yid_" + t) &&
                            $(this)
                                .find("td.ytd-pts")
                                .html(sharedHistoryYtdPts_ar["pid_" + e]["yid_" + t]);
                    }),
                    -1 !== ch_salaryDecimal &&
                        ch_salaryDecimal > 0 &&
                        ch_salaryDecimal < 4 &&
                        $("#contractHistortable tbody:eq(1) tr").each(function () {
                            var e = $(this).find("td.salary").text();
                            -1 === e.indexOf(".") &&
                                (-1 !== e.indexOf("m")
                                    ? $(this)
                                          .find("td.salary")
                                          .text(e.replace("m", "." + "0000".substr(-1 * ch_salaryDecimal) + "m"))
                                    : -1 !== e.indexOf("k")
                                      ? $(this)
                                            .find("td.salary")
                                            .text(e.replace("k", "." + "0000".substr(-1 * ch_salaryDecimal) + "k"))
                                      : $(this)
                                            .find("td.salary")
                                            .text(e + "." + "0000".substr(-1 * ch_salaryDecimal)));
                        }),
                    $("#contract_loader").hide(),
                    $(".ch_tabs_scroll").show(),
                    $("#contractHistortable td.franchisename img").each(function () {
                        var e = $(this).attr("alt");
                        $(this)
                            .parents("td")
                            .append('<span style="display:none">' + e + "</span>");
                    }),
                    "" !== ch_filterFranchise &&
                        $('#contract_options select[name="FRANCHISE"]').val(ch_filterFranchise).trigger("change"),
                    "" !== ch_filterPosition &&
                        $('#contract_options select[name="POSITION"]').val(ch_filterPosition).trigger("change"),
                    void 0 !== ch_filterHeader[0] &&
                        ($("#contractHistortable")
                            .tablesorter()
                            .trigger("sorton", [[[ch_filterHeader[0], "n"]]]),
                        -1 === ch_filterHeader[1] &&
                            $("#contractHistortable")
                                .tablesorter()
                                .trigger("sorton", [[[ch_filterHeader[0], "n"]]]));
            } else
                $(".ch_tabs_scroll").html(
                    '<span class="warning" style="text-align:center;display:block">Error Getting Contracts For Selected Season.<br>This is probably due to the selected season not being supported to cross browser requests.<br>The MFL site for this season MUST be HTTPS.<br>You will have to enable SSL for the selected season.<br>Also make sure the selected season is NOT set to private !.</span>'
                );
        }
        function ch_customFunction() {
            return !1;
        }
        function ch_getContractTable(e, t, a, r) {
            $(".ch_tabs_scroll").html(""),
                r
                    ? fetch(
                          `https://www${t}.myfantasyleague.com/${e}/reports?L=${a}&R=SALARIES&POS=&PRINTER=1&PAGE=ALL`,
                          { credentials: "include" }
                      )
                          .then((t) => {
                              if (!t.ok) throw new Error(`Error getting contracts for: ${e}`);
                              return t.text();
                          })
                          .then((r) => {
                              (contractHistoryData_ar[`yid_${e}`] = r),
                                  shared_getYtdPtsLazyLoad(e, t, a),
                                  ch_doContractTable(r, e);
                          })
                          .catch((e) => {
                              console.log(e);
                          })
                    : ch_doContractTable(contractHistoryData_ar[`yid_${e}`], e);
        }
        function ch_getContractTableLazyLoad(e, t, a) {
            fetch(`https://www${t}.myfantasyleague.com/${e}/reports?L=${a}&R=SALARIES&POS=&PRINTER=1&PAGE=ALL`, {
                credentials: "include",
            })
                .then((t) => {
                    if (!t.ok) throw new Error(`Error getting contracts for: ${e}`);
                    return t.text();
                })
                .then((t) => {
                    contractHistoryData_ar[`yid_${e}`] = t;
                })
                .catch((e) => {
                    console.log(e);
                });
        }
        function shared_getYtdPtsLazyLoad(e, t, a) {
            fetch(`https://www${t}.myfantasyleague.com/${e}/export?TYPE=playerScores&L=${a}&APIKEY=&W=YTD&JSON=1`, {
                credentials: "include",
            })
                .then((t) => {
                    if (!t.ok) throw new Error(`Error getting YTD points for: ${e}`);
                    return t.json();
                })
                .then((t) => {
                    for (var a = 0; a < t.playerScores.playerScore.length; a++)
                        sharedHistoryYtdPts_ar.hasOwnProperty("pid_" + t.playerScores.playerScore[a].id) ||
                            (sharedHistoryYtdPts_ar["pid_" + t.playerScores.playerScore[a].id] = []),
                            (sharedHistoryYtdPts_ar["pid_" + t.playerScores.playerScore[a].id]["yid_" + e] =
                                t.playerScores.playerScore[a].score);
                })
                .catch((e) => {
                    console.log(e);
                });
        }
        function ch_applyRowClass() {
            $("#contractHistortable tbody tr:odd").removeClass("eventablerow").addClass("oddtablerow"),
                $("#contractHistortable tbody tr:even").removeClass("oddtablerow").addClass("eventablerow");
        }
        $(".historyNav,.leagueTabNav,.contractsTabNav").show(),
            $(".historyNav.mobileNavs").hide(),
            $("head").append(
                "<style>@media only screen and (max-width: 29em){.historyNav{display:none!important}.historyNav.mobileNavs{display:block!important}}</style>"
            ),
            $("head").append(
                '<style>#contractHistortable .franchiseicon[src*="mini-"]{width:unset!important;min-width:unset!important;max-width:unset!important;height:unset!important;min-height:unset!important;max-height:unset!important;max-width:15.625rem!important;min-width:8.125rem!important}#contractHistortable .franchiseicon{height:100%;width:auto;max-height:2.5rem}#contractHistortable.tablesorter th{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#contractHistortable.tablesorter th:focus{outline:none!important}#contractHistortable .points{width:6.25rem!important;max-width:6.25rem!important}#contractHistortable .points + .points{width:5rem!important;max-width:5rem!important}.ch_tabs_scroll .player,.ch_tabs_scroll .player + td{width: 12.5rem;min-width: 12.5rem;max-width: 0;overflow: hidden;text-overflow: ellipsis;white-space: nowrap}.ch_tabs_scroll .points{width: 3.125rem!important;max-width: 3.125rem!important}.ch_tabs_scroll th,.ch_tabs_scroll td{text-align:center!important}#contractHistortable.tablesorter .header, #contractHistortable.tablesorter .tablesorter-header {background-image:none!important;padding:0.125rem;cursor:pointer;}#contractHistortable div {white-space:nowrap}#contractHistortable th div{display:inline-flex;align-items:center;margin:0!important;padding:0!important;text-indent:0!important}.ch_tabs_scroll .player,.ch_tabs_scroll td.player + td,.ch_tabs_scroll th.player + th{text-align:left!important}</style>'
            ),
            ch_Injury ||
                $("head").append(
                    "<style>#contractHistortable th:nth-child(4),#contractHistortable td:nth-child(4){display:none!important}</style>"
                ),
            ch_Salary ||
                $("head").append(
                    "<style>#contractHistortable th.salary,#contractHistortable td.salary{display:none!important}</style>"
                ),
            ch_Year ||
                $("head").append(
                    "<style>#contractHistortable th.contractyear,#contractHistortable td.contractyear{display:none!important}</style>"
                ),
            ch_Status ||
                $("head").append(
                    "<style>#contractHistortable th.contractstatus,#contractHistortable td.contractstatus{display:none!important}</style>"
                ),
            ch_Info ||
                $("head").append(
                    "<style>#contractHistortable th.contractinfo,#contractHistortable td.contractinfo{display:none!important}</style>"
                ),
            "white" == ch_sortArrow &&
                $("head").append(
                    "<style>#contractHistortable th div:after {content: url(data:image/gif;base64,R0lGODlhFQAJAIAAAP///////yH5BAEAAAEALAAAAAAVAAkAAAIXjI+AywnaYnhUMoqt3gZXPmVg94yJVQAAOw==);width:1rem;margin-left:-0.188rem!important}#contractHistortable.tablesorter .headerSortUp div:after,#contractHistortable.tablesorter .tablesorter-headerSortUp div:after,#contractHistortable.tablesorter .tablesorter-headerAsc div:after {content: url(data:image/gif;base64,R0lGODlhFQAEAIAAAP///////yH5BAEAAAEALAAAAAAVAAQAAAINjI8Bya2wnINUMopZAQA7)}#contractHistortable.tablesorter .headerSortDown div:after,#contractHistortable.tablesorter .tablesorter-headerSortDown div:after,#contractHistortable.tablesorter .tablesorter-headerDesc div:after {content: url(data:image/gif;base64,R0lGODlhFQAEAIAAAP///////yH5BAEAAAEALAAAAAAVAAQAAAINjB+gC+jP2ptn0WskLQA7)}</style>"
                ),
            "black" == ch_sortArrow &&
                $("head").append(
                    "<style>#contractHistortable th div:after{content: url(data:image/gif;base64,R0lGODlhFQAJAIAAACMtMP///yH5BAEAAAEALAAAAAAVAAkAAAIXjI+AywnaYnhUMoqt3gZXPmVg94yJVQAAOw==);width:1rem;margin-left:-0.188rem!important}#contractHistortable.tablesorter .headerSortUp div:after,#contractHistortable.tablesorter .tablesorter-headerSortUp div:after,#contractHistortable.tablesorter .tablesorter-headerAsc div:after{content: url(data:image/gif;base64,R0lGODlhFQAEAIAAACMtMP///yH5BAEAAAEALAAAAAAVAAQAAAINjI8Bya2wnINUMopZAQA7)}#contractHistortable.tablesorter .headerSortDown div:after,#contractHistortable.tablesorter .tablesorter-headerSortDown div:after,#contractHistortable.tablesorter .tablesorter-headerDesc div:after{content: url(data:image/gif;base64,R0lGODlhFQAEAIAAACMtMP///yH5BAEAAAEALAAAAAAVAAQAAAINjB+gC+jP2ptn0WskLQA7)}</style>"
                );
    }
    if (load_playoffsHistory_script && $("#playoffs-history-wrapper").length) {
        var playoffsHistoryData_ar = [];
        function ph_buildTabs() {
            var e = "";
            (e +=
                '<div id="myfantasyleague_tabs" class="ph_tabs_wrap"><table class="homepagemodule report" id="playoffs_history_table" cellspacing="1" align="center"><caption><span class="ph-main-caption-span">' +
                year +
                " Playoffs</span></caption><tbody></tbody></table>"),
                (e += '<div class="ph_toggle_tabs ph-main-toggle-tabs">'),
                (e += '<table class="report">'),
                (e += "<tbody>"),
                (e += "<tr>"),
                (e += "<td>"),
                (e += '<div class="myfantasyleague_tabmenu historyTabYears">'),
                (e +=
                    '<span id="ph_title_11100" style="z-index:1">' +
                    year +
                    '</span><input id="ph_11100" type="checkbox"><label for="ph_11100"><span></span></label>'),
                (e += '<ul id="homepagetabs" class="ph-tabs-menu">'),
                (e +=
                    '<li id="ph_11100" class="currenttab" onclick="ph_getPlayoffsTable(\'' +
                    year +
                    "','" +
                    baseURLDynamic.split("/")[2].substr(3, 2) +
                    "','" +
                    league_id +
                    '\')"><a class="no-sub">' +
                    year +
                    "</a></li>");
            let t = 0;
            for (let a = 0; a < integratedHistory_ar.length; a++) {
                (e +=
                    '<li id="ph_111' +
                    ("0" + t).substr(-2) +
                    '" class="" onclick="ph_getPlayoffsTable(\'' +
                    integratedHistory_ar[a].yid +
                    "','" +
                    integratedHistory_ar[a].sid +
                    "','" +
                    integratedHistory_ar[a].lid +
                    "')\"><a>" +
                    integratedHistory_ar[a].yid +
                    "</a></li>"),
                    t++;
            }
            (e += "</ul>"),
                (e += "</div>"),
                (e += "</td>"),
                (e += "</tr>"),
                (e += "</tbody>"),
                (e += "</table>"),
                (e +=
                    '<div id="playoffs_loader"><center style="position:relative;height:12.5rem;padding-top:1.25rem">Loading Playoffs History . . .<br><br><div class="MFLPlayerPopupLoader" style="margin:0 auto"></div></center></div>'),
                (e += '<div class="ph_tabs_scroll" style="position:relative;display:none"></div>'),
                (e += "</div>"),
                (e += "</div>"),
                $("#playoffs-history-wrapper").append(e);
        }
        function ph_doplayoffsTable(e, t) {
            $.trim(e)
                ? ($(e).find(".playoffbracket").appendTo(".ph_tabs_scroll").attr("id", "playoffs"),
                  $(".ph-main-toggle-tabs li").click(function () {
                      $(".ph-main-toggle-tabs li").removeClass("currenttab"), $(this).addClass("currenttab");
                      var e = $(this).text();
                      $('.ph-main-toggle-tabs span[id*="ph_title_"]').html(e),
                          $("#ph_11100").prop("checked", !1),
                          $(".ph-main-caption-span").text(e + " Playoffs");
                  }),
                  $("#playoffs_loader").hide(),
                  $(".ph_tabs_scroll").show())
                : $(".ph_tabs_scroll").html(
                      '<span class="warning" style="text-align:center;display:block">Error Getting Playoffs For Selected Season.<br>This is probably due to the selected season not being supported to cross browser requests.<br>The MFL site for this season MUST be HTTPS.<br>You will have to enable SSL for the selected season.<br>Also make sure the selected season is NOT set to private !.</span>'
                  );
        }
        function ph_getPlayoffsTable(e, t, a, r) {
            $(".ph_tabs_scroll").html(""),
                r
                    ? fetch(`https://www${t}.myfantasyleague.com/${e}/options?L=${a}&O=79&PRINTER=1`, {
                          credentials: "include",
                      })
                          .then((t) => {
                              if (!t.ok) throw new Error(`Error getting playoff for: ${e}`);
                              return t.text();
                          })
                          .then((t) => {
                              (playoffsHistoryData_ar[`yid_${e}`] = t), ph_doplayoffsTable(t, e);
                          })
                          .catch((e) => {
                              console.log(e);
                          })
                    : ph_doplayoffsTable(playoffsHistoryData_ar[`yid_${e}`], e);
        }
        function ph_getPlayoffsTableLazyLoad(e, t, a) {
            fetch(`https://www${t}.myfantasyleague.com/${e}/options?L=${a}&O=79&PRINTER=1`, { credentials: "include" })
                .then((t) => {
                    if (!t.ok) throw new Error(`Error getting playoff for: ${e}`);
                    return t.text();
                })
                .then((t) => {
                    playoffsHistoryData_ar[`yid_${e}`] = t;
                })
                .catch((e) => {
                    console.log(e);
                });
        }
        $(".historyNav,.leagueTabNav,.playoffsTabNav").show(),
            $(".historyNav.mobileNavs").hide(),
            $("head").append(
                "<style>.ph_tabs_scroll caption{padding:0.25rem;line-height:unset}.ph_tabs_scroll caption span{font-size:0.875rem}.ph_tabs_scroll .playoffbracket{table-layout:fixed}.ph_tabs_scroll .playoffbracket a,.ph_tabs_scroll .playoffbracket img{pointer-events:none;text-decoration:none}@media only screen and (max-width: 29em){.historyNav{display:none!important}.historyNav.mobileNavs{display:block!important}}</style>"
            );
    }
    if (load_topsHistory_script && $("#tops-history-wrapper").length) {
        if (void 0 === tableSortInstalled) {
            jQuery("head").append(
                '<script type="text/javascript" src="https://www.mflscripts.com/mfl-apps/tableSort/script.js"></script>'
            );
            tableSortInstalled = !0;
        }
        if (void 0 === th_sortArrow) var th_sortArrow = "white";
        if (void 0 === top_show) var top_show = "250";
        var topsHistoryData_ar = [],
            th_filterPosition = "",
            th_filterHeader = [];
        function th_buildTabs() {
            var e = "";
            (e +=
                '<div id="myfantasyleague_tabs" class="th_tabs_wrap"><table class="homepagemodule report" id="tops_tab_reports" cellspacing="1" align="center"><caption><span class="th-main-caption-span">' +
                year +
                ' TOP PLAYERS</span><span><div id="th_options_11100" class="th-control-setting" style=""><div class="th_toggle_settings" style="pointer-events:auto;float:right;margin-right:0.188rem"><i class="fa-regular fa-gears" aria-hidden="true"></i> Filters</div><div id="tops_options"></div></div></span></caption><tbody></tbody></table>'),
                (e += '<div class="th_toggle_tabs th-main-toggle-tabs">'),
                (e += '<table class="report">'),
                (e += "<tbody>"),
                (e += "<tr>"),
                (e += "<td>"),
                (e += '<div class="myfantasyleague_tabmenu historyTabYears">'),
                (e +=
                    '<span id="th_title_11100" style="z-index:1">' +
                    year +
                    '</span><input id="th_11100" type="checkbox"><label for="th_11100"><span></span></label>'),
                (e += '<ul id="homepagetabs" class="th-tabs-menu">'),
                (e +=
                    '<li id="th_11100" class="currenttab" onclick="th_getTopsTable(\'' +
                    year +
                    "','" +
                    baseURLDynamic.split("/")[2].substr(3, 2) +
                    "','" +
                    league_id +
                    '\')"><a class="no-sub">' +
                    year +
                    "</a></li>");
            let t = 0;
            for (let a = 0; a < integratedHistory_ar.length; a++) {
                (e +=
                    '<li id="th_111' +
                    ("0" + t).substr(-2) +
                    '" class="" onclick="th_getTopsTable(\'' +
                    integratedHistory_ar[a].yid +
                    "','" +
                    integratedHistory_ar[a].sid +
                    "','" +
                    integratedHistory_ar[a].lid +
                    "')\"><a>" +
                    integratedHistory_ar[a].yid +
                    "</a></li>"),
                    t++;
            }
            (e += "</ul>"),
                (e += "</div>"),
                (e += "</td>"),
                (e += "</tr>"),
                (e += "</tbody>"),
                (e += "</table>"),
                (e +=
                    '<div id="tops_loader"><center style="position:relative;height:12.5rem;padding-top:1.25rem">Loading Top Players History . . .<br><br><div class="MFLPlayerPopupLoader" style="margin:0 auto"></div></center></div>'),
                (e += '<div class="th_tabs_scroll" style="position:relative;display:none"></div>'),
                (e += "</div>"),
                (e += "</div>"),
                $("#tops-history-wrapper").append(e);
        }
        function th_trackColumnSorting(e) {
            void 0 === th_filterHeader[0] || th_filterHeader[0] !== e
                ? ((th_filterHeader[0] = e), (th_filterHeader[1] = 1))
                : (th_filterHeader[1] = -1 * th_filterHeader[1]);
        }
        function th_doTopsTable(e, t) {
            if ($.trim(e)) {
                var a = $(e).find('form select[name="POSITION"]').appendTo("#tops_options");
                $("#tops_options").html(a),
                    $("#tops_options").prepend("SHOW ONLY "),
                    $(
                        '#tops_options select[name="POSITION"] option[value="(R)"],#tops_options select[name="POSITION"] option[value*="|"]'
                    ).remove(),
                    $(e)
                        .find(".report")
                        .appendTo(".th_tabs_scroll")
                        .attr("id", "topsHistortable")
                        .addClass("tablesorter"),
                    $(
                        "#topsHistortable caption,#topsHistortable tr:first,#topsHistortable .status,#topsHistortable .week"
                    ).remove();
                var r = 0;
                $("#topsHistortable tr:first")
                    .find("th")
                    .each(function () {
                        $(this).attr("onclick", "th_trackColumnSorting(" + r + ")"), r++;
                    });
                var s = 0;
                $("#topsHistortable:first tr th").each(function () {
                    $(this).attr("colspan") ? (s += +$(this).attr("colspan")) : s++;
                }),
                    $("#topsHistortable tr:first").wrap("<thead>"),
                    $("#topsHistortable thead a").contents().unwrap(),
                    $("#topsHistortable thead th").wrapInner('<div class="tablesorter-header-inner"></div>'),
                    $("#topsHistortable thead th.player").append(
                        '<input type="text" id="searchFilter" onkeyup="topsSearch()" placeholder="Search Player" title="Enter Players Last Name" style="pointer-events:auto;width:6.25rem;min-width:auto;padding:0;margin:0;font-size:0.75rem;margin-left:0.625rem;">'
                    ),
                    $("#topsHistortable thead").insertBefore("#topsHistortable tbody"),
                    $('<tbody style="display:none"><tr><td colspan=' + s + "></td></tr></tbody>").insertBefore(
                        "#topsHistortable tbody"
                    ),
                    $('#topsHistortable td[align="center"]:has(b)').addClass("bye-week").html(""),
                    $("#topsHistortable td").each(function () {
                        "&nbsp;" == $(this).html() && ($(this).html(""), $(this).addClass("td-blank"));
                    }),
                    $(function () {
                        $("#topsHistortable").tablesorter(),
                            $("#topsHistortable")
                                .bind("sortStart", function (e, t) {})
                                .bind("sortEnd", function (e, t) {
                                    th_applyRowClass();
                                });
                    }),
                    $('#tops_options select[name="POSITION"] option').val(function (e, t) {
                        return t.replace(/\+/g, ",tr.th_pos_");
                    }),
                    $('#tops_options select[name="POSITION"] option[value="*"]').text("Position"),
                    $("#tops-history-wrapper td.player a").each(function () {
                        var e = $(this).attr("class"),
                            a = e.substr(e.indexOf("position_") + 9, e.length);
                        $(this)
                            .closest("tr")
                            .addClass("fran_filtered pos_filtered th_pos_" + a),
                            t < year && $(this).closest("td").text($(this).text().trim());
                    }),
                    $('#tops_options select[name="POSITION"]').change(function () {
                        th_filterPosition = "*" === $(this).val() ? "" : $(this).val();
                        var e = $(this).val().toLowerCase();
                        $('tr[class*="th_pos_"]').removeClass("pos_filtered").hide(),
                            $("tr.th_pos_" + e)
                                .addClass("pos_filtered")
                                .show(),
                            "*" == $(this).val() && $('tr[class*="th_pos_"]').addClass("pos_filtered").show(),
                            th_applyRowClass();
                    });
                var o = parseInt(t);
                $(".th-main-caption-span").text(o + " Top Players"),
                    $(".th-main-toggle-tabs li").click(function () {
                        th_applyRowClass(),
                            $(".th-main-toggle-tabs li").removeClass("currenttab"),
                            $(this).addClass("currenttab"),
                            $('.th-main-toggle-tabs span[id*="th_title_"]').html(o),
                            $("#th_11100").prop("checked", !1);
                    }),
                    $("#topsHistortable td.player:first").length
                        ? o == year
                            ? ($("#topsHistortable td a").attr("href", function (e, t) {
                                  return t.replace("&PRINTER=1", "");
                              }),
                              $("#tops_style_pointer").remove())
                            : 0 == $("#tops_style_pointer").length &&
                              $("head").append(
                                  '<style id="tops_style_pointer">#topsHistortable td a{pointer-events:none!important;text-decoration:none!important}</style>'
                              )
                        : $("#topsHistortable").html(
                              '<h3 style="padding:1.875rem 0.313rem">No Top Players For Selected Season</h3>'
                          ),
                    "" !== th_filterPosition &&
                        $('#tops_options select[name="POSITION"]').val(th_filterPosition).trigger("change"),
                    void 0 !== th_filterHeader[0] &&
                        ($("#topsHistortable")
                            .tablesorter()
                            .trigger("sorton", [[[th_filterHeader[0], "n"]]]),
                        -1 === th_filterHeader[1] &&
                            $("#topsHistortable")
                                .tablesorter()
                                .trigger("sorton", [[[th_filterHeader[0], "n"]]]));
                const topSpansearch = (e) => Object.assign(document.createElement("span"), { textContent: e }),
                    l = {
                        acceptNode: (e) => (e.data.includes(",") ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT),
                    };
                document.querySelectorAll("#topsHistortable td.player").forEach((e) => {
                    const t = document.createTreeWalker(e, NodeFilter.SHOW_TEXT, l, !1);
                    let a;
                    for (; (a = t.nextNode()); ) {
                        const e = a.data.split(/(?=,)/),
                            t = e.pop();
                        a.replaceWith(...e.map(topSpansearch), t);
                    }
                }),
                    $("#tops_loader").hide(),
                    $(".th_tabs_scroll").show();
            } else
                $(".th_tabs_scroll").html(
                    '<span class="warning" style="text-align:center;display:block">Error Getting Top Players For Selected Season.<br>This is probably due to the selected season not being supported to cross browser requests.<br>The MFL site for this season MUST be HTTPS.<br>You will have to enable SSL for the selected season.<br>Also make sure the selected season is NOT set to private !.</span>'
                );
        }
        function topsSearch() {
            var e, t, a, r;
            for (
                e = document.getElementById("searchFilter").value.toUpperCase(),
                    t = document.getElementById("topsHistortable").getElementsByTagName("tr"),
                    r = 0;
                r < t.length;
                r++
            )
                (a = t[r].getElementsByTagName("span")[0]) &&
                    ((a.textContent || a.innerText).toUpperCase().indexOf(e) > -1
                        ? (t[r].style.display = "")
                        : (t[r].style.display = "none"));
            th_applyRowClass();
        }
        function th_applyRowClass() {
            $("#topsHistortable tr:visible:odd").removeClass("eventablerow").addClass("oddtablerow"),
                $("#topsHistortable tr:visible:even").removeClass("oddtablerow").addClass("eventablerow");
        }
        function th_getTopsTable(e, t, a, r) {
            $(".th_tabs_scroll").html(""),
                r
                    ? fetch(
                          `https://www${t}.myfantasyleague.com/${e}/top?L=${a}&SEARCHTYPE=BASIC&COUNT=${top_show}&YEAR=${e}&START_WEEK=1&END_WEEK=${AllGamesCount}&CATEGORY=overall&POSITION=*&DISPLAY=points&TEAM=*&PRINTER=1`,
                          { credentials: "include" }
                      )
                          .then((t) => {
                              if (!t.ok) throw new Error(`Error getting top players for: ${e}`);
                              return t.text();
                          })
                          .then((t) => {
                              (topsHistoryData_ar[`yid_${e}`] = t), th_doTopsTable(t, e);
                          })
                          .catch((e) => {
                              console.log(e);
                          })
                    : th_doTopsTable(topsHistoryData_ar[`yid_${e}`], e);
        }
        function th_getTopsTableLazyLoad(e, t, a) {
            fetch(
                `https://www${t}.myfantasyleague.com/${e}/top?L=${a}&SEARCHTYPE=BASIC&COUNT=${top_show}&YEAR=${e}&START_WEEK=1&END_WEEK=${AllGamesCount}&CATEGORY=overall&POSITION=*&DISPLAY=points&TEAM=*&PRINTER=1`,
                { credentials: "include" }
            )
                .then((t) => {
                    if (!t.ok) throw new Error(`Error getting top players for: ${e}`);
                    return t.text();
                })
                .then((t) => {
                    topsHistoryData_ar[`yid_${e}`] = t;
                })
                .catch((e) => {
                    console.log(e);
                });
        }
        $(".historyNav,.leagueTabNav,.topsTabNav").show(),
            $(".historyNav.mobileNavs").hide(),
            $("head").append(
                "<style>@media only screen and (max-width: 29em){.historyNav{display:none!important}.historyNav.mobileNavs{display:block!important}}</style>"
            ),
            $(document).on("click", ".th_toggle_settings", function () {
                $("#tops_options").slideToggle("slow");
            }),
            $("head").append(
                '<style>#topsHistortable.tablesorter th{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#topsHistortable.tablesorter th:focus{outline:none!important}#topsHistortable th:nth-child(1){width:3.438rem!important;max-width:3.438rem!important}#topsHistortable.tablesorter .header, #topsHistortable.tablesorter .tablesorter-header {background-image:none!important;padding: 0.125rem;cursor: pointer;}#topsHistortable div{white-space:nowrap}#topsHistortable th div{display:inline-flex;align-items:center;margin:0!important;padding:0!important;text-indent:0!important}#topsHistortable th,#topsHistortable td{text-align:center!important}#topsHistortable .player{max-width:12.5rem;width:12.5rem;min-width:12.5rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left!important}#topsHistortable th.rank div:before{content:"Rk"}#tops_options{display:none;text-align:center;line-height:0;font-size:0.75rem}#tops_options select{pointer-events:auto;width:5.625rem!important;font-size:0.875rem!important;padding:0!important;}.th-control-setting{font-size:0.938rem;cursor:pointer;font-weight:400;display:inline}#topsHistortable td.bye-week:before{content:"B";font-weight:bold}#topsHistortable td.td-blank:before{content:"\\00D8"}</style>'
            ),
            "white" == th_sortArrow &&
                $("head").append(
                    "<style>#topsHistortable th div:after {content: url(data:image/gif;base64,R0lGODlhFQAJAIAAAP///////yH5BAEAAAEALAAAAAAVAAkAAAIXjI+AywnaYnhUMoqt3gZXPmVg94yJVQAAOw==);width:1rem;margin-left:-0.188rem!important}#topsHistortable.tablesorter .headerSortUp div:after,#topsHistortable.tablesorter .tablesorter-headerSortUp div:after,#topsHistortable.tablesorter .tablesorter-headerAsc div:after {content: url(data:image/gif;base64,R0lGODlhFQAEAIAAAP///////yH5BAEAAAEALAAAAAAVAAQAAAINjI8Bya2wnINUMopZAQA7)}#topsHistortable.tablesorter .headerSortDown div:after,#topsHistortable.tablesorter .tablesorter-headerSortDown div:after,#topsHistortable.tablesorter .tablesorter-headerDesc div:after {content: url(data:image/gif;base64,R0lGODlhFQAEAIAAAP///////yH5BAEAAAEALAAAAAAVAAQAAAINjB+gC+jP2ptn0WskLQA7)}</style>"
                ),
            "black" == th_sortArrow &&
                $("head").append(
                    "<style>#topsHistortable th div:after{content: url(data:image/gif;base64,R0lGODlhFQAJAIAAACMtMP///yH5BAEAAAEALAAAAAAVAAkAAAIXjI+AywnaYnhUMoqt3gZXPmVg94yJVQAAOw==);width:1rem;margin-left:-0.188rem!important}#topsHistortable.tablesorter .headerSortUp div:after,#topsHistortable.tablesorter .tablesorter-headerSortUp div:after,#topsHistortable.tablesorter .tablesorter-headerAsc div:after{content: url(data:image/gif;base64,R0lGODlhFQAEAIAAACMtMP///yH5BAEAAAEALAAAAAAVAAQAAAINjI8Bya2wnINUMopZAQA7)}#topsHistortable.tablesorter .headerSortDown div:after,#topsHistortable.tablesorter .tablesorter-headerSortDown div:after,#topsHistortable.tablesorter .tablesorter-headerDesc div:after{content: url(data:image/gif;base64,R0lGODlhFQAEAIAAACMtMP///yH5BAEAAAEALAAAAAAVAAQAAAINjB+gC+jP2ptn0WskLQA7)}</style>"
                );
    }
    if (load_tradesHistory_script && $("#trades-history-wrapper").length) {
        var tradesHistoryData_ar = [];
        function trh_buildTabs() {
            var e = "";
            (e +=
                '<div id="myfantasyleague_tabs" class="trh_tabs_wrap"><table class="homepagemodule report" id="trades_history_table" cellspacing="1" align="center"><caption><span class="trh-main-caption-span">' +
                year +
                ' Trades</span><span><div id="trh_options_11100" class="trh-control-setting" style=""><div class="trh_toggle_settings" style="pointer-events:auto;float:right;margin-right:0.188rem"><i class="fa-regular fa-gears" aria-hidden="true"></i> Filters</div><div id="trades_options"></div></div></span></caption><tbody></tbody></table>'),
                (e += '<div class="trh_toggle_tabs trh-main-toggle-tabs">'),
                (e += '<table class="report">'),
                (e += "<tbody>"),
                (e += "<tr>"),
                (e += "<td>"),
                (e += '<div class="myfantasyleague_tabmenu historyTabYears">'),
                (e +=
                    '<span id="trh_title_11100" style="z-index:1">' +
                    year +
                    '</span><input id="trh_11100" type="checkbox"><label for="trh_11100"><span></span></label>'),
                (e += '<ul id="homepagetabs" class="trh-tabs-menu">'),
                (e +=
                    '<li id="trh_11100" class="currenttab" onclick="trh_getTradesTable(\'' +
                    year +
                    "','" +
                    baseURLDynamic.split("/")[2].substr(3, 2) +
                    "','" +
                    league_id +
                    '\')"><a class="no-sub">' +
                    year +
                    "</a></li>");
            let t = 0;
            for (let a = 0; a < integratedHistory_ar.length; a++) {
                (e +=
                    '<li id="trh_111' +
                    ("0" + t).substr(-2) +
                    '" class="" onclick="trh_getTradesTable(\'' +
                    integratedHistory_ar[a].yid +
                    "','" +
                    integratedHistory_ar[a].sid +
                    "','" +
                    integratedHistory_ar[a].lid +
                    "')\"><a>" +
                    integratedHistory_ar[a].yid +
                    "</a></li>"),
                    t++;
            }
            (e += "</ul>"),
                (e += "</div>"),
                (e += "</td>"),
                (e += "</tr>"),
                (e += "</tbody>"),
                (e += "</table>"),
                (e +=
                    '<div id="trades_loader"><center style="position:relative;height:12.5rem;padding-top:1.25rem">Loading Trades History . . .<br><br><div class="MFLPlayerPopupLoader" style="margin:0 auto"></div></center></div>'),
                (e += '<div class="trh_tabs_scroll" style="position:relative;display:none"></div>'),
                (e += "</div>"),
                (e += "</div>"),
                $("#trades-history-wrapper").append(e);
        }
        function trh_doTradesTable(e, t) {
            if ($.trim(e)) {
                $(e).find(".report").appendTo(".trh_tabs_scroll").attr("id", "tradesHistortable"),
                    $("#tradesHistortable tr").each(function () {
                        "Trade Failed" === $(this).find("td:eq(2)").text() && $(this).remove();
                    }),
                    $("#tradesHistortable tr").each(function () {
                        $(this).find("th:eq(1),td:eq(1)").remove();
                    }),
                    $("#tradesHistortable tr").each(function () {
                        $(this).find("th:eq(1),td:eq(1)").remove();
                    });
                var a = !1;
                $("#tradesHistortable tr")
                    .find("td")
                    .each(function () {
                        (a = !0),
                            $(this)
                                .find("a")
                                .each(function () {
                                    "" !== $(this).text()
                                        ? $(this).replaceWith($(this).text())
                                        : "" !== $(this).find("img").attr("alt") &&
                                          $(this).replaceWith($(this).find("img").attr("alt"));
                                });
                    }),
                    $(".trh-control-setting #trades_options").append(
                        'FRANCHISE <select id="teamselect" name="TEAMSELECT" size="1"><option id="allteamselect" value="Team">Team</option></select>'
                    ),
                    a
                        ? $("#tradesHistortable tr")
                              .find("td:eq(1)")
                              .each(function () {
                                  $(this).html(
                                      $(this)
                                          .html()
                                          .replace(/\<li\>/g, '<li><span class="trades-team-wrapper">')
                                          .replace(/gave up /g, 'gave up</span><ul class="trade-assets-wrapper">')
                                          .replace(/\<\/li\>/g, "</ul></li>")
                                  );
                                  for (
                                      var e = $(this).find("ul.trade-assets-wrapper:eq(0)").text(),
                                          t = $(this).find("ul.trade-assets-wrapper:eq(1)").text(),
                                          a = e.split(";"),
                                          r = t.split(";"),
                                          s = "",
                                          o = 0;
                                      o < a.length;
                                      o++
                                  )
                                      s += "<li>" + a[o].trim() + "</li>";
                                  $(this).find("ul.trade-assets-wrapper:eq(0)").html(s);
                                  for (s = "", o = 0; o < r.length; o++) s += "<li>" + r[o].trim() + "</li>";
                                  $(this).find("ul.trade-assets-wrapper:eq(1)").html(s);
                              })
                        : $("#tradesHistortable").html(
                              '<h3 style="padding:1.875rem 0.313rem">No Trades For Selected Season</h3>'
                          );
                var r = parseInt(t);
                $(".trh-main-caption-span").text(r + " Trades"),
                    $(".trh-main-toggle-tabs li").click(function () {
                        $(".trh-main-toggle-tabs li").removeClass("currenttab"),
                            $(this).addClass("currenttab"),
                            $('.trh-main-toggle-tabs span[id*="trh_title_"]').html(r),
                            $("#trh_11100").prop("checked", !1);
                    }),
                    $(document).on("change", "#teamselect", function (e) {
                        let t = $(this).find("option:selected").text();
                        $("#tradesHistortable:visible .oddtablerow, #tradesHistortable:visible .eventablerow").hide(),
                            $("#tradesHistortable:visible")
                                .find(".trades-team-wrapper:contains(" + t + ")")
                                .closest("tr")
                                .show(),
                            "Team" == t &&
                                $(
                                    "#tradesHistortable:visible .oddtablerow, #tradesHistortable:visible .eventablerow"
                                ).show(),
                            $("#tradesHistortable tr:visible:odd.eventablerow")
                                .addClass("oddtablerow")
                                .removeClass("eventablerow"),
                            $("#tradesHistortable tr:visible:even.oddtablerow")
                                .addClass("eventablerow")
                                .removeClass("oddtablerow");
                    }),
                    $("#trades_loader").hide(),
                    $(".trh_tabs_scroll").show(),
                    trh_getTeamsOptions();
            } else
                $(".trh_tabs_scroll").html(
                    '<span class="warning" style="text-align:center;display:block">Error Getting Trades For Selected Season.<br>This is probably due to the selected season not being supported to cross browser requests.<br>The MFL site for this season MUST be HTTPS.<br>You will have to enable SSL for the selected season.<br>Also make sure the selected season is NOT set to private !.</span>'
                );
        }
        function trh_getTradesTable(e, t, a, r) {
            $(".trh_tabs_scroll, .trh-control-setting #trades_options").html(""),
                r
                    ? fetch(
                          `https://www${t}.myfantasyleague.com/${e}/options?L=${a}&O=03&TYPE=TRADE&DAYS=99999&PRINTER=1`,
                          { credentials: "include" }
                      )
                          .then((t) => {
                              if (!t.ok) throw new Error(`Error getting trades for: ${e}`);
                              return t.text();
                          })
                          .then((t) => {
                              (tradesHistoryData_ar[`yid_${e}`] = t), trh_doTradesTable(t, e);
                          })
                          .catch((e) => {
                              console.log(e);
                          })
                    : trh_doTradesTable(tradesHistoryData_ar[`yid_${e}`], e);
        }
        function trh_getTeamsOptions() {
            $("#trades_options #teamselect .teamoption").remove();
            let e,
                t = [],
                a = [];
            (t.length = 0),
                (a.length = 0),
                $("#tradesHistortable:visible .trades-team-wrapper").each(function () {
                    (theteam = $(this).text().replace(" gave up", "")), t.push(theteam);
                }),
                $.each(t, function (e, t) {
                    -1 === $.inArray(t, a) && a.push(t);
                }),
                $.each(a, function (t, r) {
                    (e = '<option class="teamoption" value="' + a[t] + '">' + a[t] + "</option>"),
                        $("#allteamselect").after(e);
                });
        }
        function trh_getTradesTableLazyLoad(e, t, a) {
            fetch(`https://www${t}.myfantasyleague.com/${e}/options?L=${a}&O=03&TYPE=TRADE&DAYS=99999&PRINTER=1`, {
                credentials: "include",
            })
                .then((e) => e.text())
                .then((t) => {
                    tradesHistoryData_ar[`yid_${e}`] = t;
                })
                .catch((t) => {
                    console.log(`Error Getting Trades For: ${e}`);
                });
        }
        $(".historyNav,.leagueTabNav,.tradesTabNav").show(),
            $(".historyNav.mobileNavs").hide(),
            $("head").append(
                "<style>.trh_tabs_scroll caption{padding:0.25rem;line-height:unset}.trh_tabs_scroll caption span{font-size:0.875rem}#tradesHistortable td{vertical-align:top;}#tradesHistortable li{pointer-events:none;}#tradesHistortable .trades-team-wrapper{font-weight:bold;font-size:0.875rem;}#tradesHistortable .oddtablerow td ul,#tradesHistortable .eventablerow td ul{list-style-type:revert;}#tradesHistortable .oddtablerow ul li,#tradesHistortable .eventablerow ul li{list-style-type:none;}#tradesHistortable .oddtablerow ul li ul li,#tradesHistortable .eventablerow ul li ul li{list-style-type:disc;}#tradesHistortable .oddtablerow td ul li:before,#tradesHistortable .eventablerow td ul li:before{content:initial;font-family:initial;padding-right:initial;margin-left:intiial;}#tradesHistortable .trades-no-trades{text-align:center;padding:1.25rem}.trade-assets-wrapper li{padding-left:0.188rem}#tradesHistortable td,#tradesHistortable th{text-align:left}#tradesHistortable td.rank,#tradesHistortable th.rank{text-align:center;width:3.125rem}#tradesHistortable span.warning{font-weight:bold;font-size:1rem}#tradesHistortable tr.reportfooter td{text-align:center}#tradesHistortable th.transaction{text-indent:1.25rem}#trades_options select{pointer-events:auto}#trades_options{display:none;text-align:center;line-height:0;font-size:0.75rem}.trh-control-setting{font-size:0.938rem;cursor:pointer;font-weight:400;display:inline}#trades_options select{width:5.625rem!important;font-size:0.875rem!important;padding:0!important}@media only screen and (max-width: 29em){.historyNav{display:none!important}.historyNav.mobileNavs{display:block!important}}</style>"
            ),
            $(document).on("click", ".trh_toggle_settings", function () {
                $("#trades_options").slideToggle("slow");
            });
    }
    var isTabClicked = !1;
    $("body").on("click", ".historyTabYears ul#homepagetabs li", function () {
        if (!isTabClicked) {
            isTabClicked = !0;
            var e = $(this).text().trim();
            $(".historyTabYears ul#homepagetabs li").each(function () {
                if ($(this).text().trim() === e && !$(this).hasClass("active")) {
                    var t = $(this);
                    setTimeout(function () {
                        t.click();
                    }, 100);
                }
            }),
                setTimeout(function () {
                    $(".historyTabYears span").text(e), (isTabClicked = !1);
                }, 1e3);
        }
    }),
        $("body").on("click", ".leagueTabNav.inactive", function () {
            $(
                "#standings-history-wrapper,#draft-history-wrapper,#contract-history-wrapper,#playoffs-history-wrapper,#tops-history-wrapper,#trades-history-wrapper"
            ).hide(),
                $("#league-history-wrapper").show(),
                $(".leagueTabNav").removeClass("inactive").addClass("currenttab"),
                $(".standingsTabNav,.draftTabNav,.contractsTabNav,.playoffsTabNav,.topsTabNav,.tradesTabNav")
                    .removeClass("currenttab")
                    .addClass("inactive");
        }),
        $("body").on("click", ".draftTabNav.inactive", function () {
            $(
                "#league-history-wrapper,#standings-history-wrapper,#contract-history-wrapper,#playoffs-history-wrapper,#tops-history-wrapper,#trades-history-wrapper"
            ).hide(),
                $("#draft-history-wrapper").show(),
                $(".draftTabNav").removeClass("inactive").addClass("currenttab"),
                $(".leagueTabNav,.standingsTabNav,.contractsTabNav,.playoffsTabNav,.topsTabNav,.tradesTabNav")
                    .removeClass("currenttab")
                    .addClass("inactive");
        }),
        $("body").on("click", ".standingsTabNav.inactive", function () {
            $(
                "#league-history-wrapper,#draft-history-wrapper,#contract-history-wrapper,#playoffs-history-wrapper,#tops-history-wrapper,#trades-history-wrapper"
            ).hide(),
                $("#standings-history-wrapper").show(),
                $(".standingsTabNav").removeClass("inactive").addClass("currenttab"),
                $(".leagueTabNav,.draftTabNav,.contractsTabNav,.playoffsTabNav,.topsTabNav,.tradesTabNav")
                    .removeClass("currenttab")
                    .addClass("inactive");
        }),
        $("body").on("click", ".contractsTabNav.inactive", function () {
            $(
                "#league-history-wrapper,#draft-history-wrapper,#standings-history-wrapper,#playoffs-history-wrapper,#tops-history-wrapper,#trades-history-wrapper"
            ).hide(),
                $("#contract-history-wrapper").show(),
                $(".contractsTabNav").removeClass("inactive").addClass("currenttab"),
                $(".leagueTabNav,.draftTabNav,.standingsTabNav,.playoffsTabNav,.topsTabNav,.tradesTabNav")
                    .removeClass("currenttab")
                    .addClass("inactive");
        }),
        $("body").on("click", ".playoffsTabNav.inactive", function () {
            $(
                "#league-history-wrapper,#draft-history-wrapper,#standings-history-wrapper,#contract-history-wrapper,#tops-history-wrapper,#trades-history-wrapper"
            ).hide(),
                $("#playoffs-history-wrapper").show(),
                $(".playoffsTabNav").removeClass("inactive").addClass("currenttab"),
                $(".leagueTabNav,.draftTabNav,.standingsTabNav,.contractsTabNav,.topsTabNav,.tradesTabNav")
                    .removeClass("currenttab")
                    .addClass("inactive");
        }),
        $("body").on("click", ".topsTabNav.inactive", function () {
            $(
                "#league-history-wrapper,#draft-history-wrapper,#standings-history-wrapper,#contract-history-wrapper,#playoffs-history-wrapper,#trades-history-wrapper"
            ).hide(),
                $("#tops-history-wrapper").show(),
                $(".topsTabNav").removeClass("inactive").addClass("currenttab"),
                $(".leagueTabNav,.draftTabNav,.standingsTabNav,.contractsTabNav,.playoffsTabNav,.tradesTabNav")
                    .removeClass("currenttab")
                    .addClass("inactive");
        }),
        $("body").on("click", ".tradesTabNav.inactive", function () {
            $(
                "#league-history-wrapper,#draft-history-wrapper,#standings-history-wrapper,#contract-history-wrapper,#playoffs-history-wrapper,#tops-history-wrapper"
            ).hide(),
                $("#trades-history-wrapper").show(),
                $(".tradesTabNav").removeClass("inactive").addClass("currenttab"),
                $(".leagueTabNav,.draftTabNav,.standingsTabNav,.contractsTabNav,.playoffsTabNav,.topsTabNav")
                    .removeClass("currenttab")
                    .addClass("inactive"),
                trh_getTeamsOptions();
        }),
        $("body").on(
            "click",
            '.lh_overall_record a,.lh_overall_awards div,a[href="#get_score_details_all_seasons"],a[href="#get_score_details"]',
            function () {
                const e = document.querySelector("#ls-modal-1-container .ls-modal-content"),
                    t = document.querySelector("#ls-modal-2-container .ls-modal-content"),
                    a = document.querySelector("#ls-modal-3-container .ls-modal-content"),
                    r = document.querySelector("#ls-modal-4-container .ls-modal-content");
                if (
                    ($("#ls-modal-1-container").show(),
                    $("#ls-modal-1-container").addClass("popOpen_one"),
                    $("#ls-modal-2-container,#ls-modal-3-container,#ls-modal-4-container").hide(),
                    jQuery('div[id*="ls-modal-"]').is(":visible"))
                )
                    try {
                        bodyScrollLock.disableBodyScroll(e),
                            bodyScrollLock.disableBodyScroll(t),
                            bodyScrollLock.disableBodyScroll(a),
                            bodyScrollLock.disableBodyScroll(r);
                    } catch (e) {}
                else
                    try {
                        bodyScrollLock.clearAllBodyScrollLocks();
                    } catch (e) {}
            }
        ),
        $("body").on(
            "click",
            "#ls-modal-1-container,#ls-modal-1-container .ls-modal-content.ls-history-modal span.close",
            function () {
                const e = document.querySelector("#ls-modal-1-container .ls-modal-content"),
                    t = document.querySelector("#ls-modal-2-container .ls-modal-content"),
                    a = document.querySelector("#ls-modal-3-container .ls-modal-content"),
                    r = document.querySelector("#ls-modal-4-container .ls-modal-content");
                if (
                    ($("#ls-modal-1-container").hide(),
                    $("#ls-modal-1-container").removeClass("popOpen_one"),
                    jQuery('div[id*="ls-modal-"]').is(":visible"))
                )
                    try {
                        bodyScrollLock.disableBodyScroll(e),
                            bodyScrollLock.disableBodyScroll(t),
                            bodyScrollLock.disableBodyScroll(a),
                            bodyScrollLock.disableBodyScroll(r);
                    } catch (e) {}
                else
                    try {
                        bodyScrollLock.clearAllBodyScrollLocks();
                    } catch (e) {}
            }
        ),
        $("body").on(
            "click",
            '.lh_get_franchise_schedule,.lh_series_td[onclick*="lh_get_series_record"],.lh-popup-record span,a[href="#get_score_details_season"],a[href="#get_player_career_details"]',
            function () {
                const e = document.querySelector("#ls-modal-1-container .ls-modal-content"),
                    t = document.querySelector("#ls-modal-2-container .ls-modal-content"),
                    a = document.querySelector("#ls-modal-3-container .ls-modal-content"),
                    r = document.querySelector("#ls-modal-4-container .ls-modal-content");
                if (
                    ($("#ls-modal-2-container").show(),
                    $("#ls-modal-2-container").addClass("popOpen_two"),
                    $("#ls-modal-1-container,#ls-modal-3-container,#ls-modal-4-container").hide(),
                    jQuery('div[id*="ls-modal-"]').is(":visible"))
                )
                    try {
                        bodyScrollLock.disableBodyScroll(e),
                            bodyScrollLock.disableBodyScroll(t),
                            bodyScrollLock.disableBodyScroll(a),
                            bodyScrollLock.disableBodyScroll(r);
                    } catch (e) {}
                else
                    try {
                        bodyScrollLock.clearAllBodyScrollLocks();
                    } catch (e) {}
            }
        ),
        $("body").on(
            "click",
            "#ls-modal-2-container,#ls-modal-2-container .ls-modal-content.ls-history-modal span.close",
            function () {
                const e = document.querySelector("#ls-modal-1-container .ls-modal-content"),
                    t = document.querySelector("#ls-modal-2-container .ls-modal-content"),
                    a = document.querySelector("#ls-modal-3-container .ls-modal-content"),
                    r = document.querySelector("#ls-modal-4-container .ls-modal-content");
                if (
                    ($("#ls-modal-2-container").hide(),
                    $("#ls-modal-2-container").removeClass("popOpen_two"),
                    $(".popOpen_one").show(),
                    jQuery('div[id*="ls-modal-"]').is(":visible"))
                )
                    try {
                        bodyScrollLock.disableBodyScroll(e),
                            bodyScrollLock.disableBodyScroll(t),
                            bodyScrollLock.disableBodyScroll(a),
                            bodyScrollLock.disableBodyScroll(r);
                    } catch (e) {}
                else
                    try {
                        bodyScrollLock.clearAllBodyScrollLocks();
                    } catch (e) {}
            }
        ),
        $("body").on("click", '.ls-popup-player-li,a[href="#get_player_season_details"]', function () {
            const e = document.querySelector("#ls-modal-1-container .ls-modal-content"),
                t = document.querySelector("#ls-modal-2-container .ls-modal-content"),
                a = document.querySelector("#ls-modal-3-container .ls-modal-content"),
                r = document.querySelector("#ls-modal-4-container .ls-modal-content");
            if (
                ($("#ls-modal-3-container").show(),
                $("#ls-modal-3-container").addClass("popOpen_three"),
                $("#ls-modal-1-container,#ls-modal-2-container,#ls-modal-4-container").hide(),
                jQuery('div[id*="ls-modal-"]').is(":visible"))
            )
                try {
                    bodyScrollLock.disableBodyScroll(e),
                        bodyScrollLock.disableBodyScroll(t),
                        bodyScrollLock.disableBodyScroll(a),
                        bodyScrollLock.disableBodyScroll(r);
                } catch (e) {}
            else
                try {
                    bodyScrollLock.clearAllBodyScrollLocks();
                } catch (e) {}
        }),
        $("body").on(
            "click",
            "#ls-modal-3-container,#ls-modal-3-container .ls-modal-content.ls-history-modal span.close",
            function () {
                const e = document.querySelector("#ls-modal-1-container .ls-modal-content"),
                    t = document.querySelector("#ls-modal-2-container .ls-modal-content"),
                    a = document.querySelector("#ls-modal-3-container .ls-modal-content"),
                    r = document.querySelector("#ls-modal-4-container .ls-modal-content");
                if (
                    ($("#ls-modal-3-container").hide(),
                    $("#ls-modal-3-container").removeClass("popOpen_three"),
                    $(".popOpen_two").show(),
                    jQuery('div[id*="ls-modal-"]').is(":visible"))
                )
                    try {
                        bodyScrollLock.disableBodyScroll(e),
                            bodyScrollLock.disableBodyScroll(t),
                            bodyScrollLock.disableBodyScroll(a),
                            bodyScrollLock.disableBodyScroll(r);
                    } catch (e) {}
                else
                    try {
                        bodyScrollLock.clearAllBodyScrollLocks();
                    } catch (e) {}
            }
        ),
        $("body").on("click", '.lh-popup-points a,a[href="#get_player_score_details"]', function () {
            const e = document.querySelector("#ls-modal-1-container .ls-modal-content"),
                t = document.querySelector("#ls-modal-2-container .ls-modal-content"),
                a = document.querySelector("#ls-modal-3-container .ls-modal-content"),
                r = document.querySelector("#ls-modal-4-container .ls-modal-content");
            if (
                ($("#ls-modal-4-container").show(),
                $("#ls-modal-4-container").addClass("popOpen_four"),
                $("#ls-modal-1-container,#ls-modal-2-container,#ls-modal-3-container").hide(),
                jQuery('div[id*="ls-modal-"]').is(":visible"))
            )
                try {
                    bodyScrollLock.disableBodyScroll(e),
                        bodyScrollLock.disableBodyScroll(t),
                        bodyScrollLock.disableBodyScroll(a),
                        bodyScrollLock.disableBodyScroll(r);
                } catch (e) {}
            else
                try {
                    bodyScrollLock.clearAllBodyScrollLocks();
                } catch (e) {}
        }),
        $("body").on(
            "click",
            "#ls-modal-4-container,#ls-modal-4-container .ls-modal-content.ls-history-modal span.close",
            function () {
                const e = document.querySelector("#ls-modal-1-container .ls-modal-content"),
                    t = document.querySelector("#ls-modal-2-container .ls-modal-content"),
                    a = document.querySelector("#ls-modal-3-container .ls-modal-content"),
                    r = document.querySelector("#ls-modal-4-container .ls-modal-content");
                if (
                    ($("#ls-modal-4-container").hide(),
                    $("#ls-modal-4-container").removeClass("popOpen_four"),
                    $(".popOpen_three").show(),
                    jQuery('div[id*="ls-modal-"]').is(":visible"))
                )
                    try {
                        bodyScrollLock.disableBodyScroll(e),
                            bodyScrollLock.disableBodyScroll(t),
                            bodyScrollLock.disableBodyScroll(a),
                            bodyScrollLock.disableBodyScroll(r);
                    } catch (e) {}
                else
                    try {
                        bodyScrollLock.clearAllBodyScrollLocks();
                    } catch (e) {}
            }
        ),
        $("body").on(
            "click",
            ".ls-modal-content.ls-history-modal:not(.ls-modal-content.ls-history-modal span.close)",
            function (e) {
                e.stopPropagation();
            }
        );
}
if (load_irReport_script) {
    const u = document.getElementById("irReport");
    if (u)
        if (endWeek <= completedWeek) {
            const f = u.querySelector("tfoot");
            f && (f.style.display = "none");
            const b = u.querySelector("tbody");
            if (b) {
                const g = `<tr><th>${year} MFL season has ended - IR Report Disabled</th></tr>`;
                b.innerHTML = g;
            }
        } else if (startWeek > liveScoringWeek) {
            const v = u.querySelector("tfoot");
            v && (v.style.display = "none");
            const k = u.querySelector("tbody");
            if (k) {
                const x = `<tr><th>${year} MFL season has not started - IR Report Disabled</th></tr>`;
                k.innerHTML = x;
            }
        } else {
            if (void 0 === irReport_qualifier)
                var irReport_qualifier = { Q: !1, D: !1, O: !0, I: !0, C: !0, H: !0, S: !1 };
            if (void 0 === irReport_byeWeekException) var irReport_byeWeekException = !0;
            if (void 0 === irReport_includeHistory) var irReport_includeHistory = !0;
            if (void 0 === irReport_franchiseNameIconLogo) var irReport_franchiseNameIconLogo = 0;
            if (void 0 === irReport_violationAfterPlayerLock)
                var irReport_violationAfterPlayerLock = "Player is ineligible for IR and will be cut from roster";
            if (void 0 === irReport_violationBeforePlayerLock)
                var irReport_violationBeforePlayerLock =
                    "WARNING: Player must be activated before kickoff or will be cut from roster";
            if (void 0 === irReport_deactivationDate) var irReport_deactivationDate = !1;
            if (void 0 === irReport_activationDate) var irReport_activationDate = 0;
            if (void 0 === irReport_allInjuries) var irReport_allInjuries = !1;
            if (void 0 === irReportPid_ar) var irReportPid_ar = [];
            const S = document.createElement("script");
            (S.type = "text/javascript"),
                (S.src = `//mflscripts.com/mfl-apps/injury_history/json/injuryTracker2.js?rand=${currentServerTime}`),
                document.head.appendChild(S);
            const L = document.createElement("div");
            (L.id = "ir-report-modal-container"),
                (L.className = "ir-report-modal"),
                (L.innerHTML =
                    '<div class="ir-report-modal-content"><div class="ir-report-modal-header"><span class="close" onclick="document.querySelector(\'#ir-report-modal-container\').removeAttribute(\'style\');const irReportpop = document.querySelector(\'#ir-report-modal-content\');try{bodyScrollLock.enableBodyScroll(irReportpop)}catch(er){};">X</span><h2 id="ir-report-modal-header-content"></h2></div><div class="ir-report-modal-body"><p id="ir-report-modal-content" style="margin-top:0"></p></div></div>'),
                document.body.appendChild(L);
            const T = document.createElement("style");
            async function doMFL_liveSchedule() {
                var e = completedWeek + 1;
                (completedWeek === endWeek || completedWeek > endWeek) && (e = endWeek);
                try {
                    mfl_liveSchedule = { nfl: [] };
                    const a = `w_${e}`,
                        r = reportNflSchedule_ar[a].nflSchedule;
                    if (r.hasOwnProperty("matchup"))
                        if (r.matchup.hasOwnProperty("kickoff"))
                            (mfl_liveSchedule.nfl[r.matchup.team[0].id] = {
                                kickoff: data.nflSchedule.matchup.kickoff,
                            }),
                                (mfl_liveSchedule.nfl[r.matchup.team[1].id] = { kickoff: r.matchup.kickoff });
                        else
                            for (var t = 0; t < r.matchup.length; t++)
                                (mfl_liveSchedule.nfl[r.matchup[t].team[0].id] = { kickoff: r.matchup[t].kickoff }),
                                    (mfl_liveSchedule.nfl[r.matchup[t].team[1].id] = { kickoff: r.matchup[t].kickoff });
                } catch (e) {
                    console.log("No Schedule For NFL Week Requested - doMFL_liveSchedule");
                }
            }
            function doIRReportArrays() {
                try {
                    for (var e = 0; e < reportTransactions_ar.transactions.transaction.length; e++)
                        if (
                            "IR" === reportTransactions_ar.transactions.transaction[e].type &&
                            "" !== reportTransactions_ar.transactions.transaction[e].deactivated
                        )
                            for (
                                var t = reportTransactions_ar.transactions.transaction[e].deactivated.split(","), a = 0;
                                a < t.length;
                                a++
                            )
                                t[a] > 0 &&
                                    void 0 === irReportPid_ar["pid_" + t[a]] &&
                                    (irReportPid_ar["pid_" + t[a]] = parseInt(
                                        reportTransactions_ar.transactions.transaction[e].timestamp
                                    ));
                } catch (e) {}
            }
            function doIRReport_InjuryHistory(e) {
                if (!habmanInjuryTracker.injuries.injury["pid_" + e])
                    return alert("This player has no current injury status"), !1;
                var t = "";
                (t += '<table align="center" cellspacing="1" class="report" id="popup-history-table">'),
                    (t += '<tr><th colspan="2">Listed Chronologically</th></tr>');
                for (var a = 0; a < habmanInjuryTracker.injuries.injury["pid_" + e].records.length; a++) {
                    var r = "";
                    switch (habmanInjuryTracker.injuries.injury["pid_" + e].records[a].injCode) {
                        case "-":
                            r = "healthy";
                            break;
                        case "Q":
                            r = "questionable";
                            break;
                        case "D":
                            r = "doubtful";
                            break;
                        case "O":
                        case "I":
                        case "S":
                        case "C":
                        case "H":
                            r = "out";
                    }
                    if (a % 2) var s = "eventablerow";
                    else s = "oddtablerow";
                    "-" === habmanInjuryTracker.injuries.injury["pid_" + e].records[a].injCode
                        ? (t +=
                              '<tr class="' +
                              s +
                              '"><td>Wk ' +
                              ("0" + habmanInjuryTracker.injuries.injury["pid_" + e].records[a].week).substr(-2) +
                              " " +
                              formatMFLDate(
                                  new Date(
                                      1e3 *
                                          parseInt(habmanInjuryTracker.injuries.injury["pid_" + e].records[a].timestamp)
                                  ),
                                  "ddd MMM dd hh:mmtt"
                              ) +
                              ' </td><td class="ir_td"><span class="ir-report-injury ir-report-' +
                              r +
                              '">' +
                              habmanInjuryTracker.injuries.injury["pid_" + e].records[a].injDetail +
                              "</span></td></tr>")
                        : (t +=
                              '<tr class="' +
                              s +
                              '"><td>Wk ' +
                              ("0" + habmanInjuryTracker.injuries.injury["pid_" + e].records[a].week).substr(-2) +
                              " " +
                              formatMFLDate(
                                  new Date(
                                      1e3 *
                                          parseInt(habmanInjuryTracker.injuries.injury["pid_" + e].records[a].timestamp)
                                  ),
                                  "ddd MMM dd hh:mmtt"
                              ) +
                              ' </td><td class="ir_td"><span class="ir-report-injury ir-report-' +
                              r +
                              '">' +
                              habmanInjuryTracker.injuries.injury["pid_" + e].records[a].injCode +
                              " " +
                              habmanInjuryTracker.injuries.injury["pid_" + e].records[a].injDetail +
                              "</span></td></tr>");
                }
                (t += "</tbody></table>"),
                    mfl_liveSchedule.nfl.hasOwnProperty(playerDatabase["pid_" + e].team)
                        ? (t +=
                              '<br><span style="font-style:italic;display:block;text-align:center">Note: ' +
                              playerDatabase["pid_" + e].team +
                              " week " +
                              (completedWeek + 1) +
                              " kickoff is on " +
                              formatMFLDate(
                                  new Date(
                                      1e3 * parseInt(mfl_liveSchedule.nfl[playerDatabase["pid_" + e].team].kickoff)
                                  ),
                                  "ddd MMM d"
                              ) +
                              " at " +
                              formatMFLDate(
                                  new Date(
                                      1e3 * parseInt(mfl_liveSchedule.nfl[playerDatabase["pid_" + e].team].kickoff)
                                  ),
                                  "h:mmtt"
                              ) +
                              "</span>")
                        : (t +=
                              '<br><span style="font-style:italic;display:block;text-align:center">Note: Player for week ' +
                              (completedWeek + 1) +
                              " is an NFL Free Agent or is on a bye</span>"),
                    (document.getElementById("ir-report-modal-header-content").innerHTML =
                        `${playerDatabase["pid_" + e].name} ${playerDatabase["pid_" + e].team} ${playerDatabase["pid_" + e].position}`),
                    (document.getElementById("ir-report-modal-content").innerHTML = t),
                    (document.getElementById("ir-report-modal-container").style.display = "block"),
                    (document.getElementById("ir-report-modal-content").scrollTop = 0);
                const o = document.querySelector("#ir-report-modal-content");
                try {
                    bodyScrollLock.disableBodyScroll(o);
                } catch (e) {}
            }
            function checkStatusIRReport(e, t) {
                return (
                    !(!irReport_byeWeekException || "Bye" !== e) ||
                    (!!irReport_qualifier.hasOwnProperty(t) && irReport_qualifier[t])
                );
            }
            function getFranchiseIRReport(e) {
                switch (irReport_franchiseNameIconLogo) {
                    case 0:
                        return franchiseDatabase["fid_" + e].name;
                    case 1:
                        return "" !== franchiseDatabase["fid_" + e].icon
                            ? '<img class="franchise_icon" src="' +
                                  franchiseDatabase["fid_" + e].icon +
                                  '" title="' +
                                  franchiseDatabase["fid_" + e].name +
                                  '" alt="' +
                                  franchiseDatabase["fid_" + e].name +
                                  '" />'
                            : "" !== franchiseDatabase["fid_" + e].logo
                              ? '<img class="franchise_logo" src="' +
                                franchiseDatabase["fid_" + e].logo +
                                '" title="' +
                                franchiseDatabase["fid_" + e].name +
                                '" alt="' +
                                franchiseDatabase["fid_" + e].name +
                                '" />'
                              : franchiseDatabase["fid_" + e].name;
                    case 2:
                        return "" !== franchiseDatabase["fid_" + e].logo
                            ? '<img class="franchise_logo" src="' +
                                  franchiseDatabase["fid_" + e].logo +
                                  '" title="' +
                                  franchiseDatabase["fid_" + e].name +
                                  '" alt="' +
                                  franchiseDatabase["fid_" + e].name +
                                  '" />'
                            : "" !== franchiseDatabase["fid_" + e].icon
                              ? '<img class="franchise_icon" src="' +
                                franchiseDatabase["fid_" + e].icon +
                                '" title="' +
                                franchiseDatabase["fid_" + e].name +
                                '" alt="' +
                                franchiseDatabase["fid_" + e].name +
                                '" />'
                              : franchiseDatabase["fid_" + e].name;
                    case 3:
                        return "" !== franchiseDatabase["fid_" + e].icon
                            ? '<img class="franchise_icon" src="' +
                                  franchiseDatabase["fid_" + e].icon +
                                  '" title="' +
                                  franchiseDatabase["fid_" + e].name +
                                  '" alt="' +
                                  franchiseDatabase["fid_" + e].name +
                                  '" /> ' +
                                  franchiseDatabase["fid_" + e].name
                            : "" !== franchiseDatabase["fid_" + e].logo
                              ? '<img class="franchise_logo" src="' +
                                franchiseDatabase["fid_" + e].logo +
                                '" title="' +
                                franchiseDatabase["fid_" + e].name +
                                '" alt="' +
                                franchiseDatabase["fid_" + e].name +
                                '" /> ' +
                                franchiseDatabase["fid_" + e].name
                              : franchiseDatabase["fid_" + e].name;
                    case 4:
                        return "" !== franchiseDatabase["fid_" + e].logo
                            ? '<img class="franchise_logo" src="' +
                                  franchiseDatabase["fid_" + e].logo +
                                  '" title="' +
                                  franchiseDatabase["fid_" + e].name +
                                  '" alt="' +
                                  franchiseDatabase["fid_" + e].name +
                                  '" /> ' +
                                  franchiseDatabase["fid_" + e].name
                            : "" !== franchiseDatabase["fid_" + e].icon
                              ? '<img class="franchise_icon" src="' +
                                franchiseDatabase["fid_" + e].icon +
                                '" title="' +
                                franchiseDatabase["fid_" + e].name +
                                '" alt="' +
                                franchiseDatabase["fid_" + e].name +
                                '" /> ' +
                                franchiseDatabase["fid_" + e].name
                              : franchiseDatabase["fid_" + e].name;
                }
            }
            function doIRReport() {
                var e = 0,
                    t = "";
                if (
                    (irReport_qualifier.Q && (t += "" === t ? "Q(Questionable)" : ", Q(Questionable)"),
                    irReport_qualifier.D && (t += "" === t ? "D(Doubtful)" : ", D(Doubtful)"),
                    irReport_qualifier.O && (t += "" === t ? "O(Out)" : ", O(Out)"),
                    irReport_qualifier.I && (t += "" === t ? "I(IR)" : ", I(IR)"),
                    irReport_qualifier.C && (t += "" === t ? "C(Covid)" : ", C(Covid)"),
                    irReport_qualifier.H && (t += "" === t ? "H(Holdout)" : ", H(Holdout)"),
                    irReport_qualifier.S && (t += "" === t ? "S(Suspended)" : ", S(Suspended)"),
                    "" !== t)
                ) {
                    var a = document.querySelector("tfoot .eligible-wrapper");
                    a && (a.innerHTML = "IR Eligibility - " + t);
                    var r = document.querySelector("thead .eligible-wrapper");
                    r && (r.innerHTML = "IR Eligibility - " + t);
                }
                htmlCode = "";
                var s = "",
                    o = "",
                    l = "",
                    i = "";
                if (irReport_allInjuries) {
                    0;
                    s = '<th style="text-align:center">Fantasy IR</th>';
                }
                if (irReport_includeHistory) {
                    0;
                    o = '<th style="text-align:center">History</th>';
                }
                if (irReport_deactivationDate) {
                    0;
                    l = '<th style="text-align:center">Placed on IR</th>';
                }
                if (irReport_activationDate > 0) {
                    0;
                    i = '<th style="text-align:center">Eligible to Return</th>';
                }
                for (var n in ((htmlCode +=
                    '<tr><th style="text-align:left">Franchise</th><th style="text-align:left">Player</th>' +
                    s +
                    o +
                    '<th style="text-align:center">Kickoff</th><th style="text-align:center">Status</th><th style="text-align:center">Details</th>' +
                    l +
                    i +
                    "</tr>"),
                franchiseDatabase))
                    if (franchiseDatabase.hasOwnProperty(n) && parseInt(franchiseDatabase[n].id) > 0) {
                        var d = franchiseDatabase[n].id;
                        for (var c in mfl_rosters["fid_" + d].player)
                            if (
                                mfl_rosters["fid_" + d].player.hasOwnProperty(c) &&
                                (irReport_allInjuries || "INJURED_RESERVE" == mfl_rosters["fid_" + d].player[c].status)
                            ) {
                                e++;
                                var p = mfl_rosters["fid_" + d].player[c].id,
                                    h = playerDatabase["pid_" + p].name,
                                    _ = playerDatabase["pid_" + p].team,
                                    m = playerDatabase["pid_" + p].position;
                                try {
                                    if (null == mfl_liveSchedule.nfl[_]) var y = "Bye";
                                    else if (currentServerTime > parseInt(mfl_liveSchedule.nfl[_].kickoff))
                                        y = "Locked";
                                    else
                                        y = formatMFLDate(
                                            new Date(1e3 * parseInt(mfl_liveSchedule.nfl[_].kickoff)),
                                            "ddd h:mm"
                                        );
                                } catch (e) {
                                    y = "Bye";
                                }
                                try {
                                    var f = mfl_injuries.player["pid_" + p].details,
                                        b = mfl_injuries.player["pid_" + p].status,
                                        g = mfl_injuries.player["pid_" + p].code;
                                } catch (e) {
                                    (f = "No Injury"), (b = "No Injury"), (g = "N/A");
                                }
                                if (irReport_allInjuries && "No Injury" === b) continue;
                                if (irReport_allInjuries && !irReport_qualifier.hasOwnProperty(g)) continue;
                                if (checkStatusIRReport(y, g))
                                    var v = b,
                                        w = "";
                                else if ("Locked" === y)
                                    (v = irReport_violationAfterPlayerLock), (w = " irViolation_AfterPlayerLock");
                                else (v = irReport_violationBeforePlayerLock), (w = " irViolation_BeforePlayerLock");
                                (htmlCode += e % 2 ? '<tr class="eventablerow">' : '<tr class="oddtablerow">'),
                                    (htmlCode +=
                                        '<td class="ir_franchise" style="text-align:left">' +
                                        getFranchiseIRReport(d) +
                                        "</td>"),
                                    (htmlCode +=
                                        '<td class="player" style="text-align:left"><a href="' +
                                        baseURLDynamic +
                                        "/" +
                                        year +
                                        "/player?L=" +
                                        league_id +
                                        "&P=" +
                                        p +
                                        '" class="position_' +
                                        playerDatabase["pid_" + p].position.toLowerCase() +
                                        '">' +
                                        h +
                                        " " +
                                        _ +
                                        " " +
                                        m +
                                        "</a></td>"),
                                    irReport_allInjuries &&
                                        ("INJURED_RESERVE" == mfl_rosters["fid_" + d].player[c].status
                                            ? (htmlCode +=
                                                  '<td class="ir_fantasy_ir" style="text-align:center"><i class="fa-regular fa-check" aria-hidden="true"></i></td>')
                                            : (htmlCode +=
                                                  '<td class="ir_fantasy_ir" style="text-align:center">&nbsp;</td>')),
                                    irReport_includeHistory &&
                                        (htmlCode +=
                                            '<td class="ir_faicon" style="text-align:center"><i class="fa-regular fa-kit-medical" aria-hidden="true" style="cursor:pointer;color:var(--accent,inherit);font-size:120%;vertical-align:middle" onclick="doIRReport_InjuryHistory(\'' +
                                            p +
                                            '\')" title="Click for Injury History"></i></td>'),
                                    (htmlCode += '<td class="ir_kickoff" style="text-align:center">' + y + "</td>"),
                                    (htmlCode +=
                                        '<td class="ir_status' +
                                        w +
                                        '" title="' +
                                        v +
                                        '" style="text-align:center">' +
                                        g +
                                        "</td>"),
                                    (htmlCode += '<td class="ir_details" style="text-align:center">' + f + "</td>"),
                                    irReport_deactivationDate &&
                                        ("INJURED_RESERVE" == mfl_rosters["fid_" + d].player[c].status
                                            ? (htmlCode +=
                                                  '<td class="ir_deactivation" style="text-align:center">' +
                                                  formatMFLDate(
                                                      new Date(1e3 * irReportPid_ar["pid_" + p]),
                                                      "ddd MMM d"
                                                  ) +
                                                  "</td>")
                                            : (htmlCode +=
                                                  '<td class="ir_deactivation" style="text-align:center">n/a</td>')),
                                    irReport_activationDate > 0 &&
                                        ("INJURED_RESERVE" == mfl_rosters["fid_" + d].player[c].status
                                            ? (htmlCode +=
                                                  '<td class="ir_activation" style="text-align:center">' +
                                                  formatMFLDate(
                                                      new Date(
                                                          1e3 *
                                                              (irReportPid_ar["pid_" + p] +
                                                                  24 * irReport_activationDate * 60 * 60)
                                                      ),
                                                      "ddd MMM d"
                                                  ) +
                                                  '<span class="ir-return-time">' +
                                                  formatMFLDate(
                                                      new Date(
                                                          1e3 *
                                                              (irReportPid_ar["pid_" + p] +
                                                                  24 * irReport_activationDate * 60 * 60)
                                                      ),
                                                      " h:mmTT"
                                                  ) +
                                                  "</span></td>")
                                            : (htmlCode +=
                                                  '<td class="ir_activation" style="text-align:center">n/a</td>')),
                                    (htmlCode += "</tr>");
                            }
                    }
                document.getElementById("IR_Report").innerHTML = htmlCode;
                try {
                    MFLPlayerPopupNewsIcon("irReport");
                } catch (e) {}
                0 === u.querySelectorAll("tbody td").length && u.parentElement.remove(),
                    setTimeout(function () {
                        0 === u.querySelectorAll("tbody td").length && u.parentElement.remove();
                    }, 100);
            }
            (T.textContent =
                '#irReport .playerImgTable .playerDetails{display:none!important}#irReport .playerImgTable{width:100%!important}#irReport .playerImgTable .teamPositionCircle{display:block!important}.ir-report-modal{display:none;position:fixed;z-index:99999;padding-top:1.875rem;left:0;top:0;width:100%;height:100%;overflow:auto;background:#000000b3}@-webkit-keyframes animatetop{from{top:-18.75rem;opacity:0}to{top:0;opacity:1}}@keyframes animatetop{from{top:-18.75rem;opacity:0}to{top:0;opacity:1}}.ir-report-modal-body{padding:.625rem .625rem .063rem;font-size:.813rem}#ir-report-modal-content li,#ir-report-modal-content ul{margin:0;padding:0;list-style:none}#ir-report-modal-content .ir-report-popup-position-li{font-weight:700;font-size:.875rem;padding-left:.313rem}#ir-report-modal-content .ir-report-popup-player-li{position:relative;padding-left:.5rem}#ir-report-modal-content .ir-report-popup-player-li:last-child{border:0}#ir-report-modal-content .ir-report-popup-stats{font-style:italic;display:block;font-size:.688rem;line-height:.688rem;font-weight:400;padding:.125rem 0 .125rem .188rem;max-width:21.875rem}#ir-report-modal-content span.ir-report-popup-points{text-indent:0;display:inline;position:absolute;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);right:.313rem;font-weight:700;font-size:.813rem;border:0}#ir-report_modal-content{padding:0 .625rem}.ir-report-injury{padding-left:.25rem;padding-right:.25rem;border-radius:.25rem;display:inline-block;min-width:6.25rem;text-align:center}.ir-report-healthy{color:#fff;background-color:green}.ir-report-questionable{color:#000;background-color:#ff0}.ir-report-doubtful{color:#000;background-color:orange}.ir-report-out{color:#fff;background-color:red}.ir-report-modal-content{position:relative;padding:0;-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;animation-duration:.4s;max-width:25rem;width:90%;border-radius:.188rem;margin:auto}.ir-report-modal-header{padding:.188rem;background:none;color:#000}#ir-report-modal-content{overflow-x:auto;max-height:65vh}.ir-return-time{font-size:x-small;font-style:italic;display:block}@media only screen and (max-width: 35em){#irReport .cus_player_images table.inner_player_table td{display:inline-block;padding-left:0!important}#irReport .rank{display:none!important}#irReport tabl,#irReport > tbody,#irReport > tbody > tr > th,#irReport > tfoot > tr > th,#irReport > thead > tr > th,#irReport > tbody > tr > td,#irReport > tbody > tr{display:block}#irReport > tbody > tr > th,#irReport > tfoot > tr > th,#irReport > thead > tr > th{position:absolute;top:-9999rem;left:-9999rem}#irReport > tbody > tr > td:before{position:absolute;left:.375rem;padding-right:.313rem;white-space:nowrap;font-size:.75rem}#irReport > tbody > tr > td{padding-left:6.563rem!important;border:0!important;box-shadow:none!important;position:relative;text-align:left!important}#irReport > tbody > tr > td:before{width:5.938rem;text-align:right;top:50%;transform:translateY(-50%)}#irReport > tbody > tr > td.ir_faicon i{margin-top:.188rem}#irReport{max-height:21.875rem}#irReport > tbody > tr > td.ir_franchise:before{content:"Franchise :"}#irReport > tbody > tr > td.player:before{content:"Player :";margin-top:-.125rem}#irReport > tbody > tr > td.ir_faicon:before{content:"Injury History :"}#irReport > tbody > tr > td.ir_deactivation:before{content:"Placed on IR :"}#irReport > tbody > tr > td.ir_activation:before{content:"Eligible Return :"}#irReport > tbody > tr > td.ir_kickoff:before{content:"Kickoff :"}#irReport > tbody > tr > td.ir_status:before{content:"Status :"}#irReport > tbody > tr > td.ir_details:before{content:"Details :"}.ir-return-time{display:inline}#irReport > tbody{max-height:21.875rem;overflow:auto}#irReport thead{display:inline!important}#irReport thead tr{width:100%;display:table}#irReport thead tr th{top:auto;left:auto;position:relative}}@media only screen and (max-width: 26.25em){#ir-report-modal-content td{text-align:center;float:left;width:100%;padding:0}#ir-report-modal-content td.ir_td{padding-bottom:.188rem}}#irReport > tbody > tr > td{white-space:nowrap}#irReport>tbody>tr>td:first-of-type{width:1%}@media only screen and (max-width: 25em){#eligible-wrapper{display:block}}@media only screen and (max-width: 19.938em){#eligible-wrapper{display:none}}'),
                document.head.appendChild(T),
                document.getElementById("ir-report-modal-container").addEventListener("click", function () {
                    document.getElementById("ir-report-modal-container").style.display = "none";
                    const e = document.querySelector("#ir-report-modal-content");
                    try {
                        bodyScrollLock.enableBodyScroll(e);
                    } catch (e) {}
                }),
                document.querySelector(".ir-report-modal-content").addEventListener("click", function (e) {
                    e.stopPropagation();
                });
            try {
                window.MFLGlobalCache.onReady(() => {
                    doMFL_liveSchedule()
                        .then(function (e) {
                            doIRReportArrays(), doIRReport();
                        })
                        .catch(function (e) {
                            console.error("Error triggering IR report:", e);
                        });
                });
            } catch (P) {}
        }
}
if (load_diceRoll_script && document.querySelector("#dice_roll")) {
    if (void 0 === typeof numOfDices) var numOfDices = 10;
    if (void 0 === typeof numOfSides) var numOfSides = 10;
    "undefined" != typeof franchise_id && "undefined" == typeof diceFranID && (diceFranID = franchise_id);
    const A = "https://www.mflscripts.com/mfl-apps/diceRoll/assets/processDiceRoll.php";
    document.addEventListener("DOMContentLoaded", () => {
        if (
            (showLeagueDiceRollResultsForCommish(),
            (commishRolled = !1),
            "undefined" != typeof franchise_id && "" !== franchise_id)
        )
            if ("0000" !== franchise_id) checkIfDiceRolled();
            else {
                const e = document.createElement("tr");
                (e.className = "eventablerow"),
                    (e.innerHTML =
                        '<td id="resetButton" align="center"><input type="submit" value="Reset All Dice Rolls" id="diceResetButton" name="Reset All Dice Rolls" onclick="resetLeagueDiceRoll(); return false;" /></td>'),
                    document.querySelector("#dicebtn_here").after(e);
                const t = document.createElement("tr");
                (t.id = "commishInsertAfter"),
                    (t.className = "eventablerow"),
                    (t.innerHTML = '<td id="diceInputRow" align="center">Roll Dice For Owner</td>'),
                    e.after(t);
                const a = document.createElement("tr");
                (a.className = "oddtablerow dice_btn_row"),
                    (a.innerHTML =
                        '<td id="inputButton" align="center"><input style="pointer-events:none;opacity:.5" type="submit" value="Roll Dice For Owner" id="diceRollButton" name="Roll Dice For Owner" onclick="rollDice(); commishRolled=true; return false;" /></td>'),
                    t.after(a);
                let r = '<tr class="eventablerow"><td>';
                r +=
                    '<select id="diceRollSelect"><option value="" disabled selected hidden>Select Franchise To Roll For:</option>';
                for (const e in franchiseDatabase)
                    franchiseDatabase.hasOwnProperty(e) &&
                        "fid_0000" !== e &&
                        (r += `<option value="${franchiseDatabase[e].id}">${franchiseDatabase[e].name}</option>`);
                (r += "</select></td></tr>"),
                    document.querySelector("#diceInputRow").insertAdjacentHTML("beforeend", r),
                    document.querySelector("#diceRollSelect").addEventListener("change", function () {
                        diceFranID = this.value;
                        const e = document.querySelector("td#inputButton input");
                        e && ((e.style.pointerEvents = ""), (e.style.opacity = "1")),
                            document.querySelectorAll(".commishDiceRollResults").forEach((e) => e.remove());
                    });
            }
    });
    const C = document.createElement("style");
    function showLeagueResultsTable(e) {
        let t = '<table class="homepagemodule report"><tbody style="display:table-row-group"><tr>';
        "undefined" != typeof franchise_id && "" !== franchise_id
            ? "0000" !== franchise_id
                ? (t += "<th>Current Draft Order</th><th>Date of Dice Roll</th><th>Roll Results</th></tr>")
                : (t +=
                      "<th>Current Draft Order</th><th>Date of Dice Roll</th><th>Roll Results</th><th>Reset Roll</th></tr>")
            : (t += "<th>Current Draft Order</th><th>Date of Dice Roll</th><th>Roll Results</th></tr>");
        const a = convertJSONObjectToArray(e);
        let r = !1;
        if (a)
            for (let e = 0; e < a.length; e++)
                if ("object" == typeof a[e]) {
                    const s = a[e],
                        o = franchiseDatabase["fid_" + s.fid];
                    let l = "";
                    (l =
                        o.icon && "" !== o.icon.trim()
                            ? `<img src="${o.icon}" class="franchiseicon" title="${o.name}" />`
                            : o.name),
                        (t += `<tr data-fId="${o.id}" data-name="${o.name}" data-dice="${s.total}" class="franchise_rolls">`),
                        (t += `<td><a href="${window.baseURLDynamic}/${window.year}/options?L=${window.league_id}&F=${o.id}&O=01">${l}</a></td>`),
                        (t += `<td>${s.createdDate}</td>`),
                        (t += `<td class="dice_value">${s.total}</td>`),
                        "undefined" != typeof franchise_id &&
                            "" !== franchise_id &&
                            "0000" === franchise_id &&
                            (t +=
                                '<td><input type="submit" value="Reset" id="diceRemoveBtn" name="Reset" onclick="diceFran_id=this.closest(\'tr\').getAttribute(\'data-fId\');diceFran_name=this.closest(\'tr\').getAttribute(\'data-name\');resetFranchise()"></td>'),
                        (t += "</tr>"),
                        (r = !0);
                }
        t += "</tbody></table>";
        const s = document.getElementById("diceRollResult");
        r ? ((s.innerHTML = t), (s.style.display = "block")) : ((s.innerHTML = ""), (s.style.display = "block"));
    }
    function convertJSONObjectToArray(e) {
        return Object.keys(e)
            .map((t) => ({ ...e[t], fid: t }))
            .sort((e, t) => t.total - e.total);
    }
    function checkIfDiceRolled() {
        const e = `${A}?leagueId=${league_id}&franchiseId=${diceFranID}&checkIfLeagueExist=Y`;
        fetch(e, { method: "GET" })
            .then((e) => {
                if (!e.ok) throw new Error("Network response was not ok.");
                return e.json();
            })
            .then((e) => {
                if (commishRolled) {
                    if ("object" == typeof e) {
                        const { total: t, createdDate: a } = e,
                            r = document.createElement("tr");
                        (r.className = "oddtablerow commishDiceRollResults"),
                            (r.innerHTML = `<td align="center"><span class="warning">Your dice roll results of ${t} were submitted on ${a}</span></td>`),
                            document.querySelector("#dicebtn_here").after(r),
                            (r.style.display = "table-row");
                    }
                } else if ("object" == typeof e) {
                    const { total: t, createdDate: a } = e,
                        r = document.createElement("tr");
                    (r.className = "oddtablerow"),
                        (r.innerHTML = `<td align="center"><span class="warning">Your dice roll results of ${t} were submitted on ${a}</span></td>`),
                        document.querySelector("#dicebtn_here").after(r),
                        (r.style.display = "table-row");
                } else {
                    const e = document.createElement("tr");
                    (e.className = "oddtablerow dice_btn_row"),
                        (e.innerHTML =
                            '<td id="inputButton" align="center"><input type="submit" value="Roll the Dice" id="diceRollButton" name="Roll the Dice" onclick="rollDice(); return false;" /></td>'),
                        document.querySelector("#dicebtn_here").after(e);
                }
            })
            .catch((e) => {
                console.error("Error:", e);
            });
    }
    function postDiceDetails(e) {
        const t = `${A}?leagueId=${league_id}&franchiseId=${diceFranID}&total=${e}&checkIfLeagueExist=N`;
        fetch(t, { method: "GET" })
            .then((e) => {
                if (!e.ok) throw new Error("Network response was not ok.");
                if (commishRolled) {
                    document.getElementById("diceRollSelect").selectedIndex = 0;
                    const e = document.querySelector("td#inputButton input");
                    e && ((e.style.pointerEvents = "none"), (e.style.opacity = "0.5"));
                } else {
                    const e = document.querySelector(".dice_btn_row");
                    e && e.remove();
                }
                showLeagueDiceRollResultsForCommish();
                const t = `${A}?leagueId=${league_id}&franchiseId=${diceFranID}&checkIfLeagueExist=Y`;
                return fetch(t, { method: "GET" });
            })
            .then((e) => {
                if (!e.ok) throw new Error("Network response was not ok.");
                return e.json();
            })
            .then((e) => {
                if (commishRolled) {
                    if ("object" == typeof e) {
                        const { total: t, createdDate: a } = e,
                            r = document.createElement("tr");
                        (r.className = "oddtablerow commishDiceRollResults"),
                            (r.innerHTML = `<td align="center"><span class="warning">Your dice roll results of ${t} were submitted on ${a}</span></td>`),
                            document.querySelector("#dicebtn_here").after(r);
                    }
                } else if ("object" == typeof e) {
                    const { total: t, createdDate: a } = e,
                        r = document.createElement("tr");
                    (r.className = "oddtablerow"),
                        (r.innerHTML = `<td align="center"><span class="warning">Your dice roll results of ${t} were submitted on ${a}</span></td>`),
                        document.querySelector("#dicebtn_here").after(r);
                } else {
                    const e = document.createElement("tr");
                    (e.className = "oddtablerow dice_btn_row"),
                        (e.innerHTML =
                            '<td id="inputButton" align="center"><input type="submit" value="Roll the Dice" id="diceRollButton" name="Roll the Dice" onclick="rollDice(); return false;" /></td>'),
                        document.querySelector("#dicebtn_here").after(e);
                }
            })
            .catch((e) => {
                console.error("Error:", e);
            });
    }
    function resetLeagueDiceRoll() {
        if (confirm("Click 'OK' to reset all dice rolls for your league. Click 'CANCEL' to exit.")) {
            const e = `${A}?leagueId=${league_id}&resetLeagueData=Y`;
            fetch(e, { method: "GET" })
                .then((e) => {
                    if (!e.ok) throw new Error("Network response was not ok.");
                    {
                        const e = document.querySelector("#diceRollSelect");
                        e && (e.selectedIndex = 0);
                        document.querySelectorAll(".commishDiceRollResults").forEach((e) => e.remove());
                        document.querySelectorAll("td#inputButton input").forEach((e) => {
                            (e.style.pointerEvents = "none"), (e.style.opacity = "0.5");
                        }),
                            showLeagueDiceRollResultsForCommish();
                    }
                })
                .catch((e) => {
                    console.error("Error:", e);
                });
        }
    }
    function resetFranchise() {
        const e = `Click 'OK' to reset ${diceFran_name} Dice Roll. Click 'CANCEL' to exit.`;
        if (confirm(e)) {
            const e = `${A}?leagueId=${league_id}&franchiseId=${diceFran_id}&resetFranchise=Y`;
            fetch(e, { method: "GET" })
                .then((e) => {
                    if (!e.ok) throw new Error("Network response was not ok.");
                    showLeagueDiceRollResultsForCommish();
                })
                .catch((e) => {
                    console.error("Error:", e);
                });
        }
    }
    function rollDice() {
        const e = document.querySelector(`#diceRollResult tr[data-fId="${diceFranID}"]`),
            t = document.querySelector("#dicebtn_here"),
            a = document.querySelector("#diceRollSelect"),
            r = document.querySelectorAll("td#inputButton input");
        if (e) {
            const e = document.createElement("tr");
            (e.className = "oddtablerow commishDiceRollResults"),
                (e.innerHTML =
                    '\n            <td align="center">\n                <span class="warning">This Franchise has already rolled!</span>\n            </td>'),
                t.insertAdjacentElement("afterend", e),
                a && (a.selectedIndex = 0),
                r.forEach((e) => {
                    (e.style.pointerEvents = "none"), (e.style.opacity = "0.5");
                });
        } else {
            const e = document.createElement("tr");
            (e.id = "diceRollImg"),
                (e.className = "eventablerow"),
                (e.innerHTML =
                    '<td align="center"><div class="sliding-content"><img style="-webkit-transform: scaleY(-1); transform: scaleY(-1); width:5rem; height:auto; vertical-align:bottom;" align="middle" src="https://www.mflscripts.com/mfl-apps/diceRoll/dice.gif"><img style="width:6.25rem; height:auto; vertical-align:middle;" align="middle" src="https://www.mflscripts.com/mfl-apps/diceRoll/dice.gif"><img style="-webkit-transform: scale(-1); transform: scale(-1); width:5rem; height:auto; vertical-align:bottom;" align="middle" src="https://www.mflscripts.com/mfl-apps/diceRoll/dice.gif"></div></td>'),
                t.insertAdjacentElement("afterend", e);
            const a = e.querySelector(".sliding-content");
            (a.style.maxHeight = "0"),
                (a.style.overflow = "hidden"),
                (a.style.transition = "max-height 0.5s ease, opacity 0.5s ease"),
                (a.style.opacity = "0");
            let r = 0;
            for (let e = 1; e <= numOfDices; e++) r += Math.floor(Math.random() * numOfSides) + 1;
            setTimeout(() => {
                (a.style.maxHeight = "500px"), (a.style.opacity = "1");
            }, 100),
                setTimeout(() => {
                    (a.style.maxHeight = "0"),
                        (a.style.opacity = "0"),
                        setTimeout(() => {
                            postDiceDetails(r),
                                setTimeout(() => {
                                    e.remove();
                                }, 100);
                        }, 500);
                }, 1500);
        }
    }
    (C.textContent = `#diceRollResult td, #diceRollResult th{text-align:left}#dice_roll .franchiseicon{height:${diceFranchiseIconHeight}${useREM ? "rem" : "px"}!important;width:${diceFranchiseIconWidth}${useREM ? "rem" : "px"}!important;vertical-align:middle}`),
        document.head.appendChild(C),
        (window.showLeagueDiceRollResultsForCommish = async function () {
            const e = `${A}?leagueId=${league_id}&getLeagueDataForCommish=Y`;
            try {
                const t = await fetch(e, { method: "GET" });
                if (!t.ok) throw new Error("Network response was not ok.");
                const a = await t.json();
                "object" == typeof a && showLeagueResultsTable(a);
            } catch (e) {
                console.error("Error:", e);
            }
        });
}
function restoreHPM() {
    preventDBLClick &&
        ((preventDBLClick = !1),
        $.ajax({
            url: `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&SEQNO=501&PRINTER=1`,
            type: "GET",
            dataType: "html",
            xhrFields: { withCredentials: !0 },
            success: function (e) {
                var t = $(e).find("#MSG").val();
                $.ajax({
                    url: `${baseURLDynamic}/${year}//csetup?L=${league_id}&C=HMPGMSG&SEQNO=502&PRINTER=1`,
                    type: "GET",
                    dataType: "html",
                    xhrFields: { withCredentials: !0 },
                    success: function (e) {
                        var a = $(e).find("#MSG").val();
                        $.ajax({
                            url: `${baseURLDynamic}/${year}//csetup?L=${league_id}&C=HMPGMSG&SEQNO=503&PRINTER=1`,
                            type: "GET",
                            dataType: "html",
                            xhrFields: { withCredentials: !0 },
                            success: function (e) {
                                var r = $(e).find("#MSG").val();
                                if (t.length > 0 || a.length > 0 || r.length > 0) {
                                    $("body").append(
                                        '<div class="restoreHPMWrap" style="position:fixed;height:100%;width:100%;background:rgba(0, 0, 0, 0.7);left:0;top:0;z-index:99999"></div><div class="restoreHPMs"><span id="MFLPlayerPopupClose" class="restoreHPMClose">X</span><input style="display:block;margin:0.625rem auto" type="button" onclick="backupHPMs();" value="Backup All Homepage Messages"><input id="HPM_Restore_btn" style="display:block;margin:0.625rem auto" type="button" onclick="restoreHPMs();" value="Restore All Homepage Messages"><input id="HPM_Delete_btn" style="display:block;margin:0.625rem auto" type="button" onclick="deleteHPMs();" value="Delete All Homepage Messages"><h3 style="line-height:2.125rem;">Copy HPMs To Another League</h3><input id="copyLeague" maxlength="5" type="number" placeholder="Enter 5 Digit LeagueID"><h4 style="font-size:0.75rem;color:red;width:80%;margin:0 auto;margin-top:0.625rem">You MUST be logged in as commissioner to the site you are copying HPMs to.</h4><input id="HPM_Copy_btn" style="display:block;margin:0.625rem auto" disabled="disabled" type="button" onclick="copyHPMs();" value="Copy HPMs"><input id="HPTabs_Copy_btn" style="display:block;margin:0.625rem auto" type="button" onclick="copyTabsLayout();" value="Backup Homepage Tabs Layout"><input id="HPTabs_Restore_btn" style="display:block;margin:0.625rem auto" disabled="disabled" type="button" onclick="restoreTabsLayout();" value="Restore Homepage Tabs Layout"><h3 style="line-height:2.125rem;">Copy Tabs Layout To Another League</h3><input id="copyLayout" maxlength="5" type="number" placeholder="Enter 5 Digit LeagueID"><h4 style="font-size:0.75rem;color:red;width:80%;margin:0 auto;margin-top:0.625rem">You MUST be logged in as commissioner to the site you are copying layout to.</h4><input id="HPM_Layout_btn" style="display:block;margin:0.625rem auto" disabled="disabled" type="button" onclick="copyLayout();" value="Copy Tabs Layout"></div>'
                                    );
                                    const s = document.getElementById("copyLeague"),
                                        o = document.getElementById("copyLayout");
                                    function limitDigits(e, t) {
                                        e.addEventListener("input", () => {
                                            if (e.value.length > t)
                                                (e.value = Math.floor(e.value / 10)),
                                                    $("#HPM_Copy_btn").attr("disabled", "disabled");
                                            else if (5 === e.value.length) {
                                                0 === $("#copyLeagueYEAR").length &&
                                                    $("#copyLeague").after(
                                                        '<input id="copyLeagueYEAR" maxlength="4" type="number" placeholder="Enter Year">'
                                                    );
                                                const e = document.getElementById("copyLeagueYEAR");
                                                limitDigitsYear(e, 4);
                                            } else
                                                e.value.length < 5 &&
                                                    ($("#HPM_Copy_btn").attr("disabled", "disabled"),
                                                    $("#copyLeagueYEAR").remove());
                                        });
                                    }
                                    function limitDigitsLayout(e, t) {
                                        e.addEventListener("input", () => {
                                            if (e.value.length > t)
                                                (e.value = Math.floor(e.value / 10)),
                                                    $("#HPM_Layout_btn").attr("disabled", "disabled");
                                            else if (5 === e.value.length) {
                                                0 === $("#copyLayoutYEAR").length &&
                                                    $("#copyLayout").after(
                                                        '<input id="copyLayoutYEAR" maxlength="4" type="number" placeholder="Enter Year">'
                                                    );
                                                const e = document.getElementById("copyLayoutYEAR");
                                                limitDigitsLayoutYear(e, 4);
                                            } else
                                                e.value.length < 5 &&
                                                    ($("#HPM_Layout_btn").attr("disabled", "disabled"),
                                                    $("#copyLayoutYEAR").remove());
                                        });
                                    }
                                    function limitDigitsYear(e, t) {
                                        e.addEventListener("input", () => {
                                            e.value.length > t
                                                ? (e.value = Math.floor(e.value / 10))
                                                : 4 === e.value.length
                                                  ? $("#HPM_Copy_btn").removeAttr("disabled")
                                                  : e.value.length < 4 &&
                                                    $("#HPM_Copy_btn").attr("disabled", "disabled");
                                        });
                                    }
                                    function limitDigitsLayoutYear(e, t) {
                                        e.addEventListener("input", () => {
                                            e.value.length > t
                                                ? (e.value = Math.floor(e.value / 10))
                                                : 4 === e.value.length
                                                  ? $("#HPM_Layout_btn").removeAttr("disabled")
                                                  : e.value.length < 4 &&
                                                    $("#HPM_Layout_btn").attr("disabled", "disabled");
                                        });
                                    }
                                    limitDigits(s, 5), limitDigitsLayout(o, 5);
                                } else {
                                    $("body").append(
                                        '<div class="restoreHPMWrap" style="position:fixed;height:100%;width:100%;background:rgba(0, 0, 0, 0.7);left:0;top:0;z-index:99999"></div><div class="restoreHPMs"><span id="MFLPlayerPopupClose" class="restoreHPMClose">X</span><input style="display:block;margin:0.625rem auto" type="button" onclick="backupHPMs();" value="Backup All Homepage Messages"><input id="HPM_Restore_btn" style="display:block;margin:0.625rem auto" type="button" onclick="restoreHPMs();" disabled="disabled" value="Restore All Homepage Messages"><input id="HPM_Delete_btn" style="display:block;margin:0.625rem auto" type="button" onclick="deleteHPMs();" value="Delete All Homepage Messages"><h3 style="line-height:2.125rem;">Copy HPMs To Another League</h3><input id="copyLeague" maxlength="5" type="number" placeholder="Enter 5 Digit LeagueID"><h4 style="font-size:0.75rem;color:red;width:80%;margin:0 auto;margin-top:0.625rem">You MUST be logged in as commissioner to the site you are copying HPMs to.</h4><input id="HPM_Copy_btn" style="display:block;margin:0.625rem auto" disabled="disabled" type="button" onclick="copyHPMs();" value="Copy HPMs"><input id="HPTabs_Copy_btn" style="display:block;margin:0.625rem auto" type="button" onclick="copyTabsLayout();" value="Backup Homepage Tabs Layout"><input id="HPTabs_Restore_btn" style="display:block;margin:0.625rem auto" disabled="disabled" type="button" onclick="restoreTabsLayout();" value="Restore Homepage Tabs Layout"><h3 style="line-height:2.125rem;">Copy Tabs Layout To Another League</h3><input id="copyLayout" maxlength="5" type="number" placeholder="Enter 5 Digit LeagueID"><h4 style="font-size:0.75rem;color:red;width:80%;margin:0 auto;margin-top:0.625rem">You MUST be logged in as commissioner to the site you are copying layout to.</h4><input id="HPM_Layout_btn" style="display:block;margin:0.625rem auto" disabled="disabled" type="button" onclick="copyLayout();" value="Copy Tabs Layout"></div>'
                                    );
                                    const l = document.getElementById("copyLeague"),
                                        i = document.getElementById("copyLayout");
                                    function limitDigits(e, t) {
                                        e.addEventListener("input", () => {
                                            if (e.value.length > t)
                                                (e.value = Math.floor(e.value / 10)),
                                                    $("#HPM_Copy_btn").attr("disabled", "disabled");
                                            else if (5 === e.value.length) {
                                                0 === $("#copyLeagueYEAR").length &&
                                                    $("#copyLeague").after(
                                                        '<input id="copyLeagueYEAR" maxlength="4" type="number" placeholder="Enter Year">'
                                                    );
                                                const e = document.getElementById("copyLeagueYEAR");
                                                limitDigitsYear(e, 4);
                                            } else
                                                e.value.length < 5 &&
                                                    ($("#HPM_Copy_btn").attr("disabled", "disabled"),
                                                    $("#copyLeagueYEAR").remove());
                                        });
                                    }
                                    function limitDigitsLayout(e, t) {
                                        e.addEventListener("input", () => {
                                            if (e.value.length > t)
                                                (e.value = Math.floor(e.value / 10)),
                                                    $("#HPM_Layout_btn").attr("disabled", "disabled");
                                            else if (5 === e.value.length) {
                                                0 === $("#copyLayoutYEAR").length &&
                                                    $("#copyLayout").after(
                                                        '<input id="copyLayoutYEAR" maxlength="4" type="number" placeholder="Enter Year">'
                                                    );
                                                const e = document.getElementById("copyLayoutYEAR");
                                                limitDigitsLayoutYear(e, 4);
                                            } else
                                                e.value.length < 5 &&
                                                    ($("#HPM_Layout_btn").attr("disabled", "disabled"),
                                                    $("#copyLayoutYEAR").remove());
                                        });
                                    }
                                    function limitDigitsYear(e, t) {
                                        e.addEventListener("input", () => {
                                            e.value.length > t
                                                ? (e.value = Math.floor(e.value / 10))
                                                : 4 === e.value.length
                                                  ? $("#HPM_Copy_btn").removeAttr("disabled")
                                                  : e.value.length < 4 &&
                                                    $("#HPM_Copy_btn").attr("disabled", "disabled");
                                        });
                                    }
                                    function limitDigitsLayoutYear(e, t) {
                                        e.addEventListener("input", () => {
                                            e.value.length > t
                                                ? (e.value = Math.floor(e.value / 10))
                                                : 4 === e.value.length
                                                  ? $("#HPM_Layout_btn").removeAttr("disabled")
                                                  : e.value.length < 4 &&
                                                    $("#HPM_Layout_btn").attr("disabled", "disabled");
                                        });
                                    }
                                    limitDigits(l, 5), limitDigitsLayout(i, 5);
                                }
                                $.ajax({
                                    url: `${baseURLDynamic}/${year}//csetup?L=${league_id}&C=HMPGMSG&SEQNO=301&PRINTER=1`,
                                    type: "GET",
                                    dataType: "html",
                                    xhrFields: { withCredentials: !0 },
                                    success: function (e) {
                                        $(e).find("#MSG").val().length > 0
                                            ? $("#HPTabs_Restore_btn").removeAttr("disabled")
                                            : $("#HPTabs_Restore_btn").attr("disabled", "disabled");
                                    },
                                });
                            },
                        });
                    },
                });
            },
        }));
}
function copyTabsLayout() {
    confirm(
        "Do you wish to backup your Homepage Layout? This will overwrite your current Homepage Layout backup if you have created one before."
    ) && copyTabsLayoutRun();
}
function restoreTabsLayout() {
    confirm("Do you wish to restore your saved Homepage Layout? This will overwrite your current Homepage Layout") &&
        restoreSiteLayout();
}
function deleteHPMs() {
    confirm(
        "Beware !! This will remove all current HPMs. Do you wish to continue? We recommend running a backup of your site before deleting all HPMs. You can then install this script in any HPM and run a restore."
    ) &&
        ($("body").css("pointer-events", "none"),
        $(".HPMFinished,.HPMWarning").remove(),
        $(".restoreHPMs").append(
            '<div style="text-align:center;font-weight:bold" class="HPMWarning">Do not leave this page or close out this box until all messages are deleted and site is refreshed.</br><i style="font-size:1.875rem;margin:1.625rem 0" class="fa-regular fa-spinner fa-spin fa-2xl"></i></div>'
        ),
        delete_MFL_HPMs());
}
function backupHPMs() {
    confirm("Do you wish to backup all your current HPMs? This will overwrite any existing backups.") &&
        ($("body").css("pointer-events", "none"),
        $(".HPMFinished,.HPMWarning").remove(),
        $(".restoreHPMs").append(
            '<div style="text-align:center;font-weight:bold" class="HPMWarning">Do not leave this page or close out this box until all messages are backed up and site is refreshed.</br><i style="font-size:1.875rem;margin:1.625rem 0" class="fa-regular fa-spinner fa-spin fa-2xl"></i></div>'
        ),
        backupSiteHPMs());
}
function restoreHPMs() {
    confirm("Do you wish to restore all your HPMs? This will overwrite all current HPMs.") &&
        ($("body").css("pointer-events", "none"),
        $(".HPMFinished,.HPMWarning").remove(),
        $(".restoreHPMs").append(
            '<div style="text-align:center;font-weight:bold;color:red" class="HPMWarning">Do not leave this page or close out this box until all messages are restored up and site is refreshed.</br><i style="font-size:1.875rem;margin:1.625rem 0" class="fa-regular fa-spinner fa-spin fa-2xl"></i></div>'
        ),
        restoreSiteHPMs());
}
function HPMfinished() {
    $("body").css("pointer-events", ""),
        $(".HPMStatus").remove(),
        $(".HPMWarning").replaceWith(
            '<div style="text-align:center;font-weight:bold;color:green" class="HPMFinished">Finished ! Page will reload in 1 second.</div>'
        ),
        setTimeout(() => {
            location.reload();
        }, 1e3);
}
function copyHPMs() {
    confirm(
        "You must be signed in as commissioner to both sites you are copying from and to. This will delete all HPMs on the destination site. Are you sure you want to proceed? Attn: Copy over css file before installing HPMs on new site."
    )
        ? ($("body").css("pointer-events", "none"),
          $(".HPMFinished,.HPMWarning").remove(),
          $(".restoreHPMs").append(
              '<div style="text-align:center;font-weight:bold" class="HPMWarning">Do not leave this page or close out this box until all messages are copied to new site and this page is refreshed.</br><i style="font-size:1.875rem;margin:1.625rem 0" class="fa-regular fa-spinner fa-spin fa-2xl"></i></div>'
          ),
          (copyinputVal = document.getElementById("copyLeague").value),
          (copyinputYearVal = document.getElementById("copyLeagueYEAR").value),
          $("#copyLayoutYEAR,#copyLeagueYEAR").remove(),
          $("#HPM_Layout_btn,#HPM_Copy_btn").attr("disabled", "disabled"),
          GetServerID())
        : ((copyinputVal = league_id),
          (copyinputYearVal = year),
          $("#copyLayout,#copyLeague").val(""),
          $("#copyLayoutYEAR,#copyLeagueYEAR").remove(),
          $("#HPM_Layout_btn,#HPM_Copy_btn").attr("disabled", "disabled"));
}
function copyLayout() {
    confirm(
        "You must be signed in as commissioner to both sites you are copying from and to. This will delete tabs layout on the destination site. Are you sure you want to proceed?"
    )
        ? ($("body").css("pointer-events", "none"),
          $(".HPMFinished,.HPMWarning").remove(),
          $(".restoreHPMs").append(
              '<div style="text-align:center;font-weight:bold" class="HPMWarning">Do not leave this page or close out this box until layout is copied to new site and this page is refreshed.</br><i style="font-size:1.875rem;margin:1.625rem 0" class="fa-regular fa-spinner fa-spin fa-2xl"></i></div>'
          ),
          (copyinputValLayout = document.getElementById("copyLayout").value),
          (copyinputValYearLayout = document.getElementById("copyLayoutYEAR").value),
          $("#copyLayoutYEAR,#copyLeagueYEAR").remove(),
          $("#HPM_Layout_btn,#HPM_Copy_btn").attr("disabled", "disabled"),
          GetServerIDLayout())
        : ((copyinputValLayout = league_id),
          (copyinputValYearLayout = year),
          $("#copyLayout,#copyLeague").val(""),
          $("#copyLayoutYEAR,#copyLeagueYEAR").remove(),
          $("#HPM_Layout_btn,#HPM_Copy_btn").attr("disabled", "disabled"));
}
function GetServerIDLayout() {
    $.ajax({
        url: `//api.myfantasyleague.com/${copyinputValYearLayout}/export?TYPE=myleagues&JSON=1`,
        type: "GET",
        dataType: "json",
        xhrFields: { withCredentials: !0 },
        success: function (e) {
            for (var t = e.leagues.league, a = 0; a < t.length; a++)
                t[a].league_id === copyinputValLayout &&
                    (hpm_serverIDLayout = t[a].url.substr(t[a].url.indexOf("www") + 3, 2));
            copyLayouttoNewSite();
        },
        error: function (e) {
            transferErrorLayout();
        },
    });
}
function GetServerID() {
    $.ajax({
        url: `//api.myfantasyleague.com/${copyinputYearVal}/export?TYPE=myleagues&JSON=1`,
        type: "GET",
        dataType: "json",
        xhrFields: { withCredentials: !0 },
        success: function (e) {
            for (var t = e.leagues.league, a = 0; a < t.length; a++)
                t[a].league_id === copyinputVal && (hpm_serverID = t[a].url.substr(t[a].url.indexOf("www") + 3, 2));
            copyHPMtoNewSite();
        },
        error: function (e) {
            transferError();
        },
    });
}
function restoreSiteHPMs() {
    ajaxRestore = !0;
    var e = 0,
        t = setInterval(function () {
            ajaxRestore &&
                ((ajaxRestore = !1),
                e <= 26
                    ? ((urlGET =
                          e < 10
                              ? `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&SEQNO=50${e}&PRINTER=1`
                              : `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&SEQNO=5${e}&PRINTER=1`),
                      $.ajax({
                          url: urlGET,
                          type: "GET",
                          dataType: "html",
                          xhrFields: { withCredentials: !0 },
                          success: function (t) {
                              (hpm_txt = $(t).find("#MSG").val()),
                                  (hpm_name = $(t).find('form table.report input[name="LABEL"]').val()),
                                  hpm_name.indexOf("MARKASFOOTER") >= 0
                                      ? ((hpm_name = hpm_name.replace(" MARKASFOOTER", "")),
                                        (urlPOST =
                                            1 === e
                                                ? `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message&IN_FOOTER=Yes`
                                                : `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message${e}&IN_FOOTER=Yes`))
                                      : hpm_name.indexOf("MARKASHEADER") >= 0
                                        ? ((hpm_name = hpm_name.replace(" MARKASHEADER", "")),
                                          (urlPOST =
                                              1 === e
                                                  ? `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message&IN_HEADER=Yes`
                                                  : `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message${e}&IN_HEADER=Yes`))
                                        : (urlPOST =
                                              1 === e
                                                  ? `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message`
                                                  : `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message${e}`),
                                  $.ajax({
                                      url: urlPOST,
                                      xhrFields: { withCredentials: !0 },
                                      data: { MSG: hpm_txt, LABEL: hpm_name },
                                      cache: !1,
                                      type: "POST",
                                      success: function (t) {
                                          (hpm_txt = void 0),
                                              (hpm_name = void 0),
                                              (isFooter = void 0),
                                              (isHeader = void 0),
                                              (urlPOST = void 0),
                                              (ajaxRestore = !0),
                                              $(".restore_count_" + e).length < 1 &&
                                                  $(".restoreHPMs").append(
                                                      '<div class="HPMStatus restore_count_' +
                                                          e +
                                                          '">HPM #' +
                                                          e +
                                                          " - Restore Complete</div>"
                                                  ),
                                              $(".restoreHPMs").animate(
                                                  { scrollTop: $(".restoreHPMs")[0].scrollHeight },
                                                  1
                                              ),
                                              e++;
                                      },
                                      error: function (t) {
                                          e++;
                                      },
                                  });
                          },
                          error: function (t) {
                              console.log("HPM # " + e + " Failed to Restore"), e++;
                          },
                      }))
                    : (clearInterval(t), HPMfinished(), (ajaxRestore = void 0)));
        }, 500);
}
function backupSiteHPMs() {
    ajaxBackup = !0;
    var e = 0,
        t = setInterval(function () {
            ajaxBackup &&
                ((ajaxBackup = !1),
                e <= 26
                    ? ((urlGET =
                          1 === e
                              ? `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&PRINTER=1`
                              : `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&SEQNO=${e}&PRINTER=1`),
                      $.ajax({
                          url: urlGET,
                          type: "GET",
                          dataType: "html",
                          xhrFields: { withCredentials: !0 },
                          success: function (t) {
                              (hpm_txt = $(t).find("#MSG").val()),
                                  (hpm_name = $(t).find('form table.report input[name="LABEL"]').val()),
                                  (isFooter = $(t).find('#IN_FOOTER_Yes[checked="checked"]')),
                                  (isHeader = $(t).find('#IN_HEADER_Yes[checked="checked"]')),
                                  isFooter.length > 0
                                      ? ((urlPOST =
                                            e < 10
                                                ? `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message50${e}`
                                                : `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message5${e}`),
                                        (hpm_name += " MARKASFOOTER"))
                                      : isHeader.length > 0
                                        ? ((urlPOST =
                                              e < 10
                                                  ? `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message50${e}`
                                                  : `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message5${e}`),
                                          (hpm_name += " MARKASHEADER"))
                                        : (urlPOST =
                                              e < 10
                                                  ? `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message50${e}`
                                                  : `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message5${e}`),
                                  $.ajax({
                                      url: urlPOST,
                                      xhrFields: { withCredentials: !0 },
                                      data: { MSG: hpm_txt, LABEL: hpm_name },
                                      cache: !1,
                                      type: "POST",
                                      success: function (t) {
                                          (hpm_txt = void 0),
                                              (hpm_name = void 0),
                                              (isFooter = void 0),
                                              (isHeader = void 0),
                                              (urlPOST = void 0),
                                              (ajaxBackup = !0),
                                              $(".backup_count_" + e).length < 1 &&
                                                  $(".restoreHPMs").append(
                                                      '<div class="HPMStatus backup_count_' +
                                                          e +
                                                          '">HPM #' +
                                                          e +
                                                          " - Backup Complete</div>"
                                                  ),
                                              $(".restoreHPMs").animate(
                                                  { scrollTop: $(".restoreHPMs")[0].scrollHeight },
                                                  1
                                              ),
                                              e++;
                                      },
                                      error: function (t) {
                                          console.log("HPM # " + e + " Failed to Backup"), e++;
                                      },
                                  });
                          },
                          error: function (t) {
                              console.log("HPM # " + e + " Failed to Backup"), e++;
                          },
                      }))
                    : (clearInterval(t), HPMfinished(), (ajaxBackup = void 0)));
        }, 500);
}
function delete_MFL_HPMs() {
    ajaxDelete = !0;
    var e = 0,
        t = setInterval(function () {
            ajaxDelete &&
                ((ajaxDelete = !1),
                e <= 26
                    ? ((urlPOST =
                          1 === e
                              ? `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message`
                              : `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message${e}`),
                      $.ajax({
                          url: urlPOST,
                          xhrFields: { withCredentials: !0 },
                          cache: !1,
                          type: "POST",
                          success: function (t) {
                              (ajaxDelete = !0),
                                  $(".delete_count_" + e).length < 1 &&
                                      $(".restoreHPMs").append(
                                          '<div class="HPMStatus delete_count_' + e + '">HPM #' + e + " - Deleted</div>"
                                      ),
                                  $(".restoreHPMs").animate({ scrollTop: $(".restoreHPMs")[0].scrollHeight }, 1),
                                  e++;
                          },
                          error: function (t) {
                              console.log("HPM # " + e + " Failed to Delete"), e++;
                          },
                      }))
                    : (clearInterval(t), HPMfinished(), (ajaxDelete = !1)));
        }, 500);
}
function copyHPMtoNewSite() {
    if ("undefined" == typeof hpm_serverID) transferError();
    else {
        ajaTransfer = !0;
        var e = 0,
            t = setInterval(function () {
                ajaTransfer &&
                    ((ajaTransfer = !1),
                    e <= 26
                        ? ((urlGET =
                              1 === e
                                  ? `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&PRINTER=1`
                                  : `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&SEQNO=${e}&PRINTER=1`),
                          $.ajax({
                              url: urlGET,
                              type: "GET",
                              dataType: "html",
                              xhrFields: { withCredentials: !0 },
                              success: function (t) {
                                  (hpm_txt = $(t).find("#MSG").val()),
                                      (hpm_name = $(t).find('form table.report input[name="LABEL"]').val()),
                                      (isFooter = $(t).find('#IN_FOOTER_Yes[checked="checked"]')),
                                      (isHeader = $(t).find('#IN_HEADER_Yes[checked="checked"]')),
                                      isFooter.length > 0
                                          ? (urlPOST =
                                                1 === e
                                                    ? `https://www${hpm_serverID}.myfantasyleague.com/${copyinputYearVal}/message?LEAGUE_ID=${copyinputVal}&NAME=message&IN_FOOTER=Yes`
                                                    : `https://www${hpm_serverID}.myfantasyleague.com/${copyinputYearVal}/message?LEAGUE_ID=${copyinputVal}&NAME=message${e}&IN_FOOTER=Yes`)
                                          : isHeader.length > 0
                                            ? (urlPOST =
                                                  1 === e
                                                      ? `https://www${hpm_serverID}.myfantasyleague.com/${copyinputYearVal}/message?LEAGUE_ID=${copyinputVal}&NAME=message&IN_HEADER=Yes`
                                                      : `https://www${hpm_serverID}.myfantasyleague.com/${copyinputYearVal}/message?LEAGUE_ID=${copyinputVal}&NAME=message${e}&IN_HEADER=Yes`)
                                            : (urlPOST =
                                                  1 === e
                                                      ? `https://www${hpm_serverID}.myfantasyleague.com/${copyinputYearVal}/message?LEAGUE_ID=${copyinputVal}&NAME=message`
                                                      : `https://www${hpm_serverID}.myfantasyleague.com/${copyinputYearVal}/message?LEAGUE_ID=${copyinputVal}&NAME=message${e}`),
                                      $.ajax({
                                          url: urlPOST,
                                          xhrFields: { withCredentials: !0 },
                                          data: { MSG: hpm_txt, LABEL: hpm_name },
                                          cache: !1,
                                          type: "POST",
                                          success: function (t) {
                                              (ajaTransfer = !0),
                                                  (hpm_txt = void 0),
                                                  (hpm_name = void 0),
                                                  (isFooter = void 0),
                                                  (isHeader = void 0),
                                                  (urlPOST = void 0),
                                                  $(".transfer_count_" + e).length < 1 &&
                                                      $(".restoreHPMs").append(
                                                          '<div class="HPMStatus transfer_count_' +
                                                              e +
                                                              '">HPM #' +
                                                              e +
                                                              " - Transfer Complete</div>"
                                                      ),
                                                  e++;
                                          },
                                          error: function (t) {
                                              console.log("HPM # " + e + " Failed to Transfer"), e++;
                                          },
                                      });
                              },
                              error: function (t) {
                                  console.log("HPM # " + e + " Failed to Transfer"), e++;
                              },
                          }))
                        : (clearInterval(t),
                          $("#copyLayout,#copyLeague").val(""),
                          HPMfinished(),
                          (ajaTransfer = void 0)));
            }, 500);
    }
}
function transferError() {
    $(".HPMWarning").remove(),
        $("body").css("pointer-events", ""),
        $(".copy_Error").length < 1 &&
            $(".restoreHPMs").append(
                '<div style="text-align:center;font-weight:bold" class="HPMWarning copy_Error">Error. You are not signed in as commissioner to the league your tring to transfer to. Check league details and sign in and try again.</div>'
            ),
        $("#copyLayout,#copyLeague").val(""),
        $("#copyLayoutYEAR,#copyLeagueYEAR").remove(),
        $("#HPM_Layout_btn,#HPM_Copy_btn").attr("disabled", "disabled");
}
function copyTabsLayoutRun() {
    var e = [];
    $.ajax({
        url: `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMOD&PRINTER=1`,
        xhrFields: { withCredentials: !0 },
        cache: !1,
        type: "GET",
        success: function (t) {
            (GetTabsTitles = $(t).find('form#home_page_setup input[id*="hpm_title_val"]')),
                (GetTabsContent = $(t).find("form#home_page_setup td select").not("#HOME_MODULES_AVAILABLE")),
                $(GetTabsTitles).each(function () {
                    (tabsValuesName = $(this).attr("name")),
                        (tabsValues = $(this).val().split(" ").join("+")),
                        e.push(tabsValuesName + "=" + tabsValues);
                }),
                $(GetTabsContent).each(function () {
                    $(this)
                        .find("option")
                        .each(function () {
                            (isValue = $(this).val()),
                                (isName = $(this).parent("select").attr("name")),
                                e.push(isName + "=" + isValue);
                        });
                }),
                e.push("SUBMIT=Save+Home+Page+Setup");
            var a = e.join("&");
            (hpm_name_tabs = "#301 HPTabs Backup"),
                $.ajax({
                    url: `${baseURLDynamic}/${year}/message?LEAGUE_ID=${league_id}&NAME=message301`,
                    xhrFields: { withCredentials: !0 },
                    data: { MSG: a, LABEL: hpm_name_tabs },
                    beforeSend: function (e, t) {},
                    cache: !1,
                    type: "POST",
                    success: function (e) {
                        $(".restoreHPMs").append(
                            '<div style="text-align:center;font-weight:bold;color:green" class="HPMFinished">Finished ! Tabs Layout is saved.</div>'
                        ),
                            $("#HPTabs_Restore_btn").removeAttr("disabled"),
                            setTimeout(() => {
                                $(".HPMFinished").remove();
                            }, 1500);
                    },
                    error: function (e) {},
                });
        },
        error: function (e) {},
    });
}
function restoreSiteLayout() {
    $(".restoreHPMs").append(
        '<div style="text-align:center;font-weight:bold;color:green" class="HPMWarning">Tabs layout being restored. Page will refresh when completed.</div>'
    ),
        (urlGET = `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&SEQNO=301&PRINTER=1`),
        $.ajax({
            url: urlGET,
            type: "GET",
            dataType: "html",
            xhrFields: { withCredentials: !0 },
            success: function (e) {
                (layoutURL = $(e).find("#MSG").val()),
                    $.ajax({
                        url: `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMOD&PRINTER=1`,
                        xhrFields: { withCredentials: !0 },
                        data: layoutURL,
                        cache: !1,
                        type: "POST",
                        success: function (e) {
                            (layoutURL = void 0),
                                setTimeout(() => {
                                    HPMfinished();
                                }, 1e3);
                        },
                        error: function (e) {},
                    });
            },
            error: function (e) {},
        });
}
function copyLayouttoNewSite() {
    if ("undefined" == typeof hpm_serverIDLayout) transferErrorLayout();
    else {
        var e = [];
        $.ajax({
            url: `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMOD&PRINTER=1`,
            xhrFields: { withCredentials: !0 },
            cache: !1,
            type: "GET",
            success: function (t) {
                (GetTabsTitles = $(t).find('form#home_page_setup input[id*="hpm_title_val"]')),
                    (GetTabsContent = $(t).find("form#home_page_setup td select").not("#HOME_MODULES_AVAILABLE")),
                    $(GetTabsTitles).each(function () {
                        (tabsValuesName = $(this).attr("name")),
                            (tabsValues = $(this).val().split(" ").join("+")),
                            e.push(tabsValuesName + "=" + tabsValues);
                    }),
                    $(GetTabsContent).each(function () {
                        $(this)
                            .find("option")
                            .each(function () {
                                (isValue = $(this).val()),
                                    (isName = $(this).parent("select").attr("name")),
                                    e.push(isName + "=" + isValue);
                            });
                    }),
                    e.push("SUBMIT=Save+Home+Page+Setup");
                var a = e.join("&");
                $.ajax({
                    url: `https://www${hpm_serverIDLayout}.myfantasyleague.com/${copyinputValYearLayout}/csetup?L=${copyinputValLayout}&C=HMPGMOD&PRINTER=1`,
                    xhrFields: { withCredentials: !0 },
                    data: a,
                    beforeSend: function (e, t) {},
                    cache: !1,
                    type: "POST",
                    success: function (e) {
                        $(".restoreHPMs").append(
                            '<div style="text-align:center;font-weight:bold;color:green" class="HPMFinished">Finished ! Tabs Layout Transferred.</div>'
                        ),
                            setTimeout(() => {
                                $("#copyLayout,#copyLeague").val(""),
                                    $(".HPMWarning").remove(),
                                    $(".HPMFinished").remove(),
                                    $("body").css("pointer-events", "");
                            }, 1500);
                    },
                    error: function (e) {
                        transferErrorLayout();
                    },
                });
            },
            error: function (e) {
                transferErrorLayout();
            },
        });
    }
}
function transferErrorLayout() {
    $(".HPMWarning").remove(),
        $("body").css("pointer-events", ""),
        $(".copy_Error").length < 1 &&
            $(".restoreHPMs").append(
                '<div style="text-align:center;font-weight:bold" class="HPMWarning copy_Error">Error. You are not signed in as commissioner to the league your tring to transfer to. Check league details and sign in and try again.</div>'
            ),
        $("#copyLayout,#copyLeague").val(""),
        $("#copyLayoutYEAR,#copyLeagueYEAR").remove(),
        $("#HPM_Layout_btn,#HPM_Copy_btn").attr("disabled", "disabled");
}
if (
    ($('.myfantasyleague_menu li.mm-league a[href*="commissioner_setup"]')
        .parent()
        .after('<li><a class="no-sub" onclick="restoreHPM()">Backup/Restore HPMs</a></li>'),
    $('.myfantasyleague_menuMobile li.mm-league a[href*="commissioner_setup"]')
        .parent()
        .after('<li><a class="no-sub" onclick="restoreHPM()">Backup/Restore HPMs</a></li>'),
    $("body").append(
        "<style>#copyLayout::-webkit-outer-spin-button,#copyLeague::-webkit-outer-spin-button,#copyLeagueYEAR::-webkit-outer-spin-button,#copyLayoutYEAR::-webkit-outer-spin-button,#copyLayout::-webkit-inner-spin-button,#copyLeague::-webkit-inner-spin-button,#copyLeagueYEAR::-webkit-inner-spin-button,#copyLayoutYEAR::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}#copyLayout,#copyLeague,#copyLeagueYEAR,#copyLayoutYEAR{font-size:1rem;margin:0 auto;width:11rem;display:block;outline:none}#copyLeagueYEAR,#copyLayoutYEAR{margin-top:0.3rem}</style>"
    ),
    "undefined" == typeof copyinputVal && (copyinputVal = league_id),
    "undefined" == typeof copyinputYearVal && (copyinputYearVal = year),
    "undefined" == typeof copyinputValLayout && (copyinputValLayout = league_id),
    "undefined" == typeof copyinputValYearLayout && (copyinputValYearLayout = year),
    $(document).on("click", ".restoreHPMClose,.restoreHPMWrap", function (e) {
        (preventDBLClick = !0), $(".restoreHPMWrap,.restoreHPMs").remove();
    }),
    "undefined" != typeof franchise_id && "0000" === franchise_id)
) {
    var runAlert, runAlert2;
    const E = document.querySelector('.myfantasyleague_menu li.mm-league a[href*="commissioner_setup"]').parentElement,
        H = document.createElement("li");
    (H.innerHTML = '<a class="no-sub" onclick="fetchAndAppendData()">Edit HPMs</a>'), E.after(H);
    const R = document.querySelector('.myfantasyleague_menuMobile li.mm-league a[href*="commissioner_setup"]');
    if (null !== R) {
        const D = document.createElement("li");
        (D.innerHTML = '<a class="no-sub" onclick="fetchAndAppendData()">Edit HPMs</a>'), R.parentElement.after(D);
    }
    var selectedOptionUrl;
    document.addEventListener("click", function (e) {
        e.target.matches(".editHPMClose, .editHPMWrap") &&
            document.querySelectorAll(".editHPMWrap, .editHPMs").forEach(function (e) {
                e.remove(), (preventDBLClick = !0);
            });
    });
}
async function fetchAndAppendData() {
    if (preventDBLClick) {
        preventDBLClick = !1;
        const i =
            '<div class="editHPMWrap" style="position:fixed;height:100%;width:100%;background:rgba(0, 0, 0, 0.7);left:0;top:0;z-index:99999"></div><div class="editHPMs"><span id="HPMEditCap">Edit Homepage Messages</span><span id="MFLPlayerPopupClose" class="editHPMClose">X</span><div id="appendSelect"></div><div class="edit-wrapper"></div></div>';
        try {
            const n = await fetch(`${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&PRINTER=1`),
                d = await n.text();
            var e = new DOMParser().parseFromString(d, "text/html"),
                t = e.querySelector("h3"),
                a = e.querySelector("form"),
                r = await createSelectElement(t);
            document.querySelector("body").insertAdjacentHTML("beforeend", i);
            var s = document.querySelector(".editHPMs #appendSelect"),
                o = document.createTextNode("Select HPM: ");
            s.appendChild(o), s.appendChild(r), document.querySelector(".editHPMs .edit-wrapper").appendChild(a);
            var l = document.createElement("input");
            l.setAttribute("type", "hidden"),
                l.setAttribute("name", "PRINTER"),
                l.setAttribute("value", "1"),
                a.appendChild(l),
                document
                    .querySelector(".edit-wrapper .form_buttons")
                    .insertAdjacentHTML(
                        "beforeend",
                        '<input type="button" value="Delete Message" onclick="deletEditHPM()">'
                    );
            r.addEventListener("change", function () {
                var e = this.options[this.selectedIndex];
                selectedOptionUrl = e.value;
                var t = e.text;
                (r.value = e.value), (r.previousSelectedOptionText = t), fetchAndReplaceData(selectedOptionUrl);
            }),
                (r.previousSelectedOptionText = r.options[r.selectedIndex].text),
                a.querySelector('input[type="submit"]').addEventListener("click", submitForm),
                (runAlert = !1),
                (runAlert2 = !1);
        } catch (e) {
            console.log(e);
        }
    }
}
function warn_in_header(e) {
    e.checked &&
        alert(
            "Inserting invalid HTML into the header of all league pages\ncould prevent anyone in your league from accessing your league.\nUn-check this checkbox if you're not 100% certain that you've entered valid HTML."
        );
}
function fetchAndReplaceData(e) {
    fetch(e)
        .then((e) => e.text())
        .then((e) => {
            var t = new DOMParser().parseFromString(e, "text/html").querySelector("form"),
                a = document.querySelector(".editHPMs .edit-wrapper");
            (a.innerHTML = ""),
                a.appendChild(t),
                document
                    .querySelector(".edit-wrapper .form_buttons")
                    .insertAdjacentHTML(
                        "beforeend",
                        '<input type="button" value="Delete Message" onclick="deletEditHPM()">'
                    );
            var r = document.querySelector(".editHPMs select"),
                s = r.options[r.selectedIndex];
            if (
                ((d = document.createElement("input")).setAttribute("type", "hidden"),
                d.setAttribute("name", "PRINTER"),
                d.setAttribute("value", "1"),
                t.appendChild(d),
                "" === s.textContent.trim())
            ) {
                for (var o = r.options, l = o.length, i = -1, n = 0; n < l; n++)
                    if (o[n] === s) {
                        i = n + 1;
                        break;
                    }
                s.textContent = "#" + i.toString();
            }
            var d,
                c = (d = a.querySelector('input[name="LABEL"]')).value;
            c === s.textContent || "" === c.trim() || (s.textContent = c),
                t.querySelector('input[type="submit"]').addEventListener("click", submitForm),
                runAlert && alert("Form submitted successfully! Refresh page for results."),
                runAlert2 && alert("Form deleted successfully! Refresh page for results."),
                (runAlert = !1),
                (runAlert2 = !1);
        })
        .catch((e) => console.log(e));
}
async function createSelectElement(e) {
    for (var t = document.createElement("select"), a = e.querySelectorAll("a"), r = 0; r < a.length; r++) {
        var s = document.createElement("option"),
            o = a[r].getAttribute("href");
        o.startsWith("csetup?") && (o = `${baseURLDynamic}/${year}/${o}&PRINTER=1`),
            (s.value = o),
            (s.text = a[r].innerText),
            t.appendChild(s);
    }
    for (
        var l = [
                { value: `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&SEQNO=21&PRINTER=1`, text: "#21" },
                { value: `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&SEQNO=22&PRINTER=1`, text: "#22" },
                { value: `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&SEQNO=23&PRINTER=1`, text: "#23" },
                { value: `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&SEQNO=24&PRINTER=1`, text: "#24" },
                { value: `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=HMPGMSG&SEQNO=25&PRINTER=1`, text: "#25" },
            ],
            i = 0;
        i < l.length;
        i++
    ) {
        s = l[i];
        var n = await fetch(s.value),
            d = await n.text(),
            c = new DOMParser().parseFromString(d, "text/html").querySelector('input[type="text"][name="LABEL"]');
        c && "" !== c.value.trim() && (s.text = c.value.trim());
        var p = document.createElement("option");
        (p.value = s.value), (p.text = s.text), t.appendChild(p);
    }
    return (t.selectedIndex = 0), t;
}
function submitForm(e) {
    e.preventDefault();
    var t = e.target.closest("form"),
        a = t.querySelector(".editHPMs .edit-wrapper textarea").value.trim(),
        r = t.querySelector('.editHPMs .edit-wrapper input[name="LABEL"]').value.trim();
    if ("" !== a)
        if ("" !== r.trim()) {
            var s = new FormData(t);
            fetch(t.action, { method: t.method, body: s })
                .then((e) => {
                    if (e.ok) {
                        runAlert = !0;
                        var t = document.querySelector(".editHPMs select"),
                            a = t.options[t.selectedIndex];
                        selectedOptionUrl = a.value;
                        var r = document
                            .querySelector(".editHPMs .edit-wrapper")
                            .querySelector('input[name="LABEL"]').value;
                        fetchAndReplaceData(selectedOptionUrl), (a.textContent = r);
                    } else alert("Form submission failed.");
                })
                .catch((e) => {
                    console.log(e), alert("An error occurred during form submission.");
                });
        } else alert("Form submission failed. Fill out the 'Optional Message Label'.");
    else alert("Form submission failed. The textarea is empty.");
}
function deletEditHPM() {
    if (confirm("Are you sure you want to delete this homepage message?")) {
        var e = document.querySelector(".editHPMs .edit-wrapper").querySelector('input[name="LABEL"]'),
            t = (e.value, document.querySelector(".editHPMs .edit-wrapper textarea"));
        (e.value = ""), (t.value = "");
        var a = document.querySelector(".editHPMs .edit-wrapper form"),
            r = new FormData(a);
        fetch(a.action, { method: a.method, body: r })
            .then((e) => {
                if (e.ok) {
                    runAlert2 = !0;
                    var t = document.querySelector(".editHPMs .edit-wrapper").querySelector('input[name="LABEL"]'),
                        a = t.value,
                        r = document.querySelector(".editHPMs .edit-wrapper textarea");
                    (t.value = ""), (r.value = "");
                    var s = document.querySelector(".editHPMs select"),
                        o = s.options[s.selectedIndex];
                    fetchAndReplaceData((selectedOptionUrl = o.value)), (o.textContent = a);
                } else alert("Form submission failed.");
            })
            .catch((e) => {
                console.log(e), alert("An error occurred during form submission.");
            });
    }
}
if (load_playerIcons) {
    var MFL_pid_fid = [];
    if (void 0 === MFL_prependFranchiseIconTeam) var MFL_prependFranchiseIconTeam = !0;
    if (void 0 === MFL_prependFranchiseIconTeamOmitId)
        var MFL_prependFranchiseIconTeamOmitId = new Array(
            "body_options_03",
            "body_options_08",
            "body_options_34",
            "body_options_67",
            "body_options_79",
            "body_options_170",
            "body_trade_offer",
            "body_trade_response",
            "transactions",
            "trade_bait",
            "body_csetup_revtrad",
            "body_options_100"
        );
    if (void 0 === MFL_prependFranchiseIconPlayer) var MFL_prependFranchiseIconPlayer = !0;
    if (void 0 === MFL_prependFranchiseIconPlayerOmitId)
        var MFL_prependFranchiseIconPlayerOmitId = new Array(
            "body_options_17",
            "body_options_18",
            "body_ir",
            "body_options_133",
            "body_fantasy_box_score",
            "body_weekly",
            "body_options_205",
            "body_options_06",
            "body_lineup",
            "body_options_02",
            "body_options_03",
            "body_options_05",
            "body_options_07",
            "body_options_67",
            "body_options_113",
            "roster",
            "transactions",
            "trade_bait",
            "probowl",
            "probowl_table",
            "probowl_team",
            "body_csetup_revtrad"
        );
    function doMFL_prependFranchiseIconPlayer(e) {
        if (null == e) var t = "body";
        else t = "#" + e;
        $(t)
            .find('a[class*="position_"]')
            .each(function () {
                if (!includes(MFL_prependFranchiseIconPlayerOmitId, $(this).closest("table").attr("id"))) {
                    var e = $(this)
                        .attr("href")
                        .substring($(this).attr("href").indexOf("P=") + 2, $(this).attr("href").length);
                    MFL_pid_fid.hasOwnProperty("pid_" + e)
                        ? ($(this)
                              .removeClass("franPlayerFA")
                              .addClass("franPlayer_" + MFL_pid_fid["pid_" + e].fid),
                          $(this).parent().css("white-space", "nowrap"))
                        : ($(this).addClass("franPlayerFA"), $(this).parent().css("white-space", "nowrap"));
                }
            });
    }
    function doMFL_prependFranchiseIconTeam() {
        $("body")
            .find('a[class*="franchise_"]')
            .each(function () {
                if (!includes(MFL_prependFranchiseIconTeamOmitId, $(this).closest("table").attr("id"))) {
                    var e = $(this)
                        .attr("class")
                        .substr($(this).attr("class").indexOf("franchise_") + 10, 4);
                    try {
                        $(this).parent().css("white-space", "nowrap"),
                            $(this)
                                .parent()
                                .prepend(
                                    "<div class='franTeam_" +
                                        e +
                                        "' title='" +
                                        franchiseDatabase["fid_" + e].name +
                                        "'></div>"
                                );
                    } catch (e) {}
                }
            });
    }
    fetch(`${baseURLDynamic}/${year}/options?L=${league_id}&O=07`)
        .then((e) => e.text())
        .then((e) => {
            $(e)
                .find("table .report")
                .each(function () {
                    var e = $(this)
                        .find("caption span a")
                        .attr("href")
                        .substr($(this).find("caption span a").attr("href").indexOf("F=") + 2, 4);
                    $(this)
                        .find("td.player a")
                        .each(function () {
                            var t = $(this)
                                .attr("href")
                                .substring($(this).attr("href").indexOf("P=") + 2, $(this).attr("href").length);
                            MFL_pid_fid["pid_" + t] = { id: t, fid: e };
                        }),
                        MFL_prependFranchiseIconPlayer &&
                            (includes(MFL_prependFranchiseIconPlayerOmitId, $("body").attr("id")) ||
                                doMFL_prependFranchiseIconPlayer());
                });
        })
        .catch((e) => {
            console.error(e);
        }),
        MFL_prependFranchiseIconTeam &&
            (includes(MFL_prependFranchiseIconTeamOmitId, $("body").attr("id")) || doMFL_prependFranchiseIconTeam());
}
if (
    (jQuery('div[id*="usmg_ad"],#ajax_ls div[style="margin-bottom:5px;"]').remove(),
    jQuery('[src="/ads/ad-live_scoring_js.html"]').remove(),
    jQuery("#fs-sticky-footer").remove(),
    (googletag = null),
    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))
) {
    style = document.createElement("style");
    document.head.appendChild(style), style.sheet.insertRule("::-webkit-scrollbar{display:none}");
}
if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
    style = document.createElement("style");
    document.head.appendChild(style), style.sheet.insertRule(".hz-table-scroll table{padding-bottom:0!important}");
}
window.addEventListener("load", function () {
    document.querySelectorAll("#MFLBoxWrapper, #tabmenu-wrap, #container-wrap, .ticker-wrapper").forEach(function (e) {
        e.style.visibility = "visible";
    });
});
const Scoreboardlinks = document.querySelectorAll("#body_ajax_ls a");
if (
    (Scoreboardlinks.forEach((e) => {
        let t = !0,
            a = e.parentElement;
        for (; a; ) {
            if ("ls_setting_drop" === a.id || a.classList.contains("report") || a.classList.contains("has-sub")) {
                t = !1;
                break;
            }
            a = a.parentElement;
        }
        t &&
            e.addEventListener("click", (t) => {
                t.preventDefault();
                const a = e.getAttribute("href");
                $("ins").remove(),
                    setTimeout(() => {
                        window.location.href = a;
                    }, 0);
            });
    }),
    (function (e, t) {
        if ("function" == typeof define && define.amd) define(["exports"], t);
        else if ("undefined" != typeof exports) t(exports);
        else {
            var a = { exports: {} };
            t(a.exports), (e.bodyScrollLock = a.exports);
        }
    })(this, function (e) {
        "use strict";
        Object.defineProperty(e, "__esModule", { value: !0 });
        var t = !1;
        if ("undefined" != typeof window) {
            var a = {
                get passive() {
                    t = !0;
                },
            };
            window.addEventListener("testPassive", null, a), window.removeEventListener("testPassive", null, a);
        }
        var r =
                "undefined" != typeof window &&
                window.navigator &&
                window.navigator.platform &&
                (/iP(ad|hone|od)/.test(window.navigator.platform) ||
                    ("MacIntel" === window.navigator.platform && window.navigator.maxTouchPoints > 1)),
            s = [],
            o = !1,
            l = -1,
            i = void 0,
            n = void 0,
            d = void 0,
            c = function allowTouchMove(e) {
                return s.some(function (t) {
                    return !(!t.options.allowTouchMove || !t.options.allowTouchMove(e));
                });
            },
            p = function preventDefault(e) {
                var t = e || window.event;
                return !!c(t.target) || t.touches.length > 1 || (t.preventDefault && t.preventDefault(), !1);
            },
            h = function restoreOverflowSetting() {
                void 0 !== d && ((document.body.style.paddingRight = d), (d = void 0)),
                    void 0 !== i && ((document.body.style.overflow = i), (i = void 0));
            },
            _ = function restorePositionSetting() {
                if (void 0 !== n) {
                    var e = -parseInt(document.body.style.top, 10),
                        t = -parseInt(document.body.style.left, 10);
                    (document.body.style.position = n.position),
                        (document.body.style.top = n.top),
                        (document.body.style.left = n.left),
                        (document.body.style.right = n.right),
                        window.scrollTo(t, e),
                        (n = void 0);
                }
            };
        (e.disableBodyScroll = function disableBodyScroll(e, a) {
            if (e) {
                if (
                    !s.some(function (t) {
                        return t.targetElement === e;
                    })
                ) {
                    var h = { targetElement: e, options: a || {} };
                    (s = [].concat(
                        (function _toConsumableArray(e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, a = Array(e.length); t < e.length; t++) a[t] = e[t];
                                return a;
                            }
                            return Array.from(e);
                        })(s),
                        [h]
                    )),
                        r
                            ? (function setPositionFixed() {
                                  window.requestAnimationFrame(function () {
                                      if (void 0 === n) {
                                          n = {
                                              position: document.body.style.position,
                                              top: document.body.style.top,
                                              left: document.body.style.left,
                                              right: document.body.style.right,
                                          };
                                          var e = window,
                                              t = e.scrollY,
                                              a = e.scrollX,
                                              r = e.innerHeight;
                                          (document.body.style.position = "fixed"),
                                              (document.body.style.top = -t + "px"),
                                              (document.body.style.left = -a + "px"),
                                              (document.body.style.right = 0),
                                              setTimeout(function () {
                                                  return window.requestAnimationFrame(function () {
                                                      var e = r - window.innerHeight;
                                                      e && t >= r && (document.body.style.top = -(t + e));
                                                  });
                                              }, 300);
                                      }
                                  });
                              })()
                            : (function setOverflowHidden(e) {
                                  if (void 0 === d) {
                                      var t = !!e && !0 === e.reserveScrollBarGap,
                                          a = window.innerWidth - document.documentElement.clientWidth;
                                      if (t && a > 0) {
                                          var r = parseInt(
                                              window.getComputedStyle(document.body).getPropertyValue("padding-right"),
                                              10
                                          );
                                          (d = document.body.style.paddingRight),
                                              (document.body.style.paddingRight = r + a + "px");
                                      }
                                  }
                                  void 0 === i &&
                                      ((i = document.body.style.overflow), (document.body.style.overflow = "hidden"));
                              })(a),
                        r &&
                            ((e.ontouchstart = function (e) {
                                1 === e.targetTouches.length && (l = e.targetTouches[0].clientY);
                            }),
                            (e.ontouchmove = function (t) {
                                1 === t.targetTouches.length &&
                                    (function handleScroll(e, t) {
                                        var a = e.targetTouches[0].clientY - l;
                                        !c(e.target) &&
                                            ((t && 0 === t.scrollTop && a > 0) ||
                                            ((function isTargetElementTotallyScrolled(e) {
                                                return !!e && e.scrollHeight - e.scrollTop <= e.clientHeight;
                                            })(t) &&
                                                a < 0)
                                                ? p(e)
                                                : e.stopPropagation());
                                    })(t, e);
                            }),
                            o || (document.addEventListener("touchmove", p, t ? { passive: !1 } : void 0), (o = !0)));
                }
            } else
                console.error(
                    "disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices."
                );
        }),
            (e.clearAllBodyScrollLocks = function clearAllBodyScrollLocks() {
                r &&
                    (s.forEach(function (e) {
                        (e.targetElement.ontouchstart = null), (e.targetElement.ontouchmove = null);
                    }),
                    o && (document.removeEventListener("touchmove", p, t ? { passive: !1 } : void 0), (o = !1)),
                    (l = -1)),
                    r ? _() : h(),
                    (s = []);
            }),
            (e.enableBodyScroll = function enableBodyScroll(e) {
                e
                    ? ((s = s.filter(function (t) {
                          return t.targetElement !== e;
                      })),
                      r &&
                          ((e.ontouchstart = null),
                          (e.ontouchmove = null),
                          o &&
                              0 === s.length &&
                              (document.removeEventListener("touchmove", p, t ? { passive: !1 } : void 0), (o = !1))),
                      r ? _() : h())
                    : console.error(
                          "enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices."
                      );
            });
    }),
    void 0 === useCustomPrint)
)
    var useCustomPrint = !1;
if (useCustomPrint) {
    document
        .querySelectorAll(
            '.myfantasyleague_menu a[href*="PRINTER=1"], .myfantasyleague_menuMobile a[href*="PRINTER=1"]'
        )
        .forEach(function (e) {
            e.removeAttribute("href"), e.setAttribute("onclick", "printPage()");
        });
}
function printPage() {
    $(".playerPopupIcon,#printerPage,.articlepicture,.tops_image").remove(),
        document.querySelectorAll("img").forEach(function (e) {
            var t = document.createElement("span"),
                a = e.alt || e.title || "Image";
            (t.textContent = a), e.parentNode.replaceChild(t, e);
        });
    var e = document.getElementById("custom"),
        t = document.getElementById("default");
    e && e.parentNode.removeChild(e), t && t.parentNode.removeChild(t);
    var a = document.createElement("style");
    (a.innerHTML =
        "\n.myfantasyleague_menu,\n.myfantasyleague_menuMobile,\n.banner-container-full,\n#MFLBoxWrapper,\n#ticker-wrapper,\nfooter,\n.pagefooter,\n#homepagetabs,\n.myfantasyleague_tabmenu,\n#tabmenu-wrap,\n.myfantasyleague_tabmenu,\n.ticker-wrapper,\n.banner-container,\n.MFLSkinSelection,\nspan.module_expand,\n.plus-toggle,\n.standings-cog,\n.fa-comments,\n#MFLPlayerPopupContainer,\n#MFLPlayerPopupOverlay,\n.homepagemessage {\n    display: none!important;\n}\nBODY {\n    font-size: 8pt;\n    font-family: Times;\n    color: #000000!important;\n    background-color: #FFFFFF!important;\n    border: 0;\n}\nA:link {\n    color: #0000FF!important;\n}\nA:active {\n    color: #FF0000!important;\n}\nA:visited {\n    color: #800080!important;\n}\nA:hover {\n    text-decoration: none;\n}\nCAPTION {\n    font-size: 10pt!important;\n    font-family: Times;\n    font-weight: bold;\n}\nTH {\n    font-size: 8pt!important;\n    font-family: Times;\n    color: #FFFFFF!important;\n    font-style: italic;\n    font-weight: bold;\n    background-color: #000000!important;\n}\nTH A:link,\nTH A:visited {\n    color: #FFFFFF!important;\n}\nBLOCKQUOTE,\nTD,\nOL,\nUL,\nCENTER {\n    font-size: 8pt!important;\n    font-family: Times;\n}\nSMALL {\n    font-size: 7pt!important;\n    font-family: Times;\n}\nBIG {\n    font-size: 9pt!important;\n    font-family: Times;\n}\nH1,\nH2,\nH3,\nH4 {\n    text-align: center;\n    font-family: Times;\n    margin-bottom: 0;\n}\nH2,\nH3,\nH4 {\n    margin-top: 0;\n}\nH1 {\n    font-size: 16pt!important;\n    margin-top: 6px!important;\n}\nH2 {\n    font-size: 12pt!important;\n}\nH3 {\n    font-size: 10pt!important;\n}\nH4 {\n    font-size: 9pt!important;\n}\nFORM {\n    margin-top: 0;\n    margin-bottom: 0;\n}\nINPUT,\nTEXTAREA,\nSELECT {\n    font-family: Times;\n}\n.pageheader {\n    width: 100%;\n}\n.brandlogo {\n    display: none;\n}\n.myfantasyleague_tabmenu {\n    display: none;\n}\n.verticalmenu {\n    width: 120px;\n}\n.classicmenu {}\n.pagetitle {\n    width: 70%;\n}\n.welcome {\n    vertical-align: top;\n    text-align: right;\n    width: 15%;\n}\n.pagebody {}\n.pagefooter,\n.pagefooter TD {\n    font-size: 7pt;\n}\n.eventablerow {\n    background-color: #D3D3D3;\n}\n.oddtablerow {\n    background-color: #FFFFFF;\n}\n.warning {\n    color: #FF0000;\n}\n.reallysmall {\n    font-size: 7pt;\n    font-family: Times;\n}\n.picks {\n    width: 400px;\n}\n.currentweek {\n    font-weight: bold;\n}\n.leaguelogo {\n    border: 0;\n}\n.franchiselogo {\n    border: 0;\n    display: none;\n}\n.franchiseicon {\n    border: 0;\n    display: none;\n}\n.myfranchise {}\n.header_links TH,\n.header_links CAPTION {\n    display: none;\n}\n.header_links LI {\n    list-style: none;\n    float: left;\n    padding: 2px;\n    margin: 2px;\n    white-space: nowrap;\n}\n.header_links A {\n    text-decoration: none;\n    border: 1px solid;\n    padding: 1px;\n    margin: 1px;\n    display: block;\n    font-weight: bold;\n    float: left;\n    border-color: #FFF #333 #333 #FFF!important;\n}\n.header_links .oddtablerow {\n    background-color: transparent;\n}\n.homepagecolumn {\n    vertical-align: top;\n}\n.homepagemessage {\n    border: 1px solid #000000!important;\n    padding: 0;\n    width: 60%;\n}\n.livescoringsummary {\n    width: 260px;\n    height: 300px;\n}\n.homepagecolumn #standings H3,\n.homepagecolumn #brief_standings H3,\n.homepagecolumn .homepagemodule CAPTION {\n    padding-top: 5px;\n    padding-bottom: 5px;\n    color: #FFFFFF!important;\n    background-color: #000000!important;\n}\n.homepagecolumn .homepagemodule H3 {\n    margin: -1px;\n}\n.homepagecolumn .homepagemodule {\n    width: 95%;\n}\n.newposition TD {\n    border-top: 2px solid #000000!important;\n}\n.topteam {\n    border-bottom: 2px #000000 solid!important;\n}\n.bracket {\n    border-right: 2px #000000 solid!important;\n}\n.bottomteam {\n    border-bottom: 2px #000000 solid!important;\n    border-right: 2px #000000 solid!important;\n}\n.gameunderway {\n    border: 1px #000000 dashed!important;\n}\n.haspossession {}\n.redzone {}\n.updatedstats {}\n.highscore {\n    font-weight: bold;\n}\n.lowscore {\n    font-style: italic;\n    text-decoration: underline;\n}\n.tiebreaker {\n    font-weight: bold;\n}\n.shouldstart {\n    font-weight: bold;\n}\n.shouldbench {\n    font-style: italic;\n    text-decoration: underline;\n}\n#monthly_calendar {\n    width: 80%;\n    border: 1px solid #000000!important;\n    border-collapse: collapse;\n}\n.homepagecolumn #monthly_calendar {\n    width: 95%;\n}\n#monthly_calendar TD.today {\n    border: 4px double #FF0000!important;\n}\n#monthly_calendar TD,\n#monthly_calendar TH {\n    width: 14%;\n    border: 1px solid #000000;\n    padding: 2px;\n}\n#monthly_calendar TD {\n    height: 4em;\n    padding: 0;\n    font-size: 7pt;\n}\n#monthly_calendar TD .calendarday {\n    float: right;\n    width: 2em;\n    text-align: center;\n    border-bottom: 1px solid;\n    padding-bottom: 1px;\n    border-left: 1px solid;\n    padding-left: 2px;\n}\n.reportform {\n    display: none;\n}\n.form_buttons {\n    margin-left: auto;\n    margin-right: auto;\n    text-align: center;\n}\n.reportnavigation {\n    text-align: center;\n    display: block;\n    padding-top: 1em;\n    padding-bottom: 1em;\n}\n.reportnavigationheader {\n    font-weight: bold;\n}\n#body_popup_calendar .report {\n    width: 100%;\n}\n.matchup_chart,\n.articlepicturetable {\n    display: none;\n}\ntd,\n.hometeam_numbers,\n.visitorteam_numbers {\n    background-color: #fff!important;\n    color: #000!important;\n}\n.tdcaption {\n    background: #fff!important;\n    color: #000!important;\n}\n"),
        document.head.appendChild(a);
}
let curRoster = [];
const sortPlayerPosOrder = {
    COACH: 1,
    QB: 2,
    TMQB: 3,
    RB: 4,
    TMRB: 5,
    FB: 6,
    WR: 7,
    TMWR: 8,
    TE: 9,
    TMTE: 10,
    KR: 13,
    PK: 14,
    TMPK: 15,
    PN: 16,
    TMPN: 17,
    OFF: 18,
    DEF: 19,
    ST: 20,
    DT: 22,
    DE: 23,
    TMDL: 24,
    LB: 25,
    TMLB: 26,
    CB: 27,
    S: 29,
    TMDB: 30,
};
function sortPlayerObjectData(e, t) {
    switch (t) {
        case "name":
            const t = "string" == typeof e.name ? e.name : "",
                [a, r] = t.split(", ");
            return `${r || ""} ${a || ""}`.toLowerCase();
        case "pos":
            return sortPlayerPosOrder?.[e.pos?.toUpperCase?.()] || 9999;
        case "nfl_team":
            return e.nfl_team?.toUpperCase?.() || "";
        case "bye_week":
            return parseInt(e.bye_week, 10) || 0;
        case "fsrank":
            return parseFloat(e.fsrank) || 9999;
        case "adp":
            return parseFloat(e.adp) || 9999;
        case "myrank":
            return parseFloat(e.myrank) || 9999;
        case "projpts":
            return parseFloat(e.projpts) || 0;
        case "player_salary":
            return parseFloat(e.sort_sal) || 0;
        case "pwpts":
            return parseFloat(e.pwpts) || 0;
        case "pts":
            return parseFloat(e.pts) || 0;
        default:
            return "";
    }
}
function sortScrollFadeShadow(e, t) {
    const a = document.getElementById(e),
        r = document.querySelector(t);
    a &&
        r &&
        ((r.style.position = "relative"),
        a.addEventListener("scroll", () => {
            a.scrollTop > 0 ? r.classList.add("shadow-fade-bottom") : r.classList.remove("shadow-fade-bottom");
        }));
}
function sortSyncCurRosterOrder() {
    const e = document.getElementById("drop-player-list");
    if (!e) return;
    const t = e.querySelectorAll(".add-drop-player-row"),
        a = [];
    t.forEach((e) => {
        const t = e.dataset.playerId,
            r = curRoster.find((e) => e.id === t);
        r && a.push(r);
    }),
        (curRoster = a),
        renderPlayerList(curRoster, "drop-player-list", "drop");
}
if ("add_drop" === thisProgram) {
    let I = !1;
    const F = document.createElement("style");
    if (
        ((F.textContent =
            '#add_drop table,#add_drop .mobile-wrap{visibility:visible;}#AddDropForm .deselect-btn {cursor:pointer}#AddDropForm .selected-moves .hidden {display:block!important}#add-player-list.showPts .hide-col-proj,#drop-player-list.showPts .hide-col-proj,#add-player-list.showProj .hide-col-pts,#drop-player-list.showProj .hide-col-pts{display:none!important}#AddDropForm .player-wproj.hide-col-pts:before{content:"YTD PTS"}'),
        "undefined" == typeof franchise_id)
    )
        document.body.appendChild(F);
    else if ("undefined" == typeof playerDatabaseObj) {
        document.body.appendChild(F);
        document.querySelector('form[name="SELECT_FRANCHISE"]') || document.body.classList.add("addDropSubmit"),
            document.querySelectorAll("#add_drop table.report").forEach((e) => {
                if (e.parentElement?.classList.contains("mobile-wrap")) return;
                const t = document.createElement("div");
                (t.className = "mobile-wrap"), e.parentNode.insertBefore(t, e), t.appendChild(e);
            });
    } else {
        document.body.classList.add("addDropSelect");
        let M = null,
            N = !0,
            O = null;
        if (
            (document.querySelectorAll("table").forEach((e) => {
                const t = e.querySelector("caption > span");
                t && t.textContent.includes("Add/Drop") && ((M = e), (O = e.closest(".mobile-wrap")));
            }),
            void 0 === addDropShowRoster)
        )
            var addDropShowRoster = !0;
        if (void 0 === addDropShowWaiver) var addDropShowWaiver = !0;
        if (void 0 === timeFrame) var timeFrame = 300;
        if (void 0 === showWaiverCommentBox) var showWaiverCommentBox = !0;
        const B = document.querySelector("#add_drop");
        if (B) {
            const q = B?.querySelector("p.warning");
            if (
                (q && q.textContent.includes("According") && q.textContent.includes("League Calendar")) ||
                (q && q.textContent.includes("Franchise") && q.textContent.includes("Do Not Have"))
            ) {
                N = !1;
                const Q = B.querySelectorAll("table.report");
                let U = "",
                    z = "";
                Q.forEach((e) => {
                    const t = e.querySelector("caption > span")?.textContent?.trim();
                    if (("Roster Limits" === t && ((U = e.outerHTML), e.remove()), "Current Waiver Order" === t)) {
                        const t = e.querySelector("tbody") || e.createTBody(),
                            a = document.createElement("tr");
                        (a.className = "oddtablerow"),
                            (a.innerHTML =
                                '<th class="rank" style="text-align:center">#</th><th style="text-align:left">Franchise</th>'),
                            t.insertBefore(a, t.firstChild),
                            (z = e.outerHTML),
                            e.remove();
                    }
                });
                let Y = "";
                (Y += '<div id="enhanced-add-drop-ui">'),
                    (Y +=
                        '<div id="add-drop-not-permission" class="mobile-wrap"><div class="summary-title warning" style="margin:0 auto;text-align:center;">Calendar Rules Prevent You From Making Add-Drops At This Time</div></div>'),
                    (Y += "</div>"),
                    ((U && addDropShowRoster) || (z && addDropShowWaiver)) &&
                        ((Y += '<div id="add-drop-enhanced-ui-tables">'),
                        U && addDropShowRoster && (Y += `<div class="roster-container mobile-wrap">${U}</div>`),
                        z && addDropShowWaiver && (Y += `<div class="waiver-container mobile-wrap">${z}</div>`),
                        (Y += "</div>")),
                    O
                        ? (O.insertAdjacentHTML("beforebegin", Y), O.remove())
                        : M
                          ? (M.insertAdjacentHTML("beforebegin", Y), M.remove())
                          : B.insertAdjacentHTML("beforeend", Y),
                    requestAnimationFrame(() => {
                        document.body.appendChild(F);
                    }),
                    console.warn(" Add/Drop disabled by League Calendar.");
            } else {
                const isEmptyRank = (e) => null == e || ("string" == typeof e && "" === e.trim());
                ["add", "drop"].forEach((e) => {
                    Array.isArray(playerDatabaseObj[e]) &&
                        playerDatabaseObj[e].forEach((e) => {
                            isEmptyRank(e.pts) && (e.pts = 0), isEmptyRank(e.pwpts) && (e.pwpts = 0);
                        });
                });
                const W = window.playerDatabaseObj?.add || [],
                    G = window.playerDatabaseObj?.drop || [],
                    V = Object.values(W).some((e) => void 0 !== e.sal),
                    K = Object.values(G).some((e) => void 0 !== e.sal),
                    X = document.getElementById("add_pid_field_id"),
                    J = X?.value?.trim() || null;
                let Z = document.querySelector('input[name="FRANCHISE"]')?.value || "";
                Z || (Z = franchise_id);
                const ee = franchiseDatabase[`fid_${Z}`],
                    te = ee?.name || "Unknown Franchise";
                let ae = null,
                    re = null,
                    se = null,
                    oe = null,
                    le = 1,
                    ie = 1;
                const ne = Array.from(B.querySelectorAll('input[type="hidden"]')),
                    de = new Set(),
                    ce = [];
                ne.forEach((e) => {
                    const t = e.getAttribute("name");
                    t && !de.has(t) && (de.add(t), ce.push(e));
                });
                const pe = document.getElementById("add_filt_pos");
                let he = null;
                pe &&
                    (he = Array.from(pe.options)
                        .filter((e) => "ALL" !== e.value.toUpperCase())
                        .map((e) => {
                            const t = e.value.toUpperCase();
                            return `<option value="${t}">${t}</option>`;
                        })
                        .join(""));
                const _e = document.getElementById("add_filt_nfl");
                _e && _e.removeAttribute("onchange");
                const me = B.querySelectorAll("table.report");
                let ye = "",
                    ue = "";
                me.forEach((e) => {
                    const t = e.querySelector("caption > span")?.textContent?.trim();
                    if (("Roster Limits" === t && ((ye = e.outerHTML), e.remove()), "Current Waiver Order" === t)) {
                        const t = e.querySelector("tbody") || e.createTBody(),
                            a = document.createElement("tr");
                        (a.className = "oddtablerow"),
                            (a.innerHTML =
                                '<th class="rank" style="text-align:center">#</th><th style="text-align:left">Franchise</th>'),
                            t.insertBefore(a, t.firstChild),
                            (ue = e.outerHTML),
                            e.remove();
                    }
                });
                const fe = document.getElementById("add_name_field_id"),
                    be = document.getElementById("drop_name_field_id"),
                    ge = document.getElementById("add_drop_submit"),
                    ve = document.getElementById("round_field_id");
                let we = "";
                if (ve) {
                    const De = ve.querySelector("select");
                    De && (we = De.outerHTML), ve.remove();
                }
                const ke = document.getElementById("force_waiver_claim_p");
                let $e = "",
                    xe = "";
                if (ke) {
                    const Ie = ke.querySelector('input[type="checkbox"][name="FORCE_WAIVER"]');
                    Ie && ($e = Ie.outerHTML);
                    const Fe = ke.querySelector('label[for="FORCE_WAIVER"]');
                    Fe && (xe = Fe.outerHTML), ke.remove();
                }
                const Se = document.getElementById("amt_field_id");
                let Le = "",
                    Te = "";
                if (Se) {
                    const Me = Se.querySelectorAll("td"),
                        Ne = Me[1]?.querySelector("input");
                    if (Ne) {
                        Le = Ne.outerHTML;
                        let Oe = Me[1].innerHTML,
                            Be = Ne.outerHTML;
                        Te = Oe.replace(Be, "").trim();
                    }
                    Se.remove();
                }
                const Pe = document.getElementById("comments_field_id");
                let Ae = "",
                    Ce = "";
                if (Pe) {
                    const qe = Pe.querySelectorAll("td");
                    if (qe.length >= 2) {
                        Ae = qe[0].innerHTML.trim();
                        const Qe = "textarea",
                            Ue = qe[1].querySelector(Qe + '[name="COMMENTS"]');
                        Ue && (Ue.setAttribute("rows", "1"), Ue.removeAttribute("cols")), (Ce = qe[1].innerHTML.trim());
                    }
                    Pe.remove();
                }
                let Ee = "";
                (Ee += '<form id="AddDropForm" action="add_drop" method="POST">'),
                    ce.forEach((e) => {
                        Ee += e.outerHTML;
                    }),
                    (Ee += '<div id="enhanced-add-drop-ui">'),
                    fe &&
                        ge &&
                        be &&
                        ((Ee += '<div id="add-drop-summary" class="mobile-wrap">'),
                        (Ee += '<table align="center" class="report selected-moves">'),
                        (Ee += "<caption><span>Selected Moves</span></caption>"),
                        (Ee += "<tbody>"),
                        (Ee += '<tr><th colspan="100">Enter Players Before Submitting Requests</th></tr>'),
                        (Ee += "<tr><td>"),
                        (Ee += '<div class="wrapper-add-first">'),
                        (Ee += '<div class="row-add-drop-btn">'),
                        (Ee +=
                            '<div class="box-add-drop-btn adds-names shrink"><div class="adds-names" style="display:inline-block"><strong>Add:</strong></div><span id="add_name_field_id" style="padding-left:0.313rem">Select Player To Add</span></div>'),
                        (Ee +=
                            '<div class="box-add-drop-btn shrink"><div class="adds-names" style="display:inline-block"><strong>Drop:</strong></div><span id="drop_name_field_id" style="padding-left:0.313rem">Select Player To Drop</span></div>'),
                        (Ee +=
                            '<div class="box-add-drop-btn grow addBtn desktop-add-btn" style="text-align:right"></div>'),
                        (Ee += "</div>"),
                        (Ee += "</div>"),
                        $e &&
                            xe &&
                            ((Ee += '<div class="wrapper-add-second">'),
                            (Ee += '<div class="row-add-drop-btn">'),
                            (Ee += we
                                ? `<div class="box-add-drop-btn has-rounds-row shrink"><div id="force_waiver_claim_p" class="hidden"><span class="fa-checkbox" id="customCheckbox"><i class="fa-regular fa-square"></i></span><label for="FORCE_WAIVER">Submit as waiver claim</label>${$e}<div style="display:none" align="left" id="add_note_field_id"></div></div></div>`
                                : `<div class="box-add-drop-btn shrink"><div id="force_waiver_claim_p" class="hidden"><span class="fa-checkbox" id="customCheckbox"><i class="fa-regular fa-square"></i></span><label for="FORCE_WAIVER">Submit as waiver claim</label>${$e}<div style="display:none" align="left" id="add_note_field_id"></div></div></div>`),
                            we &&
                                (Ee += `<div class="box-add-drop-btn grow rounds-row"><div id="round_field_id" class="hidden"><div id="addgroupTXT" style="display:inline-block">Add to group:</div>${we}</div></div>`),
                            Le &&
                                Te &&
                                (Ee += we
                                    ? `<div class="box-add-drop-btn has-rounds-add"><div id="amt_field_id" class="hidden">BBID Amt:${Le} ${Te}</div></div>`
                                    : `<div class="box-add-drop-btn no-rounds-add grow"><div id="amt_field_id" class="hidden">BBID Amt:${Le} ${Te}</div></div>`),
                            (Ee += "</div>"),
                            (Ee += "</div>")),
                        Ae &&
                            Ce &&
                            ((Ee += showWaiverCommentBox
                                ? '<div id="comments_field_id" class="wrapper-add-first hidden">'
                                : '<div id="comments_field_id" style="display:none!important" class="wrapper-add-first hidden">'),
                            (Ee += '<div class="row-add-drop-btn comments-row">'),
                            (Ee += `<div class="box-add-drop-btn">${Ae}</div><div class="box-add-drop-btn grow">${Ce}</div>`),
                            (Ee += "</div>"),
                            (Ee += "</div>")),
                        (Ee += '<div id="add-button-mobile" class="wrapper-add-first">'),
                        (Ee += '<div class="row-add-drop-btn">'),
                        (Ee +=
                            '<div class="box-add-drop-btn grow addBtn mobile-add-btn" style="text-align:center"></div>'),
                        (Ee += "</div>"),
                        (Ee += "</div>"),
                        (Ee += "</td></tr></tbody></table></div>")),
                    (Ee += '<div id="add-drop-enhanced-ui">'),
                    (he || _e) &&
                        ((Ee += '<div class="filter-controls mobile-wrap">'),
                        (Ee +=
                            '<input id="addDropSearch" type="text" placeholder="Search player name..." style="flex: 1 1 0%; padding: .1875rem;">'),
                        _e && (Ee += _e.outerHTML),
                        he && (Ee += `<select id="position-filter"><option value="">All</option>${he}</select>`),
                        (Ee += "</div>")),
                    (Ee += '<div class="add-player-container mobile-wrap">'),
                    (Ee +=
                        '<table align="center" class="report cus-add-tableCap"><caption><span>Available Players</span></caption><tbody><tr><th><div class="sort-bar add-list"><span>Sort by:</span><button type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="pwpts">Proj <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                    (Ee += V
                        ? '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="player_salary">Sal <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="pts">Pts <i class="fa-solid"></i></button>'
                        : '<button type="button" class="sort-btn add-list" data-key="pos">Position <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="pts">Pts <i class="fa-solid"></i></button>'),
                    (Ee += "</div></th></tr></tbody></table>"),
                    (Ee += '<div id="add-player-list" class="showProj">'),
                    (Ee += "</div>"),
                    (Ee += `<div id="locked-msg" align="left" style="text-align:left"><b style="display:inline-block;text-align:center;width:1.5rem;">[L]</b> Locked: Cant Cut List <a href="options?L=${league_id}&amp;O=199" target="blank">Can't Cut List</a><br><b style="display:inline-block;text-align:center;width:1.5rem;"><span><i class="fa-regular fa-lock"></i></span></b> Locked: Global Lock , Game Started or Just Dropped</div>`),
                    (Ee += "</div>"),
                    (Ee += '<div class="drop-player-container mobile-wrap">'),
                    (Ee += `<table align="center" class="report cus-drop-tableCap"><caption><span>${te} Roster</span></caption><tbody><tr><th><div class="sort-bar drop-list"><span>Sort by:</span><button type="button" class="sort-btn drop-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="pwpts">Proj <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>`),
                    (Ee += K
                        ? '<button type="button" class="sort-btn drop-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="player_salary">Sal <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="pts">Pts <i class="fa-solid"></i></button>'
                        : '<button type="button" class="sort-btn drop-list" data-key="pos">Position <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="pts">Pts <i class="fa-solid"></i></button>'),
                    (Ee += "</div></th></tr></tbody></table>"),
                    (Ee += '<div id="drop-player-list" class="showProj"></div>'),
                    (Ee += "</div>"),
                    (Ee += "</div>"),
                    (Ee += "</div>"),
                    (Ee += "</div>"),
                    (Ee += "</form>"),
                    ((ye && addDropShowRoster) || (ue && addDropShowWaiver)) &&
                        ((Ee += '<div id="add-drop-enhanced-ui-tables">'),
                        ye && addDropShowRoster && (Ee += `<div class="roster-container mobile-wrap">${ye}</div>`),
                        ue && addDropShowWaiver && (Ee += `<div class="waiver-container mobile-wrap">${ue}</div>`),
                        (Ee += "</div>")),
                    O
                        ? (O.insertAdjacentHTML("beforebegin", Ee), O.remove())
                        : M
                          ? (M.insertAdjacentHTML("beforebegin", Ee), M.remove())
                          : B.insertAdjacentHTML("beforeend", Ee),
                    fe && fe.remove(),
                    be && be.remove(),
                    ge && ge.remove();
                document.getElementById("AddDropForm");
                Array.from(B.querySelectorAll('input[type="hidden"]')).forEach((e) => {
                    AddDropForm.contains(e) || e.remove();
                });
                const He = document.getElementById("addDropSearch"),
                    Re = document.getElementById("position-filter");
                function renderPlayerList(e, t, a) {
                    const r = document.getElementById(t);
                    if (!r) return void console.warn(` Container ${t} not found.`);
                    r.textContent = "";
                    const s = document.getElementById("add_pid_field_id") || { value: "" },
                        o = document.getElementById("drop_pid_field_id") || { value: "" },
                        l = document.getElementById("add_name_field_id"),
                        i = document.getElementById("drop_name_field_id");
                    let n = Array.isArray(e) ? e.slice() : [];
                    if ("add" === a) {
                        if (he || _e) {
                            const t = document.getElementById("addDropSearch"),
                                a = (t?.value ?? "").trim().toLowerCase(),
                                r = document.getElementById("position-filter")?.value || "",
                                s = document.querySelector("#add_filt_nfl")?.value?.toUpperCase?.() || "";
                            n = e.filter((e) => {
                                const [t, o] = (e.name || "").split(", "),
                                    l = `${o || ""} ${t || ""}`.trim().toLowerCase(),
                                    i = !r || e.pos?.toUpperCase() === r,
                                    n = "ALL" === s || !s || e.nfl_team?.toUpperCase() === s;
                                return l.includes(a) && i && n;
                            });
                        }
                        const t = le ?? 1,
                            a = ["fsrank", "pwpts", "projpts", "player_salary", "pts", "adp", "myrank", "bye_week"],
                            posRank = (e) => sortPlayerPosOrder[(e || "").toUpperCase()] ?? 99,
                            fullName = (e) => {
                                if (!e || "string" != typeof e) return "";
                                const [t, a] = e.split(", ");
                                return `${a || ""} ${t || ""}`.trim().toLowerCase();
                            };
                        se
                            ? ((s.value = ""),
                              l && ((l.innerHTML = "Select Player To Add"), l.classList.remove("selectedLock")),
                              n.sort((e, r) => {
                                  let s = sortPlayerObjectData(e, se),
                                      o = sortPlayerObjectData(r, se),
                                      l = 0;
                                  if (a.includes(se)) {
                                      l = (Number.isFinite(+s) ? +s : 0) - (Number.isFinite(+o) ? +o : 0);
                                  } else
                                      "pos" === se
                                          ? ((l = posRank(e.pos) - posRank(r.pos)),
                                            0 === l && (l = fullName(e.name).localeCompare(fullName(r.name))))
                                          : (l =
                                                "name" === se
                                                    ? fullName(e.name).localeCompare(fullName(r.name))
                                                    : String(s ?? "").localeCompare(String(o ?? ""), void 0, {
                                                          sensitivity: "base",
                                                      }));
                                  return (
                                      0 === l &&
                                          ((l = posRank(e.pos) - posRank(r.pos)),
                                          0 === l &&
                                              ((l = fullName(e.name).localeCompare(fullName(r.name))),
                                              0 === l && (l = String(e.pid ?? "").localeCompare(String(r.pid ?? ""))))),
                                      l * t
                                  );
                              }))
                            : n.sort((e, t) => {
                                  let a = posRank(e.pos) - posRank(t.pos);
                                  return (
                                      0 === a && (a = fullName(e.name).localeCompare(fullName(t.name))),
                                      0 === a && (a = String(e.pid ?? "").localeCompare(String(t.pid ?? ""))),
                                      a
                                  );
                              });
                    }
                    if ("drop" === a) {
                        const e = ie ?? 1,
                            t = ["fsrank", "pwpts", "projpts", "player_salary", "pts", "adp", "myrank", "bye_week"],
                            posRank = (e) => sortPlayerPosOrder[(e || "").toUpperCase()] ?? 99,
                            fullName = (e) => {
                                if (!e || "string" != typeof e) return "";
                                const [t, a] = e.split(", ");
                                return `${a || ""} ${t || ""}`.trim().toLowerCase();
                            };
                        oe
                            ? ((o.value = ""),
                              i && ((i.innerHTML = "Select Player To Drop"), i.classList.remove("selectedLock")),
                              n.sort((a, r) => {
                                  let s = sortPlayerObjectData(a, oe),
                                      o = sortPlayerObjectData(r, oe),
                                      l = 0;
                                  if (t.includes(oe)) {
                                      l = (Number.isFinite(+s) ? +s : 0) - (Number.isFinite(+o) ? +o : 0);
                                  } else
                                      "pos" === oe
                                          ? ((l = posRank(a.pos) - posRank(r.pos)),
                                            0 === l && (l = fullName(a.name).localeCompare(fullName(r.name))))
                                          : (l =
                                                "name" === oe
                                                    ? fullName(a.name).localeCompare(fullName(r.name))
                                                    : String(s ?? "").localeCompare(String(o ?? ""), void 0, {
                                                          sensitivity: "base",
                                                      }));
                                  return (
                                      0 === l &&
                                          ((l = posRank(a.pos) - posRank(r.pos)),
                                          0 === l &&
                                              ((l = fullName(a.name).localeCompare(fullName(r.name))),
                                              0 === l && (l = String(a.pid ?? "").localeCompare(String(r.pid ?? ""))))),
                                      l * e
                                  );
                              }))
                            : n.sort((e, t) => {
                                  let a = posRank(e.pos) - posRank(t.pos);
                                  return (
                                      0 === a && (a = fullName(e.name).localeCompare(fullName(t.name))),
                                      0 === a && (a = String(e.pid ?? "").localeCompare(String(t.pid ?? ""))),
                                      a
                                  );
                              });
                    }
                    const d = document.getElementById("FORCE_WAIVER"),
                        c = document.querySelector("label[for='FORCE_WAIVER']"),
                        p = document.getElementById("customCheckbox"),
                        setUILocked = (e) => {
                            d && (d.disabled = e),
                                c &&
                                    ((c.style.pointerEvents = e ? "none" : "auto"), (c.style.opacity = e ? "0.5" : "")),
                                p && ((p.style.pointerEvents = e ? "none" : "auto"), p.classList.toggle("disabled", e));
                        },
                        forceCheckboxState = (e) => {
                            if (!d) return;
                            const t = d.disabled;
                            t && (d.disabled = !1), d.checked !== e && d.click(), t && (d.disabled = !0);
                        };
                    if (d) {
                        l.classList.contains("selectedLock") || i.classList.contains("selectedLock")
                            ? (setUILocked(!0), forceCheckboxState(!0))
                            : (setUILocked(!1), forceCheckboxState(!1));
                    }
                    const h = document.createDocumentFragment();
                    n.forEach((e, t) => {
                        const [r, s] = e.name.split(", ");
                        let o = s?.trim() || "",
                            l = r?.trim() || "";
                        const i = o.includes("#") || l.includes("#"),
                            n = o.includes("*") || l.includes("*"),
                            d = o.includes("^") || l.includes("^"),
                            c = o.includes("!") || l.includes("!"),
                            p = o.includes("(R)") || l.includes("(R)");
                        (o = o
                            .replace("#", "")
                            .replace("*", "")
                            .replace("^", "")
                            .replace("(R)", "")
                            .replace("!", "")
                            .trim()),
                            (l = l
                                .replace("#", "")
                                .replace("*", "")
                                .replace("^", "")
                                .replace("(R)", "")
                                .replace("!", "")
                                .trim());
                        const _ = `${o} ${l}${p ? " (R)" : ""}`.trim();
                        let m = "";
                        i &&
                            (m +=
                                ' <span class="player-status" title="Locked - Waivers"><i class="fa-regular fa-lock"></i></span>'),
                            n &&
                                (m +=
                                    ' <span class="player-status" title="Locked - Just Dropped"><i class="fa-regular fa-lock"></i></span>'),
                            d && (m += ' <span class="player-status">[L]</span>'),
                            c &&
                                (m +=
                                    ' <span class="player-status" title="Locked - Game Started"><i class="fa-regular fa-lock"></i></span>');
                        const y = [
                                "DEF",
                                "COACH",
                                "OFF",
                                "TMQB",
                                "TMRB",
                                "TMWR",
                                "TMTE",
                                "TMPK",
                                "TMPN",
                                "TMDL",
                                "TMLB",
                                "TMDB",
                            ].includes(e.pos?.toUpperCase())
                                ? `https://www.mflscripts.com/playerImages_96x96/mfl_${e.nfl_team}.svg`
                                : `https://www.mflscripts.com/playerImages_80x107/mfl_${e.id}.png`,
                            u = "https://mflscripts.com/playerImages_80x107/free_agent.png";
                        let f = "";
                        f =
                            "drop" === a
                                ? e.sal
                                    ? `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}</small><br><small class="hide-col-pts">${isNaN(parseFloat(e.pwpts)) ? "Proj Pts: 0" : `Proj Pts: ${parseFloat(e.pwpts)}`}</small><small class="hide-col-proj">${isNaN(parseFloat(e.pts)) ? "YTD Pts: 0" : `YTD Pts: ${parseFloat(e.pts)}`}</small><small>${isNaN(parseFloat(e.sort_sal)) ? "  Salary: $0" : `  Salary: $${parseFloat(e.sort_sal)}`}</small>`
                                    : `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}</small><br><small class="hide-col-pts">${isNaN(parseFloat(e.pwpts)) ? "Proj Pts: 0" : `Proj Pts: ${parseFloat(e.pwpts)}`}</small><small class="hide-col-proj">${isNaN(parseFloat(e.pts)) ? "YTD Pts: 0" : `YTD Pts: ${parseFloat(e.pts)}`}</small><small>${e.roster ? `  Roster: ${e.roster}` : ""}</small>`
                                : e.sal
                                  ? `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}</small><br><small class="hide-col-pts">${isNaN(parseFloat(e.pwpts)) ? "Proj Pts: 0" : `Proj Pts: ${parseFloat(e.pwpts)}`}</small><small class="hide-col-proj">${isNaN(parseFloat(e.pts)) ? "YTD Pts: 0" : `YTD Pts: ${parseFloat(e.pts)}`}</small><small>${isNaN(parseFloat(e.sort_sal)) ? "  Salary: $0" : `  Salary: $${parseFloat(e.sort_sal)}`}</small>`
                                  : `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}</small><br><small class="hide-col-pts">${isNaN(parseFloat(e.pwpts)) ? "Proj Pts: 0" : `Proj Pts: ${parseFloat(e.pwpts)}`}</small><small class="hide-col-proj">${isNaN(parseFloat(e.pts)) ? "YTD Pts: 0" : `YTD Pts: ${parseFloat(e.pts)}`}</small><small>  Status: FA </small>`;
                        const b = document.createElement("div");
                        d && "undefined" != typeof franchise_id && "0000" != franchise_id
                            ? (b.className =
                                  "add-drop-player-row disabled-locked " +
                                  (t % 2 == 0 ? "oddtablerow" : "eventablerow"))
                            : (c && "undefined" != typeof franchise_id && "0000" != franchise_id) ||
                                (i && "undefined" != typeof franchise_id && "0000" != franchise_id)
                              ? ((b.className =
                                    "add-drop-player-row player_locked " +
                                    (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                                (I = !0))
                              : n && "undefined" != typeof franchise_id && "0000" != franchise_id
                                ? ((b.className =
                                      "add-drop-player-row player_locked player_dropped " +
                                      (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                                  (I = !0))
                                : (b.className =
                                      "add-drop-player-row " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                            (b.dataset.playerId = e.id),
                            (b.innerHTML = d
                                ? `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${y}" alt="${_}" onerror="this.onerror=null;this.src='${u}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${_}${m}</strong><br>${f}</div>\n  <div class="player-wproj hide-col-proj" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.pwpts)) ? "0" : parseFloat(e.pwpts)}</div>\n  <div class="player-wproj hide-col-pts" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.pts)) ? "0" : parseFloat(e.pts)}</div>\n  <button type="button" class="select-btn">Locked</button>`
                                : `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${y}" alt="${_}" onerror="this.onerror=null;this.src='${u}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${_}${m}</strong><br>${f}</div>\n  <div class="player-wproj hide-col-proj" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.pwpts)) ? "0" : parseFloat(e.pwpts)}</div>\n  <div class="player-wproj hide-col-pts" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.pts)) ? "0" : parseFloat(e.pts)}</div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Drop"}</button>`),
                            h.appendChild(b);
                    }),
                        r.appendChild(h);
                }
                if (
                    (document.querySelectorAll('form[action="add_drop"]').forEach((e) => {
                        "AddDropForm" !== e.id && e.remove();
                    }),
                    N)
                ) {
                    const ze = document.getElementById("add-drop-enhanced-ui");
                    ze
                        ? ze.addEventListener("click", function (e) {
                              const t = e.target.closest(".add-drop-player-row");
                              if (!t || !ze.contains(t)) return;
                              const a = !!t.closest("#add-player-list");
                              handlePlayerRowClick(t, a ? "add" : "drop");
                          })
                        : console.warn(" Could not find #add-drop-enhanced-ui for delegation."),
                        (se = "pwpts"),
                        (le = -1),
                        (oe = "pos"),
                        (ie = 1),
                        renderPlayerList(W, "add-player-list", "add"),
                        renderPlayerList(G, "drop-player-list", "drop");
                    const Ye = document.querySelector(".sort-bar.add-list"),
                        We = document.querySelector(".sort-bar.drop-list"),
                        Ge = Ye.querySelector('button[data-key="pwpts"]');
                    if (Ge) {
                        Ge.querySelector("i").classList.add("fa-caret-down"), Ge.classList.add("activated");
                    }
                    const Ve = We.querySelector('button[data-key="pos"]');
                    if (Ve) {
                        Ve.querySelector("i").classList.add("fa-caret-down"), Ve.classList.add("activated");
                    }
                    He &&
                        He.addEventListener("input", () => {
                            renderPlayerList(W, "add-player-list", "add");
                            const e = document.querySelector("#add-player-list");
                            e && e.scrollTo({ top: 0 });
                        }),
                        Re &&
                            Re.addEventListener("change", () => {
                                renderPlayerList(W, "add-player-list", "add");
                                const e = document.querySelector("#add-player-list");
                                e && e.scrollTo({ top: 0 });
                            });
                    const Ke = document.getElementById("add_filt_nfl");
                    if (
                        (Ke &&
                            Ke.addEventListener("change", () => {
                                renderPlayerList(W, "add-player-list", "add");
                                const e = document.querySelector("#add-player-list");
                                e && e.scrollTo({ top: 0 });
                            }),
                        J)
                    ) {
                        const Xe = document.querySelector(`.add-drop-player-row[data-player-id="${J}"]`);
                        Xe && Xe.click();
                    }
                    sortScrollFadeShadow("add-player-list", ".sort-bar.add-list"),
                        sortScrollFadeShadow("drop-player-list", ".sort-bar.drop-list"),
                        requestAnimationFrame(() => {
                            requestAnimationFrame(() => {
                                setTimeout(() => {
                                    document.body.appendChild(F);
                                }, timeFrame);
                            });
                        }),
                        Ye.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                            e.addEventListener("click", () => {
                                const t = e.dataset.key;
                                se === t
                                    ? (le *= -1)
                                    : ((se = t),
                                      (le =
                                          "pwpts" === t || "pts" === t || "player_salary" === t || "projpts" === t
                                              ? -1
                                              : 1)),
                                    Ye.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                                        e.classList.remove("activated");
                                        e.querySelector("i").className = "fa-solid";
                                    }),
                                    e.classList.add("activated");
                                e.querySelector("i").classList.add(1 === le ? "fa-caret-up" : "fa-caret-down");
                                const a = document.getElementById("add-player-list");
                                a &&
                                    ("pts" === t
                                        ? (a.classList.remove("showProj"), a.classList.add("showPts"))
                                        : "pwpts" === t &&
                                          (a.classList.remove("showPts"), a.classList.add("showProj"))),
                                    renderPlayerList(W, "add-player-list", "add"),
                                    a && a.scrollTo({ top: 0 });
                            });
                        }),
                        We.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                            e.addEventListener("click", () => {
                                const t = e.dataset.key;
                                oe === t
                                    ? (ie *= -1)
                                    : ((oe = t),
                                      (ie =
                                          "pwpts" === t || "pts" === t || "player_salary" === t || "projpts" === t
                                              ? -1
                                              : 1)),
                                    We.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                                        e.classList.remove("activated");
                                        e.querySelector("i").className = "fa-solid";
                                    }),
                                    e.classList.add("activated");
                                e.querySelector("i").classList.add(1 === ie ? "fa-caret-up" : "fa-caret-down");
                                const a = document.querySelector("#drop-player-list");
                                a &&
                                    ("pts" === t
                                        ? (a.classList.remove("showProj"), a.classList.add("showPts"))
                                        : "pwpts" === t &&
                                          (a.classList.remove("showPts"), a.classList.add("showProj"))),
                                    renderPlayerList(G, "drop-player-list", "drop"),
                                    a && a.scrollTo({ top: 0 });
                            });
                        });
                }
                function handlePlayerRowClick(e, t) {
                    const a = e.dataset.playerId,
                        r = e.querySelector("button"),
                        s = "add" === t,
                        o = document.getElementById("add_pid_field_id"),
                        l = document.getElementById("drop_pid_field_id"),
                        i = s ? ae : re,
                        n = s ? (e) => (ae = e) : (e) => (re = e),
                        d = s ? re : ae,
                        c = s ? o : l,
                        p = document.getElementById(s ? "add_name_field_id" : "drop_name_field_id"),
                        h = document.getElementById(s ? "drop_name_field_id" : "add_name_field_id"),
                        _ = document.getElementById("FORCE_WAIVER"),
                        m = document.querySelector("label[for='FORCE_WAIVER']"),
                        y = document.getElementById("customCheckbox"),
                        u = document.getElementById("add_name_field_id"),
                        f = document.getElementById("drop_name_field_id"),
                        setUILocked = (e) => {
                            _ && (_.disabled = e),
                                m &&
                                    ((m.style.pointerEvents = e ? "none" : "auto"), (m.style.opacity = e ? "0.5" : "")),
                                y && ((y.style.pointerEvents = e ? "none" : "auto"), y.classList.toggle("disabled", e));
                        },
                        forceCheckboxState = (e) => {
                            if (!_) return;
                            const t = _.disabled;
                            t && (_.disabled = !1), _.checked !== e && _.click(), t && (_.disabled = !0);
                        };
                    if ((u && u.classList.remove("selectedLock"), f && f.classList.remove("selectedLock"), i === e)) {
                        e.classList.remove("selected-player"),
                            n(null),
                            (c.value = ""),
                            r &&
                                ((r.textContent = s ? "Add" : "Drop"),
                                r.classList.remove("deselect-btn"),
                                r.classList.add("select-btn")),
                            p && (p.textContent = s ? "Select Player To Add" : "Select Player To Drop");
                        const t = !!d && d.classList.contains("player_locked");
                        if ((t && h && h.classList.add("selectedLock"), _)) {
                            const e = t;
                            setUILocked(e), forceCheckboxState(e);
                        }
                    } else {
                        if (i) {
                            i.classList.remove("selected-player");
                            const e = i.querySelector("button");
                            e &&
                                ((e.textContent = s ? "Add" : "Drop"),
                                e.classList.remove("deselect-btn"),
                                e.classList.add("select-btn"));
                        }
                        e.classList.add("selected-player"),
                            n(e),
                            (c.value = a),
                            r &&
                                ((r.textContent = "Deselect"),
                                r.classList.remove("select-btn"),
                                r.classList.add("deselect-btn"));
                        const t = e.querySelector(".player-info strong");
                        let o = "";
                        if (t) {
                            const e = t.cloneNode(!0),
                                a = e.querySelector(".player-status");
                            a && a.remove(), (o = e.textContent.replace(/\(R\)/g, "").trim());
                        }
                        const l = e.querySelector(".player-pos")?.textContent || "",
                            m = e.querySelector(".player-info small")?.textContent?.split("")[0]?.trim() || "";
                        p && (p.textContent = `${l} ${o} (${m})`);
                        const y = e.classList.contains("player_locked"),
                            u = !!d && d.classList.contains("player_locked");
                        if ((y && p && p.classList.add("selectedLock"), u && h && h.classList.add("selectedLock"), _)) {
                            const e = y || u;
                            setUILocked(e), forceCheckboxState(e);
                        }
                    }
                    const b = document.getElementById("add_drop_submit");
                    if (b) {
                        const e = !!o?.value,
                            t = !!l?.value;
                        b.disabled = !e && !t;
                    }
                }
                function handleSubmitButtonChange() {
                    const e = window.innerWidth,
                        t = document.getElementById("add_pid_field_id"),
                        a = document.getElementById("drop_pid_field_id"),
                        r = document.getElementById("FORCE_WAIVER"),
                        s = !!t?.value?.trim(),
                        o = !!a?.value?.trim(),
                        l = !(s || o),
                        i = r?.checked,
                        n = i ? "Submit Request" : "Perform Add/Drop",
                        attachSubmitHandler = (e) => {
                            e.addEventListener("click", function (e) {
                                const t = document.querySelector('input[name="BBID_AMT"]');
                                r &&
                                    r.checked &&
                                    t &&
                                    "" === t.value.trim() &&
                                    (e.preventDefault(),
                                    alert(" Please enter a BBID Amount for your waiver claim."));
                            });
                        };
                    if (e < 700) {
                        const e = document.querySelector(".desktop-add-btn #add_drop_submit");
                        e && e.remove();
                        const t = document.querySelector(".mobile-add-btn");
                        if (t && !t.querySelector("#add_drop_submit")) {
                            const e = document.createElement("input");
                            (e.type = "submit"),
                                (e.id = "add_drop_submit"),
                                (e.name = "SUBMIT"),
                                (e.disabled = l),
                                (e.value = n),
                                attachSubmitHandler(e),
                                t.appendChild(e);
                        }
                    } else {
                        const e = document.querySelector(".mobile-add-btn #add_drop_submit");
                        e && e.remove();
                        const t = document.querySelector(".desktop-add-btn");
                        if (t && !t.querySelector("#add_drop_submit")) {
                            const e = document.createElement("input");
                            (e.type = "submit"),
                                (e.id = "add_drop_submit"),
                                (e.name = "SUBMIT"),
                                (e.disabled = l),
                                (e.value = n),
                                attachSubmitHandler(e),
                                t.appendChild(e);
                        }
                    }
                }
                handleSubmitButtonChange(),
                    window.addEventListener("resize", handleSubmitButtonChange),
                    document.addEventListener("DOMContentLoaded", () => {
                        const e = document.getElementById("FORCE_WAIVER"),
                            t = document.getElementById("customCheckbox"),
                            a = t?.querySelector("i");
                        function updateCheckboxVisual() {
                            e.checked
                                ? (t.classList.add("checked"),
                                  a.classList.remove("fa-square"),
                                  a.classList.add("fa-check-square"))
                                : (t.classList.remove("checked"),
                                  a.classList.remove("fa-check-square"),
                                  a.classList.add("fa-square"));
                        }
                        e &&
                            t &&
                            a &&
                            (t.addEventListener("click", () => {
                                (e.checked = !e.checked), e.dispatchEvent(new Event("change"));
                            }),
                            e.addEventListener("change", updateCheckboxVisual),
                            updateCheckboxVisual());
                    });
                const je = B.querySelector("#waiver_request_list");
                if (je) {
                    const Je = document.createElement("div");
                    (Je.className = "mobile-wrap requests-table"),
                        je.parentNode.insertBefore(Je, je),
                        Je.appendChild(je);
                    const Ze = {
                        "COPY_ROUND=": { icon: "fa-regular fa-copy", title: "Copy Group To Next Round" },
                        "MOVE_DOWN=": { icon: "fa-regular fa-angle-down", title: "Move Player Down" },
                        "MOVE_UP=": { icon: "fa-regular fa-angle-up", title: "Move Player Up" },
                        "DELETE=": { icon: "fa-regular fa-trash-xmark", title: "Delete This Player Request" },
                        "ROUND=": { icon: "fa-regular fa-pencil", title: "Edit Waivers Selections" },
                    };
                    je.querySelectorAll("td").forEach((e) => {
                        const t = Array.from(e.querySelectorAll("a"))
                            .map((e) => {
                                const t = e.getAttribute("href") || "",
                                    a = Object.keys(Ze).find((e) => t.includes(e));
                                return a ? { link: e, keyword: a } : null;
                            })
                            .filter(Boolean);
                        t.length &&
                            (e.classList.add("action"),
                            (e.textContent = ""),
                            t.forEach(({ link: a, keyword: r }, s) => {
                                const { icon: o, title: l } = Ze[r],
                                    i = document.createElement("a");
                                (i.href = a.href), (i.title = l);
                                const n = document.createElement("i");
                                o.split(" ").forEach((e) => n.classList.add(e)),
                                    n.setAttribute("aria-hidden", "true"),
                                    i.appendChild(n),
                                    e.appendChild(i),
                                    s < t.length - 1 && e.appendChild(document.createTextNode(" "));
                            }));
                    });
                    const et = je.querySelector("caption span");
                    et && (et.textContent = "Current Waiver Claims"),
                        je.querySelectorAll("th").forEach((e) => {
                            const t = e.textContent.trim();
                            /Group|Round/.test(t) && e.classList.add("round"),
                                t.includes("Add") && e.classList.add("add-player"),
                                t.includes("Drop") && e.classList.add("drop-player"),
                                t.includes("Bid Amount") && e.classList.add("bid-amount"),
                                t.includes("Action") && e.classList.add("action");
                        }),
                        je.querySelectorAll("td[rowspan]").forEach((e) => {
                            e.parentElement.classList.add("hasrowspan", "filtertr");
                        }),
                        ["oddtablerow", "eventablerow"].forEach((e) => {
                            je.querySelectorAll(`tr.${e}.hasrowspan`).forEach((t) => {
                                let a = t.nextElementSibling;
                                for (
                                    ;
                                    a && !a.classList.contains("oddtablerow" === e ? "eventablerow" : "oddtablerow");

                                )
                                    a.classList.add("sub-hasrowspan", "filtertr"), (a = a.nextElementSibling);
                            });
                        }),
                        je
                            .querySelectorAll("tr.eventablerow:not(.filtertr), tr.oddtablerow:not(.filtertr)")
                            .forEach((e) => {
                                e.classList.add("norowspan");
                            }),
                        je.querySelectorAll("tr").forEach((e) => {
                            const t = e.querySelector("td:first-child");
                            t && /^[1-8]$/.test(t.textContent.trim()) && t.classList.add("round");
                        }),
                        je.querySelectorAll('td a[href*="player?"], td a[href*="launch_player_modal"]').forEach((e) => {
                            const t = e.closest("td");
                            t && t.classList.add("add-player");
                        }),
                        je.querySelectorAll("td.add-player + td.add-player").forEach((e) => {
                            e.className = "drop-player";
                        }),
                        je.querySelectorAll("td.points").forEach((e) => e.classList.add("bid-amount")),
                        je.querySelectorAll("td").forEach((e) => {
                            e.textContent.includes("Delete") && e.classList.add("action");
                        });
                    let tt = Array.from(je.querySelectorAll("tr th")).findIndex(
                        (e) => "Time Entered" === e.textContent.trim()
                    );
                    -1 !== tt &&
                        je.querySelectorAll("tr").forEach((e) => {
                            const t = e.querySelectorAll("th");
                            t[tt + 1] && t[tt + 1].remove(), t[tt] && t[tt].remove();
                        }),
                        je.querySelectorAll("tr").forEach((e, t, a) => {
                            if ("number" != typeof tt || tt < 0) return;
                            const r = e.querySelectorAll("td");
                            if (r.length <= tt) return;
                            const s = r[0]?.getAttribute("rowspan"),
                                o = r[tt]?.textContent.trim(),
                                l = r[tt + 1]?.textContent.trim(),
                                i = e.classList.contains("eventablerow") ? "eventablerow" : "oddtablerow";
                            [r[tt], r[tt + 1]].forEach((e) => e?.remove());
                            const n = document.createElement("tr");
                            (n.className = i),
                                (n.innerHTML = `<td colspan="${tt}" class="time-cell"><span class="warning">Time Entered: </span>${o}</td>`);
                            const d = document.createElement("tr");
                            if (
                                ((d.className = i),
                                (d.innerHTML = `<td colspan="${tt}" class="comments-cell"><span class="warning">Comments: </span><span class="comment-span">${l}</span></td>`),
                                s)
                            ) {
                                const e = parseInt(s, 10) || 1,
                                    o = a[t + e - 1];
                                r[0]?.setAttribute("rowspan", String(e + 2)), o?.after(d), o?.after(n);
                            } else {
                                const t = r[0],
                                    a = t?.classList.contains("round");
                                if (a) e.after(d), e.after(n), t.setAttribute("rowspan", "3");
                                else {
                                    const t = (je.tBodies?.[0] || je).querySelector("tr:last-of-type") || e;
                                    t.after(d), t.after(n);
                                }
                            }
                        });
                }
            }
        } else document.body.appendChild(F);
    }
}
if ("options_257" === thisProgram) {
    const at = document.createElement("style");
    if (
        ((at.textContent =
            '#body_options_257 table,#body_options_257 .mobile-wrap,#dropInputDiv{visibility:visible;}#AddDropForm .player-wproj.hide-col-pts:before{content:"YTD PTS"}'),
        "undefined" == typeof franchise_id)
    )
        document.body.appendChild(at);
    else if ("undefined" == typeof playerDatabaseObj) document.body.appendChild(at);
    else {
        document.body.classList.add("DropSelect");
        let rt = !0,
            st = [];
        const ot = document.querySelector('form[action*="add_drop"]');
        if (void 0 === timeFrame) timeFrame = 300;
        const lt = document.querySelector("#options_257");
        if (lt) {
            const it = lt?.querySelector("p.warning");
            if (
                (it && it.textContent.includes("According") && it.textContent.includes("League Calendar")) ||
                (it && it.textContent.includes("Franchise") && it.textContent.includes("Do Not Have"))
            ) {
                rt = !1;
                let nt = "";
                (nt += '<div id="enhanced-add-drop-ui">'),
                    (nt +=
                        '<div id="add-drop-not-permission" class="mobile-wrap"><div class="summary-title warning" style="margin:0 auto;text-align:center;">Calendar Rules Prevent You From Making Drops At This Time</div></div>'),
                    (nt += "</div>"),
                    ot && (ot.outerHTML = nt),
                    requestAnimationFrame(() => {
                        document.body.appendChild(at);
                    }),
                    console.warn(" Add/Drop disabled by League Calendar.");
            } else {
                const isEmptyRank = (e) => null == e || ("string" == typeof e && "" === e.trim());
                ["picker"].forEach((e) => {
                    Array.isArray(playerDatabaseObj[e]) &&
                        playerDatabaseObj[e].forEach((e) => {
                            isEmptyRank(e.pts) && (e.pts = 0), isEmptyRank(e.projpts) && (e.projpts = 0);
                        });
                });
                const dt = window.playerDatabaseObj?.picker || [],
                    ct = Object.values(dt).some((e) => void 0 !== e.sal),
                    pt = Object.values(dt).some((e) => void 0 !== e.sal);
                let ht = document.querySelector('input[name="FRANCHISE"]')?.value || "";
                ht || (ht = franchise_id);
                const _t = franchiseDatabase[`fid_${ht}`];
                let mt = null,
                    yt = null,
                    ut = 1,
                    ft = 1,
                    bt = "";
                function renderPlayerList(e, t, a) {
                    const r = document.getElementById(t);
                    if (!r) return void console.warn(` Container ${t} not found.`);
                    r.textContent = "";
                    let s = Array.isArray(e) ? e.slice() : [];
                    if ("add" === a) {
                        const e = ut ?? (mt ? defaultDirForKey(mt) : 1),
                            t = ["fsrank", "pwpts", "projpts", "player_salary", "pts", "adp", "myrank", "bye_week"],
                            defaultDirForKey = (e) => (t.includes(e) ? -1 : 1),
                            posRank = (e) => sortPlayerPosOrder[(e || "").toUpperCase()] ?? 99,
                            fullName = (e) => {
                                if (!e || "string" != typeof e) return "";
                                const [t, a] = e.split(", ");
                                return `${a || ""} ${t || ""}`.trim().toLowerCase();
                            };
                        mt
                            ? s.sort((a, r) => {
                                  let s = sortPlayerObjectData(a, mt),
                                      o = sortPlayerObjectData(r, mt),
                                      l = 0;
                                  if (t.includes(mt)) {
                                      l = (Number.isFinite(+s) ? +s : 0) - (Number.isFinite(+o) ? +o : 0);
                                  } else
                                      "pos" === mt
                                          ? ((l = posRank(a.pos) - posRank(r.pos)),
                                            0 === l && (l = fullName(a.name).localeCompare(fullName(r.name))))
                                          : (l =
                                                "name" === mt
                                                    ? fullName(a.name).localeCompare(fullName(r.name))
                                                    : String(s ?? "").localeCompare(String(o ?? ""), void 0, {
                                                          sensitivity: "base",
                                                      }));
                                  return (
                                      0 === l &&
                                          ((l = posRank(a.pos) - posRank(r.pos)),
                                          0 === l &&
                                              ((l = fullName(a.name).localeCompare(fullName(r.name))),
                                              0 === l && (l = String(a.pid ?? "").localeCompare(String(r.pid ?? ""))))),
                                      l * e
                                  );
                              })
                            : s.sort((e, t) => {
                                  let a = posRank(e.pos) - posRank(t.pos);
                                  return (
                                      0 === a && (a = fullName(e.name).localeCompare(fullName(t.name))),
                                      0 === a && (a = String(e.pid ?? "").localeCompare(String(t.pid ?? ""))),
                                      a
                                  );
                              });
                    }
                    if ("drop" === a) {
                        const e = ft ?? (yt ? defaultDirForKey(yt) : 1),
                            t = ["fsrank", "pwpts", "projpts", "player_salary", "pts", "adp", "myrank", "bye_week"],
                            defaultDirForKey = (e) => (t.includes(e) ? -1 : 1),
                            posRank = (e) => sortPlayerPosOrder[(e || "").toUpperCase()] ?? 99,
                            fullName = (e) => {
                                if (!e || "string" != typeof e) return "";
                                const [t, a] = e.split(", ");
                                return `${a || ""} ${t || ""}`.trim().toLowerCase();
                            };
                        yt
                            ? s.sort((a, r) => {
                                  let s = sortPlayerObjectData(a, yt),
                                      o = sortPlayerObjectData(r, yt),
                                      l = 0;
                                  if (t.includes(yt)) {
                                      l = (Number.isFinite(+s) ? +s : 0) - (Number.isFinite(+o) ? +o : 0);
                                  } else
                                      "pos" === yt
                                          ? ((l = posRank(a.pos) - posRank(r.pos)),
                                            0 === l && (l = fullName(a.name).localeCompare(fullName(r.name))))
                                          : (l =
                                                "name" === yt
                                                    ? fullName(a.name).localeCompare(fullName(r.name))
                                                    : String(s ?? "").localeCompare(String(o ?? ""), void 0, {
                                                          sensitivity: "base",
                                                      }));
                                  return (
                                      0 === l &&
                                          ((l = posRank(a.pos) - posRank(r.pos)),
                                          0 === l &&
                                              ((l = fullName(a.name).localeCompare(fullName(r.name))),
                                              0 === l && (l = String(a.pid ?? "").localeCompare(String(r.pid ?? ""))))),
                                      l * e
                                  );
                              })
                            : s.sort((e, t) => {
                                  let a = posRank(e.pos) - posRank(t.pos);
                                  return (
                                      0 === a && (a = fullName(e.name).localeCompare(fullName(t.name))),
                                      0 === a && (a = String(e.pid ?? "").localeCompare(String(t.pid ?? ""))),
                                      a
                                  );
                              });
                    }
                    const o = document.createDocumentFragment();
                    s.forEach((e, t) => {
                        const [r, s] = e.name.split(", ");
                        let l = s?.trim() || "",
                            i = r?.trim() || "";
                        const n = l.includes("#") || i.includes("#"),
                            d = l.includes("*") || i.includes("*"),
                            c = l.includes("^") || i.includes("^"),
                            p = l.includes("!") || i.includes("!"),
                            h = l.includes("(R)") || i.includes("(R)");
                        (l = l
                            .replace("#", "")
                            .replace("*", "")
                            .replace("^", "")
                            .replace("(R)", "")
                            .replace("!", "")
                            .trim()),
                            (i = i
                                .replace("#", "")
                                .replace("*", "")
                                .replace("^", "")
                                .replace("(R)", "")
                                .replace("!", "")
                                .trim());
                        const _ = `${l} ${i}${h ? " (R)" : ""}`.trim();
                        let m = "";
                        n && (m += ' <span class="player-status">#</span>'),
                            d && (m += ' <span class="player-status">*</span>'),
                            c && (m += ' <span class="player-status">[L]</span>'),
                            p &&
                                (m +=
                                    ' <span class="player-status" title="Locked - Game Started"><i class="fa-regular fa-lock"></i></span>');
                        const y = [
                                "DEF",
                                "COACH",
                                "OFF",
                                "TMQB",
                                "TMRB",
                                "TMWR",
                                "TMTE",
                                "TMPK",
                                "TMPN",
                                "TMDL",
                                "TMLB",
                                "TMDB",
                            ].includes(e.pos?.toUpperCase())
                                ? `https://www.mflscripts.com/playerImages_96x96/mfl_${e.nfl_team}.svg`
                                : `https://www.mflscripts.com/playerImages_80x107/mfl_${e.id}.png`,
                            u = "https://mflscripts.com/playerImages_80x107/free_agent.png";
                        let f = "";
                        f = e.sal
                            ? `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}${isNaN(parseFloat(e.sort_sal)) ? "  Sal: $0" : `  Sal: $${parseFloat(e.sort_sal)}`}</small>`
                            : `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.roster ? `  Ros: ${e.roster}` : ""}</small>`;
                        const b = document.createElement("div");
                        c && "undefined" != typeof franchise_id && "0000" != franchise_id
                            ? (b.className =
                                  "add-drop-player-row disabled-locked " +
                                  (t % 2 == 0 ? "oddtablerow" : "eventablerow"))
                            : p && "undefined" != typeof franchise_id && "0000" != franchise_id
                              ? (b.className =
                                    "add-drop-player-row player_locked disabled-locked " +
                                    (t % 2 == 0 ? "oddtablerow" : "eventablerow"))
                              : (b.className = "add-drop-player-row " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                            (b.dataset.playerId = e.id),
                            "add" === a && st.some((t) => t.id === e.id) && b.classList.add("disabled-dropbox"),
                            (b.innerHTML = c
                                ? `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${y}" alt="${_}" onerror="this.onerror=null;this.src='${u}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${_}${m}</strong><br>${f} </div>\n  <div class="player-wproj hide-col-pts" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.pts)) ? "0" : parseFloat(e.pts)}</div>\n  <button type="button" class="select-btn">Locked</button>`
                                : `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${y}" alt="${_}" onerror="this.onerror=null;this.src='${u}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${_}${m}</strong><br>${f} </div>\n  <div class="player-wproj hide-col-pts" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.pts)) ? "0" : parseFloat(e.pts)}</div>\n  <button type="button" class="select-btn">${"add" === a ? "Drop" : "Remove"}</button>`),
                            o.appendChild(b);
                    }),
                        r.appendChild(o);
                }
                if (
                    ((bt += '<form id="AddDropForm" action="add_drop" method="POST">'),
                    (bt += '<div id="enhanced-add-drop-ui">'),
                    (bt += '<div id="add-drop-enhanced-ui">'),
                    (bt += '<div class="add-player-container mobile-wrap">'),
                    (bt += `<table align="center" class="report cus-add-tableCap"><caption><span>${_t?.name || "Unknown Franchise"} Roster</span></caption><tbody><tr><th><div class="sort-bar add-list"><span>Sort by:</span><button type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="pts">Points <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>`),
                    (bt += ct
                        ? '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="player_salary">Sal <i class="fa-solid"></i></button>'
                        : '<button type="button" class="sort-btn add-list" data-key="pos">Position <i class="fa-solid"></i></button>'),
                    (bt += "</div></th></tr></tbody></table>"),
                    (bt += '<div id="add-player-list">'),
                    (bt += "</div>"),
                    (bt += `<div id="locked-msg" align="left" style="text-align:left"><b style="display:inline-block;text-align:center;width:1.5rem;">[L]</b> Locked: Cant Cut List <a href="options?L=${league_id}&amp;O=199" target="blank">Can't Cut List</a><br><b style="display:inline-block;text-align:center;width:1.5rem;">#</b> Locked: Global Lock<b style="display:inline-block;text-align:center;width:1.5rem;">*</b> Locked: Recently Dropped</div>`),
                    (bt += "</div>"),
                    (bt += '<div class="drop-player-container mobile-wrap">'),
                    (bt +=
                        '<table align="center" class="report cus-drop-tableCap"><caption><span>Players to Drop</span></caption><tbody><tr><th><div class="sort-bar drop-list"><span>Sort by:</span><button type="button" class="sort-btn drop-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="pts">Points <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                    (bt += pt
                        ? '<button type="button" class="sort-btn drop-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="player_salary">Sal <i class="fa-solid"></i></button>'
                        : '<button type="button" class="sort-btn drop-list" data-key="pos">Position <i class="fa-solid"></i></button>'),
                    (bt += "</div></th></tr></tbody></table>"),
                    (bt += '<div id="drop-player-list"></div>'),
                    (bt += "</div>"),
                    (bt += "</div>"),
                    (bt += "</div>"),
                    (bt += "</div>"),
                    (bt += "<br>"),
                    (bt += '<div id="dropInputDiv" style="text-align:center; margin-top: 1rem;">'),
                    (bt +=
                        '<input id="clearAddList" type="button" value="Clear Roster" style="display:inline-block;margin:0!important">'),
                    (bt +=
                        '<input id="add_drop_submit" type="submit" name="SUBMIT" value="Submit" style="display:inline-block;margin:0!important;margin-right:.325rem!important;margin-left:.325rem!important;" disabled>'),
                    (bt +=
                        '<input id="clearDropList" type="button" value="Clear Drops" style="display:inline-block;margin:0!important" disabled>'),
                    (bt += "</div>"),
                    (bt += "<br>"),
                    (bt += "</form>"),
                    ot && (ot.outerHTML = bt),
                    rt)
                ) {
                    const gt = document.getElementById("add-drop-enhanced-ui");
                    gt
                        ? gt.addEventListener("click", function (e) {
                              const t = e.target.closest(".add-drop-player-row");
                              if (!t || !gt.contains(t)) return;
                              const a = !!t.closest("#add-player-list");
                              handlePlayerRowClick(t, a ? "add" : "drop");
                          })
                        : console.warn(" Could not find #add-drop-enhanced-ui for delegation."),
                        (mt = "pos"),
                        (ut = 1),
                        (yt = "pos"),
                        (ft = 1),
                        renderPlayerList(dt, "add-player-list", "add");
                    const vt = document.querySelector(".sort-bar.add-list"),
                        wt = document.querySelector(".sort-bar.drop-list"),
                        kt = vt.querySelector('button[data-key="pos"]');
                    if (kt) {
                        kt.querySelector("i").classList.add("fa-caret-down"), kt.classList.add("activated");
                    }
                    const $t = wt.querySelector('button[data-key="pos"]');
                    if ($t) {
                        $t.querySelector("i").classList.add("fa-caret-down"), $t.classList.add("activated");
                    }
                    sortScrollFadeShadow("add-player-list", ".sort-bar.add-list"),
                        sortScrollFadeShadow("drop-player-list", ".sort-bar.drop-list"),
                        requestAnimationFrame(() => {
                            requestAnimationFrame(() => {
                                setTimeout(() => {
                                    document.body.appendChild(at);
                                }, timeFrame);
                            });
                        }),
                        vt.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                            e.addEventListener("click", () => {
                                const t = e.dataset.key;
                                mt === t
                                    ? (ut *= -1)
                                    : ((mt = t),
                                      (ut =
                                          "pwpts" === t || "pts" === t || "player_salary" === t || "projpts" === t
                                              ? -1
                                              : 1)),
                                    vt.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                                        e.classList.remove("activated");
                                        e.querySelector("i").className = "fa-solid";
                                    }),
                                    e.classList.add("activated");
                                e.querySelector("i").classList.add(1 === ut ? "fa-caret-up" : "fa-caret-down"),
                                    renderPlayerList(dt, "add-player-list", "add"),
                                    addPlayerList && addPlayerList.scrollTo({ top: 0 });
                            });
                        }),
                        wt.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                            e.addEventListener("click", () => {
                                const t = e.dataset.key;
                                yt === t
                                    ? (ft *= -1)
                                    : ((yt = t),
                                      (ft =
                                          "pwpts" === t || "pts" === t || "player_salary" === t || "projpts" === t
                                              ? -1
                                              : 1)),
                                    wt.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                                        e.classList.remove("activated");
                                        e.querySelector("i").className = "fa-solid";
                                    }),
                                    e.classList.add("activated");
                                e.querySelector("i").classList.add(1 === ft ? "fa-caret-up" : "fa-caret-down"),
                                    renderPlayerList(st, "drop-player-list", "drop");
                                const a = document.querySelector("#drop-player-list");
                                a && a.scrollTo({ top: 0 });
                            });
                        });
                }
                function clearAllFromList(e, t) {
                    const a = document.getElementById(e);
                    if (!a) return;
                    a.querySelectorAll(".add-drop-player-row").forEach((e) => {
                        e.classList.contains("disabled-locked") || handlePlayerRowClick(e, t);
                    });
                }
                function handlePlayerRowClick(e, t) {
                    const a = e.dataset.playerId;
                    if (!a) return;
                    const r = dt.find((e) => e.id === a);
                    if (!r) return void console.warn("Player not found in addPlayers:", a);
                    const s = st.some((e) => e.id === a);
                    if ("drop" === t && s) {
                        (st = st.filter((e) => e.id !== a)), renderPlayerList(st, "drop-player-list", "drop");
                        const e = document.querySelector(
                            `#add-player-list .add-drop-player-row[data-player-id="${a}"]`
                        );
                        e && e.classList.remove("disabled-dropbox");
                    }
                    "add" === t &&
                        (s
                            ? console.warn("This player is already in array:", a)
                            : (st.push(r),
                              e.classList.add("disabled-dropbox"),
                              renderPlayerList(st, "drop-player-list", "drop")));
                    const o = document.getElementById("add_drop_submit");
                    o && (0 === st.length ? (o.disabled = !0) : (o.disabled = !1));
                    const l = document.getElementById("clearAddList");
                    if (l) {
                        const e = document.querySelectorAll("#add-player-list .add-drop-player-row"),
                            t = Array.from(e).every(
                                (e) =>
                                    e.classList.contains("disabled-dropbox") || e.classList.contains("disabled-locked")
                            );
                        l.disabled = t;
                    }
                    const i = document.getElementById("clearDropList");
                    i && (0 === st.length ? (i.disabled = !0) : (i.disabled = !1));
                }
                document.getElementById("clearAddList")?.addEventListener("click", () => {
                    clearAllFromList("add-player-list", "add");
                }),
                    document.getElementById("clearDropList")?.addEventListener("click", () => {
                        clearAllFromList("drop-player-list", "drop");
                    }),
                    document.getElementById("add_drop_submit").addEventListener("click", function (e) {
                        if ((e.preventDefault(), !st.length)) return;
                        if (!confirm("Are you sure you want to drop these players?")) return;
                        const t = st.map((e) => `drop_pid=${encodeURIComponent(e.id)}`).join("&"),
                            a = `${baseURLDynamic}/${year}/add_drop?LEAGUE_ID=${league_id}&FRANCHISE=${ht}&OPTION=257&${t}&SUBMIT=Drop+Players`;
                        window.location.href = a;
                    });
            }
        } else document.body.appendChild(at);
    }
}
if ("csetup_cantadd" === thisProgram) {
    const xt = document.createElement("style");
    if (
        ((xt.textContent = "#csetup_cantadd table,#csetup_cantadd .mobile-wrap,#dropInputDiv{visibility:visible;}"),
        "undefined" == typeof franchise_id)
    )
        document.body.appendChild(xt);
    else if ("undefined" == typeof playerDatabaseObj) document.body.appendChild(xt);
    else {
        document.body.classList.add("DropSelect");
        const St = document.querySelector('form[action*="csetup"]');
        if (void 0 === timeFrame) timeFrame = 300;
        if (document.querySelector("#csetup_cantadd")) {
            const Lt = window.playerDatabaseObj?.picker || [],
                Tt = document.getElementById("destination_list"),
                Pt = Tt?.querySelectorAll("option");
            Pt &&
                ((playerDatabaseObj.roster = []),
                Pt.forEach((e) => {
                    const t = e.value,
                        a = Lt.find((e) => e.id === t);
                    if (a) playerDatabaseObj.roster.push({ ...a });
                    else {
                        const a = e.textContent.trim().split(" ");
                        if (a.length >= 3) {
                            const e = a.pop(),
                                r = a.pop(),
                                s = a.join(" ");
                            playerDatabaseObj.roster.push({ id: t, name: s, nfl_team: r, pos: e });
                        }
                    }
                })),
                (curRoster = window.playerDatabaseObj?.roster || []);
            Object.values(Lt).some((e) => void 0 !== e.sal), Object.values(Lt).some((e) => void 0 !== e.sal);
            let At = null,
                Ct = null,
                Et = 1,
                Ht = 1;
            const Rt = document.getElementById("picker_filt_pos");
            let jt = null;
            Rt &&
                (jt = Array.from(Rt.options)
                    .filter((e) => "ALL" !== e.value.toUpperCase())
                    .map((e) => {
                        const t = e.value.toUpperCase();
                        return `<option value="${t}">${t}</option>`;
                    })
                    .join(""));
            const Dt = document.getElementById("picker_filt_nfl");
            Dt && ((Dt.id = "add_filt_nfl"), Dt.removeAttribute("onchange"));
            let It = "";
            (It += '<form id="AddDropForm" action="add_drop" method="POST">'),
                (It += '<div id="enhanced-add-drop-ui">'),
                (It += '<div id="add-drop-enhanced-ui">'),
                (jt || Dt) &&
                    ((It += '<div class="filter-controls mobile-wrap">'),
                    (It +=
                        '<input id="addDropSearch" type="text" placeholder="Search player name..." style="flex: 1 1 0%; padding: .1875rem;">'),
                    Dt && (It += Dt.outerHTML),
                    jt && (It += `<select id="position-filter"><option value="">All</option>${jt}</select>`),
                    (It += "</div>")),
                (It += '<div class="add-player-container mobile-wrap">'),
                (It +=
                    '<table align="center" class="report cus-add-tableCap"><caption><span>Move Player To Can\'t Add List</span></caption><tbody><tr><th><div class="sort-bar add-list"><span>Sort by:</span><button type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                (It +=
                    '<button type="button" class="sort-btn add-list" data-key="pos">Position <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="fsrank">Rank <i class="fa-solid"></i></button>'),
                (It += "</div></th></tr></tbody></table>"),
                (It += '<div id="add-player-list">'),
                (It += "</div>"),
                (It +=
                    '<div id="locked-msg" align="left" style="text-align:left"><b style="display:inline-block;text-align:center;width:2.5rem;">Hint: </b> Adding players to this list will not remove them from any rosters, to do so perform a drop transaction.</div>'),
                (It += "</div>"),
                (It += '<div class="drop-player-container mobile-wrap">'),
                (It +=
                    '<table align="center" class="report cus-drop-tableCap"><caption><span>Current Can\'t Add List</span></caption><tbody><tr><th><div class="sort-bar drop-list"><span>Sort by:</span><button type="button" class="sort-btn drop-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                (It +=
                    '<button type="button" class="sort-btn drop-list" data-key="pos">Position <i class="fa-solid"></i></button>'),
                (It += "</div></th></tr></tbody></table>"),
                (It += '<div id="drop-player-list"></div>'),
                (It += "</div>"),
                (It += "</div>"),
                (It += "</div>"),
                (It += "</div>"),
                (It += "<br>"),
                (It += '<div id="dropInputDiv" style="text-align:center; margin-top: 1rem;">'),
                (It +=
                    '<input id="add_drop_submit" type="submit" name="SUBMIT" value="Submit" style="display:inline-block;margin:0!important;margin-right:.162rem!important">'),
                Array.isArray(curRoster) && 0 === curRoster.length
                    ? (It +=
                          '<input id="clearDropList" type="button" value="Clear List" style="display:inline-block;margin:0!important;margin-left:.162rem!important" disabled>')
                    : (It +=
                          '<input id="clearDropList" type="button" value="Clear List" style="display:inline-block;margin:0!important;margin-left:.162rem!important">'),
                (It += "</div>"),
                (It += "<br>"),
                (It += "</form>"),
                St && (St.outerHTML = It);
            const Ft = document.getElementById("addDropSearch"),
                Mt = document.getElementById("position-filter");
            function renderPlayerList(e, t, a) {
                const r = document.getElementById(t);
                if (!r) return void console.warn(` Container ${t} not found.`);
                r.textContent = "";
                let s = e;
                if ("add" === a) {
                    if (jt || Dt) {
                        const t = document.getElementById("addDropSearch"),
                            a = t?.value?.trim().toLowerCase() || "",
                            r = document.getElementById("position-filter")?.value || "",
                            o = document.querySelector("#add_filt_nfl")?.value?.toUpperCase?.() || "";
                        s = e.filter((e) => {
                            let [t, s] = e.name.split(", ");
                            return (
                                `${s || ""} ${t || ""}`.trim().toLowerCase().includes(a) &&
                                (!r || e.pos?.toUpperCase() === r) &&
                                ("ALL" === o || !o || e.nfl_team?.toUpperCase() === o)
                            );
                        });
                    }
                    At &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, At),
                                r = sortPlayerObjectData(t, At);
                            if ("fsrank" === At || "pwpts" === At || "projpts" === At) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * Et;
                        });
                }
                "drop" === a &&
                    (s.sort((e, t) => {
                        const a = e.pos?.toUpperCase?.() || "",
                            r = t.pos?.toUpperCase?.() || "",
                            s = sortPlayerPosOrder[a] || 99,
                            o = sortPlayerPosOrder[r] || 99;
                        if (s !== o) return s - o;
                        const [l, i] = e.name.split(", "),
                            [n, d] = t.name.split(", "),
                            c = `${i || ""} ${l || ""}`.toLowerCase(),
                            p = `${d || ""} ${n || ""}`.toLowerCase();
                        return c.localeCompare(p);
                    }),
                    Ct &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, Ct),
                                r = sortPlayerObjectData(t, Ct);
                            if ("fsrank" === Ct || "pwpts" === Ct || "projpts" === Ct) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * Ht;
                        }));
                const o = document.createDocumentFragment();
                s.forEach((e, t) => {
                    const [r, s] = e.name.split(", ");
                    let l = s?.trim() || "",
                        i = r?.trim() || "";
                    const n = l.includes("#") || i.includes("#"),
                        d = l.includes("*") || i.includes("*"),
                        c = l.includes("^") || i.includes("^"),
                        p = l.includes("(R)") || i.includes("(R)");
                    (l = l.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim()),
                        (i = i.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim());
                    const h = `${l} ${i}${p ? " (R)" : ""}`.trim();
                    let _ = "";
                    n && (_ += ' <span class="player-status">#</span>'),
                        d && (_ += ' <span class="player-status">*</span>'),
                        c && (_ += ' <span class="player-status">[L]</span>');
                    const m = [
                            "DEF",
                            "COACH",
                            "OFF",
                            "TMQB",
                            "TMRB",
                            "TMWR",
                            "TMTE",
                            "TMPK",
                            "TMPN",
                            "TMDL",
                            "TMLB",
                            "TMDB",
                        ].includes(e.pos?.toUpperCase())
                            ? `https://www.mflscripts.com/playerImages_96x96/mfl_${e.nfl_team}.svg`
                            : `https://www.mflscripts.com/playerImages_80x107/mfl_${e.id}.png`,
                        y = "https://mflscripts.com/playerImages_80x107/free_agent.png";
                    let u = "";
                    u =
                        "drop" === a
                            ? `<small>${e.nfl_team ?? "FA"}</small>`
                            : `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}</small>`;
                    const f = document.createElement("div");
                    (f.className = c
                        ? "add-drop-player-row disabled-locked " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")
                        : "add-drop-player-row " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                        (f.dataset.playerId = e.id),
                        "add" === a && curRoster.some((t) => t.id === e.id) && f.classList.add("disabled-dropbox"),
                        (f.innerHTML =
                            "drop" === a
                                ? `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Drop"}</button>`
                                : `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="player-myrank" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.fsrank)) ? "9999" : e.fsrank}</div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Drop"}</button>`),
                        o.appendChild(f);
                }),
                    r.appendChild(o);
            }
            const Nt = document.getElementById("add-drop-enhanced-ui");
            Nt
                ? Nt.addEventListener("click", function (e) {
                      const t = e.target.closest(".add-drop-player-row");
                      if (!t || !Nt.contains(t)) return;
                      const a = !!t.closest("#add-player-list");
                      handlePlayerRowClick(t, a ? "add" : "drop");
                  })
                : console.warn(" Could not find #add-drop-enhanced-ui for delegation."),
                (At = "fsrank"),
                (Et = 1),
                (Ct = "pos"),
                (Ht = 1),
                renderPlayerList(Lt, "add-player-list", "add"),
                renderPlayerList(curRoster, "drop-player-list", "drop");
            const Ot = document.querySelector(".sort-bar.add-list"),
                Bt = document.querySelector(".sort-bar.drop-list"),
                qt = Ot.querySelector('button[data-key="fsrank"]');
            if (qt) {
                qt.querySelector("i").classList.add("fa-caret-down"), qt.classList.add("activated");
            }
            const Qt = Bt.querySelector('button[data-key="pos"]');
            if (Qt) {
                Qt.querySelector("i").classList.add("fa-caret-down"), Qt.classList.add("activated");
            }
            Ft &&
                Ft.addEventListener("input", () => {
                    renderPlayerList(Lt, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                Mt &&
                    Mt.addEventListener("change", () => {
                        renderPlayerList(Lt, "add-player-list", "add");
                        const e = document.querySelector("#add-player-list");
                        e && e.scrollTo({ top: 0 });
                    });
            const Ut = document.getElementById("add_filt_nfl");
            function clearAllFromList(e, t) {
                const a = document.getElementById(e);
                if (!a) return;
                a.querySelectorAll(".add-drop-player-row").forEach((e) => {
                    e.classList.contains("disabled-locked") || handlePlayerRowClick(e, t);
                });
            }
            function handlePlayerRowClick(e, t) {
                const a = e.dataset.playerId;
                if (!a) return;
                const r = Lt.find((e) => e.id === a);
                r || console.warn("Player not found in addPlayers:", a);
                const s = curRoster.some((e) => e.id === a);
                if ("drop" === t && s) {
                    (curRoster = curRoster.filter((e) => e.id !== a)),
                        renderPlayerList(curRoster, "drop-player-list", "drop");
                    const e = document.querySelector(`#add-player-list .add-drop-player-row[data-player-id="${a}"]`);
                    e && e.classList.remove("disabled-dropbox");
                }
                "add" === t &&
                    (s
                        ? console.warn("This player is already in array:", a)
                        : (curRoster.push(r),
                          e.classList.add("disabled-dropbox"),
                          renderPlayerList(curRoster, "drop-player-list", "drop")));
                const o = document.getElementById("add_drop_submit");
                o && (0 === curRoster.length || (o.disabled = !1));
                const l = document.getElementById("clearDropList");
                l && (0 === curRoster.length ? (l.disabled = !0) : (l.disabled = !1));
            }
            Ut &&
                Ut.addEventListener("change", () => {
                    renderPlayerList(Lt, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                sortScrollFadeShadow("add-player-list", ".sort-bar.add-list"),
                sortScrollFadeShadow("drop-player-list", ".sort-bar.drop-list"),
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        setTimeout(() => {
                            document.body.appendChild(xt);
                        }, timeFrame);
                    });
                }),
                Ot.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        At === t
                            ? (Et *= -1)
                            : ((At = t), (Et = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            Ot.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === Et ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(Lt, "add-player-list", "add");
                        const a = document.querySelector("#add-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                Bt.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        Ct === t
                            ? (Ht *= -1)
                            : ((Ct = t), (Ht = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            Bt.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === Ht ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(curRoster, "drop-player-list", "drop");
                        const a = document.querySelector("#drop-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                document.getElementById("clearDropList")?.addEventListener("click", () => {
                    clearAllFromList("drop-player-list", "drop");
                }),
                document.getElementById("add_drop_submit").addEventListener("click", function (e) {
                    e.preventDefault();
                    if (!confirm("Are you sure you want to add these players to Can't Add List?")) return;
                    const t = curRoster.map((e) => `ROSTER=${encodeURIComponent(e.id)}`).join("&"),
                        a = `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=CANTADD&${t}&SUBMIT=Save+Can't+Add+List`;
                    window.location.href = a;
                });
        } else document.body.appendChild(xt);
    }
}
if ("csetup_cantcut" === thisProgram) {
    const zt = document.createElement("style");
    if (
        ((zt.textContent = "#csetup_cantcut table,#csetup_cantcut .mobile-wrap,#dropInputDiv{visibility:visible;}"),
        "undefined" == typeof franchise_id)
    )
        document.body.appendChild(zt);
    else if ("undefined" == typeof playerDatabaseObj) document.body.appendChild(zt);
    else {
        document.body.classList.add("DropSelect"),
            document.querySelectorAll("#csetup_cantcut table.report").forEach((e) => {
                if (e.parentElement?.classList.contains("mobile-wrap")) return;
                const t = document.createElement("div");
                (t.className = "mobile-wrap"), e.parentNode.insertBefore(t, e), t.appendChild(e);
            });
        const Yt = document.querySelector('form[action*="csetup"]');
        if (void 0 === timeFrame) timeFrame = 300;
        if (document.querySelector("#csetup_cantcut")) {
            const Wt = window.playerDatabaseObj?.picker || [],
                Gt = document.getElementById("destination_list"),
                Vt = Gt?.querySelectorAll("option");
            Vt &&
                ((playerDatabaseObj.roster = []),
                Vt.forEach((e) => {
                    const t = e.value,
                        a = Wt.find((e) => e.id === t);
                    if (a) playerDatabaseObj.roster.push({ ...a });
                    else {
                        const a = e.textContent.trim().split(" ");
                        if (a.length >= 3) {
                            const e = a.pop(),
                                r = a.pop(),
                                s = a.join(" ");
                            playerDatabaseObj.roster.push({ id: t, name: s, nfl_team: r, pos: e });
                        }
                    }
                })),
                (curRoster = window.playerDatabaseObj?.roster || []);
            Object.values(Wt).some((e) => void 0 !== e.sal);
            const Kt = Object.values(Wt).some((e) => void 0 !== e.sal),
                Xt = document.getElementById("AUTO_UPDATE_CANT_CUT_LIST_Yes"),
                Jt = document.getElementById("AUTO_UPDATE_CANT_CUT_LIST_No");
            let Zt = null,
                ea = null;
            Xt && (Zt = Xt.outerHTML), Jt && (ea = Jt.outerHTML);
            let ta = null,
                aa = null,
                ra = 1,
                sa = 1;
            const oa = document.getElementById("picker_filt_pos");
            let la = null;
            oa &&
                (la = Array.from(oa.options)
                    .filter((e) => "ALL" !== e.value.toUpperCase())
                    .map((e) => {
                        const t = e.value.toUpperCase();
                        return `<option value="${t}">${t}</option>`;
                    })
                    .join(""));
            const ia = document.getElementById("picker_filt_nfl");
            ia && ((ia.id = "add_filt_nfl"), ia.removeAttribute("onchange"));
            let na = "";
            (na += '<form id="AddDropForm" action="add_drop" method="POST">'),
                (na += '<div id="enhanced-add-drop-ui">'),
                (na += '<div id="add-drop-enhanced-ui">'),
                (la || ia) &&
                    ((na += '<div class="filter-controls mobile-wrap">'),
                    (na +=
                        '<input id="addDropSearch" type="text" placeholder="Search player name..." style="flex: 1 1 0%; padding: .1875rem;">'),
                    ia && (na += ia.outerHTML),
                    la && (na += `<select id="position-filter"><option value="">All</option>${la}</select>`),
                    (na += "</div>")),
                (na += '<div class="add-player-container mobile-wrap">'),
                (na +=
                    '<table align="center" class="report cus-add-tableCap"><caption><span>Move Player To Can\'t Cut List</span></caption><tbody><tr><th><div class="sort-bar add-list"><span>Sort by:</span><button type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                (na +=
                    '<button type="button" class="sort-btn add-list" data-key="pos">Position <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="fsrank">Rank <i class="fa-solid"></i></button>'),
                (na += "</div></th></tr></tbody></table>"),
                (na += '<div id="add-player-list">'),
                (na += "</div>"),
                (na += '<div id="locked-msg" align="left" style="text-align:center">'),
                Zt &&
                    ea &&
                    (na += `<div class="checkboxFantasySharks">Auto update Can't Cuts daily from FantasySharks.com?<br>${Zt} <label for="AUTO_UPDATE_CANT_CUT_LIST_Yes">Yes</label> ${ea} <label for="AUTO_UPDATE_CANT_CUT_LIST_No">No</label></div>`),
                (na += "</div>"),
                (na += "</div>"),
                (na += '<div class="drop-player-container mobile-wrap">'),
                (na +=
                    '<table align="center" class="report cus-drop-tableCap"><caption><span>Current Can\'t Cut List</span></caption><tbody><tr><th><div class="sort-bar drop-list"><span>Sort by:</span><button type="button" class="sort-btn drop-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                (na += Kt
                    ? '<button type="button" class="sort-btn drop-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="player_salary">Sal <i class="fa-solid"></i></button>'
                    : '<button type="button" class="sort-btn drop-list" data-key="pos">Position <i class="fa-solid"></i></button>'),
                (na += "</div></th></tr></tbody></table>"),
                (na += '<div id="drop-player-list"></div>'),
                (na += "</div>"),
                (na += "</div>"),
                (na += "</div>"),
                (na += "</div>"),
                (na += "<br>"),
                (na += '<div id="dropInputDiv" style="text-align:center; margin-top: 1rem;">'),
                (na +=
                    '<input id="add_drop_submit" type="submit" name="SUBMIT" value="Submit" style="display:inline-block;margin:0!important;margin-right:.325rem!important">'),
                Array.isArray(curRoster) && 0 === curRoster.length
                    ? (na +=
                          '<input id="clearDropList" type="button" value="Clear List" style="display:inline-block;margin:0!important;margin-left:.162rem!important" disabled>')
                    : (na +=
                          '<input id="clearDropList" type="button" value="Clear List" style="display:inline-block;margin:0!important;margin-left:.162rem!important">'),
                (na += "</div>"),
                (na += "<br>"),
                (na += "</form>"),
                Yt && (Yt.outerHTML = na);
            const da = document.getElementById("addDropSearch"),
                ca = document.getElementById("position-filter");
            function renderPlayerList(e, t, a) {
                const r = document.getElementById(t);
                if (!r) return void console.warn(` Container ${t} not found.`);
                r.textContent = "";
                let s = e;
                if ("add" === a) {
                    if (la || ia) {
                        const t = document.getElementById("addDropSearch"),
                            a = t?.value?.trim().toLowerCase() || "",
                            r = document.getElementById("position-filter")?.value || "",
                            o = document.querySelector("#add_filt_nfl")?.value?.toUpperCase?.() || "";
                        s = e.filter((e) => {
                            let [t, s] = e.name.split(", ");
                            return (
                                `${s || ""} ${t || ""}`.trim().toLowerCase().includes(a) &&
                                (!r || e.pos?.toUpperCase() === r) &&
                                ("ALL" === o || !o || e.nfl_team?.toUpperCase() === o)
                            );
                        });
                    }
                    ta &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, ta),
                                r = sortPlayerObjectData(t, ta);
                            if ("fsrank" === ta || "pwpts" === ta || "projpts" === ta) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * ra;
                        });
                }
                "drop" === a &&
                    (s.sort((e, t) => {
                        const a = e.pos?.toUpperCase?.() || "",
                            r = t.pos?.toUpperCase?.() || "",
                            s = sortPlayerPosOrder[a] || 99,
                            o = sortPlayerPosOrder[r] || 99;
                        if (s !== o) return s - o;
                        const [l, i] = e.name.split(", "),
                            [n, d] = t.name.split(", "),
                            c = `${i || ""} ${l || ""}`.toLowerCase(),
                            p = `${d || ""} ${n || ""}`.toLowerCase();
                        return c.localeCompare(p);
                    }),
                    aa &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, aa),
                                r = sortPlayerObjectData(t, aa);
                            if ("fsrank" === aa || "pwpts" === aa || "projpts" === aa) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * sa;
                        }));
                const o = document.createDocumentFragment();
                s.forEach((e, t) => {
                    const [r, s] = e.name.split(", ");
                    let l = s?.trim() || "",
                        i = r?.trim() || "";
                    const n = l.includes("#") || i.includes("#"),
                        d = l.includes("*") || i.includes("*"),
                        c = l.includes("^") || i.includes("^"),
                        p = l.includes("(R)") || i.includes("(R)");
                    (l = l.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim()),
                        (i = i.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim());
                    const h = `${l} ${i}${p ? " (R)" : ""}`.trim();
                    let _ = "";
                    n && (_ += ' <span class="player-status">#</span>'),
                        d && (_ += ' <span class="player-status">*</span>'),
                        c && (_ += ' <span class="player-status">[L]</span>');
                    const m = [
                            "DEF",
                            "COACH",
                            "OFF",
                            "TMQB",
                            "TMRB",
                            "TMWR",
                            "TMTE",
                            "TMPK",
                            "TMPN",
                            "TMDL",
                            "TMLB",
                            "TMDB",
                        ].includes(e.pos?.toUpperCase())
                            ? `https://www.mflscripts.com/playerImages_96x96/mfl_${e.nfl_team}.svg`
                            : `https://www.mflscripts.com/playerImages_80x107/mfl_${e.id}.png`,
                        y = "https://mflscripts.com/playerImages_80x107/free_agent.png";
                    let u = "";
                    u =
                        "drop" === a
                            ? `<small>${e.nfl_team ?? "FA"}</small>`
                            : `<small>${e.nfl_team ?? "FA"}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}</small>`;
                    const f = document.createElement("div");
                    (f.className = c
                        ? "add-drop-player-row disabled-locked " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")
                        : "add-drop-player-row " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                        (f.dataset.playerId = e.id),
                        "add" === a && curRoster.some((t) => t.id === e.id) && f.classList.add("disabled-dropbox"),
                        (f.innerHTML =
                            "drop" === a
                                ? `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Drop"}</button>`
                                : `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="player-myrank" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.fsrank)) ? "9999" : e.fsrank}</div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Drop"}</button>`),
                        o.appendChild(f);
                }),
                    r.appendChild(o);
            }
            const pa = document.getElementById("add-drop-enhanced-ui");
            pa
                ? pa.addEventListener("click", function (e) {
                      const t = e.target.closest(".add-drop-player-row");
                      if (!t || !pa.contains(t)) return;
                      const a = !!t.closest("#add-player-list");
                      handlePlayerRowClick(t, a ? "add" : "drop");
                  })
                : console.warn(" Could not find #add-drop-enhanced-ui for delegation."),
                (ta = "fsrank"),
                (ra = 1),
                (aa = "pos"),
                (sa = 1),
                renderPlayerList(Wt, "add-player-list", "add"),
                renderPlayerList(curRoster, "drop-player-list", "drop");
            const ha = document.querySelector(".sort-bar.add-list"),
                _a = document.querySelector(".sort-bar.drop-list"),
                ma = ha.querySelector('button[data-key="fsrank"]');
            if (ma) {
                ma.querySelector("i").classList.add("fa-caret-down"), ma.classList.add("activated");
            }
            const ya = _a.querySelector('button[data-key="pos"]');
            if (ya) {
                ya.querySelector("i").classList.add("fa-caret-down"), ya.classList.add("activated");
            }
            da &&
                da.addEventListener("input", () => {
                    renderPlayerList(Wt, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                ca &&
                    ca.addEventListener("change", () => {
                        renderPlayerList(Wt, "add-player-list", "add");
                        const e = document.querySelector("#add-player-list");
                        e && e.scrollTo({ top: 0 });
                    });
            const ua = document.getElementById("add_filt_nfl");
            function clearAllFromList(e, t) {
                const a = document.getElementById(e);
                if (!a) return;
                a.querySelectorAll(".add-drop-player-row").forEach((e) => {
                    e.classList.contains("disabled-locked") || handlePlayerRowClick(e, t);
                });
            }
            function handlePlayerRowClick(e, t) {
                const a = e.dataset.playerId;
                if (!a) return;
                const r = Wt.find((e) => e.id === a);
                r || console.warn("Player not found in addPlayers:", a);
                const s = curRoster.some((e) => e.id === a);
                if ("drop" === t && s) {
                    (curRoster = curRoster.filter((e) => e.id !== a)),
                        renderPlayerList(curRoster, "drop-player-list", "drop");
                    const e = document.querySelector(`#add-player-list .add-drop-player-row[data-player-id="${a}"]`);
                    e && e.classList.remove("disabled-dropbox");
                }
                "add" === t &&
                    (s
                        ? console.warn("This player is already in array:", a)
                        : (curRoster.push(r),
                          e.classList.add("disabled-dropbox"),
                          renderPlayerList(curRoster, "drop-player-list", "drop")));
                const o = document.getElementById("add_drop_submit");
                o && (0 === curRoster.length || (o.disabled = !1));
                const l = document.getElementById("clearDropList");
                l && (0 === curRoster.length ? (l.disabled = !0) : (l.disabled = !1));
            }
            ua &&
                ua.addEventListener("change", () => {
                    renderPlayerList(Wt, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                sortScrollFadeShadow("add-player-list", ".sort-bar.add-list"),
                sortScrollFadeShadow("drop-player-list", ".sort-bar.drop-list"),
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        setTimeout(() => {
                            document.body.appendChild(zt);
                        }, timeFrame);
                    });
                }),
                ha.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        ta === t
                            ? (ra *= -1)
                            : ((ta = t), (ra = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            ha.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === ra ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(Wt, "add-player-list", "add");
                        const a = document.querySelector("#add-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                _a.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        aa === t
                            ? (sa *= -1)
                            : ((aa = t), (sa = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            _a.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === sa ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(curRoster, "drop-player-list", "drop");
                        const a = document.querySelector("#drop-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                document.getElementById("clearDropList")?.addEventListener("click", () => {
                    clearAllFromList("drop-player-list", "drop");
                }),
                document.getElementById("add_drop_submit").addEventListener("click", function (e) {
                    e.preventDefault();
                    if (!confirm("Are you sure you want to add these players to Can't Cut List?")) return;
                    const t = curRoster.map((e) => `ROSTER=${encodeURIComponent(e.id)}`).join("&"),
                        a = document.querySelector('input[name="AUTO_UPDATE_CANT_CUT_LIST"]:checked')?.value,
                        r = `${baseURLDynamic}/${year}/csetup?L=${league_id}&C=CANTCUT&AUTO_UPDATE_CANT_CUT_LIST=${a}&${t}&SUBMIT=Save+Can't+Cut+List`;
                    window.location.href = r;
                });
        } else document.body.appendChild(zt);
    }
}
if ("options_178" === thisProgram) {
    const fa = document.createElement("style");
    if (
        ((fa.textContent =
            "#body_options_178 table,#body_options_178 .mobile-wrap,#dropInputDiv{visibility:visible;}#body_options_178 .disabled-locked{display:none!important}"),
        "undefined" == typeof franchise_id)
    )
        document.body.appendChild(fa);
    else if ("undefined" == typeof playerDatabaseObj) document.body.appendChild(fa);
    else {
        document.body.classList.add("DropSelect");
        let ba = [];
        const ga = document.querySelector('form[action*="options"]');
        if (void 0 === timeFrame) timeFrame = 300;
        const va = document.querySelector("#options_178");
        if (va) {
            const wa = window.playerDatabaseObj?.picker || [],
                ka = Object.values(wa).some((e) => void 0 !== e.sal),
                $a = Object.values(wa).some((e) => void 0 !== e.sal),
                xa = Array.from(document.querySelectorAll("table.report caption span"))
                    .find((e) => "My Watch List" === e.textContent.trim())
                    ?.closest("table");
            xa && (xa.id = "CurrentWatchList");
            const Sa = Array.from(document.querySelectorAll("#CurrentWatchList a[href*='ACTION=delete']"))
                    .map((e) => {
                        try {
                            return new URL(e.href).searchParams.get("PID");
                        } catch (e) {
                            return null;
                        }
                    })
                    .filter((e) => e),
                La = va.querySelector("#CurrentWatchList");
            if (La) {
                const za = document.createElement("div");
                (za.className = "mobile-wrap requests-table"), La.parentNode.insertBefore(za, La), za.appendChild(La);
                const Ya = {
                    "ACTION=move": { icon: "fa-regular fa-angle-up", title: "Move Player Up" },
                    "ACTION=delete": { icon: "fa-regular fa-trash-xmark", title: "Delete This Player Request" },
                };
                La.querySelectorAll("td").forEach((e) => {
                    const t = Array.from(e.querySelectorAll("a"))
                        .map((e) => {
                            const t = e.getAttribute("href") || "",
                                a = Object.keys(Ya).find((e) => t.includes(e));
                            return a ? { link: e, keyword: a } : null;
                        })
                        .filter(Boolean);
                    t.length &&
                        (e.classList.add("action"),
                        (e.textContent = ""),
                        t.forEach(({ link: a, keyword: r }, s) => {
                            const { icon: o, title: l } = Ya[r],
                                i = document.createElement("a");
                            (i.href = a.href), (i.title = l);
                            const n = document.createElement("i");
                            o.split(" ").forEach((e) => n.classList.add(e)),
                                n.setAttribute("aria-hidden", "true"),
                                i.appendChild(n),
                                e.appendChild(i),
                                s < t.length - 1 && e.appendChild(document.createTextNode(" "));
                        }));
                });
            }
            const Ta = va.querySelector("#COPY_YEAR"),
                Pa = va.querySelector("#COPY_LEAGUE");
            let Aa = null,
                Ca = null,
                Ea = 1,
                Ha = 1;
            const Ra = document.getElementById("picker_filt_pos");
            let ja = null;
            Ra &&
                (ja = Array.from(Ra.options)
                    .filter((e) => "ALL" !== e.value.toUpperCase())
                    .map((e) => {
                        const t = e.value.toUpperCase();
                        return `<option value="${t}">${t}</option>`;
                    })
                    .join(""));
            const Da = document.getElementById("picker_filt_nfl");
            Da && ((Da.id = "add_filt_nfl"), Da.removeAttribute("onchange"));
            let Ia = "";
            (Ia += '<form id="AddDropForm" action="add_drop" method="POST">'),
                (Ia += '<div id="enhanced-add-drop-ui">'),
                (Ia += '<div id="add-drop-enhanced-ui">'),
                (ja || Da) &&
                    ((Ia += '<div class="filter-controls mobile-wrap">'),
                    (Ia +=
                        '<input id="addDropSearch" type="text" placeholder="Search player name..." style="flex: 1 1 0%; padding: .1875rem;">'),
                    Da && (Ia += Da.outerHTML),
                    ja && (Ia += `<select id="position-filter"><option value="">All</option>${ja}</select>`),
                    (Ia += "</div>")),
                (Ia += '<div class="add-player-container mobile-wrap">'),
                (Ia +=
                    '<table align="center" class="report cus-add-tableCap"><caption><span>Select Player For My Watchlist</span></caption><tbody><tr><th><div class="sort-bar add-list"><span>Sort by:</span><button type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="projpts">Proj <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                (Ia += ka
                    ? '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="player_salary">Sal <i class="fa-solid"></i></button>'
                    : '<button type="button" class="sort-btn add-list" data-key="pos">Position <i class="fa-solid"></i></button>'),
                (Ia += "</div></th></tr></tbody></table>"),
                (Ia += '<div id="add-player-list">'),
                (Ia += "</div>"),
                (Ia += "</div>"),
                (Ia += '<div class="drop-player-container mobile-wrap">'),
                (Ia +=
                    '<table align="center" class="report cus-drop-tableCap"><caption><span>Add To My Watchlist</span></caption><tbody><tr><th><div class="sort-bar drop-list"><span>Sort by:</span><button type="button" class="sort-btn drop-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="projpts">Proj <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                (Ia += $a
                    ? '<button type="button" class="sort-btn drop-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="player_salary">Sal <i class="fa-solid"></i></button>'
                    : '<button type="button" class="sort-btn drop-list" data-key="pos">Position <i class="fa-solid"></i></button>'),
                (Ia += "</div></th></tr></tbody></table>"),
                (Ia += '<div id="drop-player-list"></div>'),
                (Ia += "</div>"),
                (Ia += "</div>"),
                (Ia += "</div>"),
                (Ia += "</div>"),
                Ta &&
                    Pa &&
                    ((Ia += '<div class="mobile-wrap">'),
                    (Ia += '<table class="report" cellspacing="0" cellpadding="0" border="0">'),
                    (Ia += "<caption><span>Copy Watchlist From Another League</span></caption>"),
                    (Ia += '<tbody><tr><th colspan="2">Enter Year and League ID</th></tr>'),
                    (Ia += `<tr class="oddtablerow"><td style="width: 1%;white-space: nowrap;">Year of League To Copy From:</td><td>${Ta?.outerHTML || ""}</td></tr>`),
                    (Ia += `<tr class="eventablerow"><td style="width: 1%;white-space: nowrap;">League ID To Copy From:</td><td>${Pa?.outerHTML || ""}</td></tr>`),
                    (Ia +=
                        '</tr><td colspan="2"><span class="hint warning"><b>Hint: </b></span>When copying players from another league, these players will be added to the current players on this league\'s list.</td></tr>'),
                    (Ia += "</tbody></table>"),
                    (Ia += "</div>")),
                (Ia += "<br>"),
                (Ia += '<div id="dropInputDiv" style="text-align:center; margin-top: 1rem;">'),
                (Ia +=
                    '<input id="add_drop_submit" type="submit" name="SUBMIT" value="Submit" style="display:inline-block;margin:0!important;margin-right:.325rem!important;">'),
                (Ia +=
                    '<input id="clearDropList" type="button" value="Clear Watchlist" style="display:inline-block;margin:0!important;margin-left:.325rem!important;">'),
                (Ia += "</div>"),
                (Ia += "<br>"),
                (Ia += "</form>"),
                ga && (ga.outerHTML = Ia);
            const Fa = document.getElementById("addDropSearch"),
                Ma = document.getElementById("position-filter");
            function renderPlayerList(e, t, a) {
                const r = document.getElementById(t);
                if (!r) return void console.warn(` Container ${t} not found.`);
                r.textContent = "";
                let s = e;
                if ("add" === a) {
                    if (ja || Da) {
                        const t = document.getElementById("addDropSearch"),
                            a = t?.value?.trim().toLowerCase() || "",
                            r = document.getElementById("position-filter")?.value || "",
                            o = document.querySelector("#add_filt_nfl")?.value?.toUpperCase?.() || "";
                        s = e.filter((e) => {
                            let [t, s] = e.name.split(", ");
                            return (
                                `${s || ""} ${t || ""}`.trim().toLowerCase().includes(a) &&
                                (!r || e.pos?.toUpperCase() === r) &&
                                ("ALL" === o || !o || e.nfl_team?.toUpperCase() === o)
                            );
                        });
                    }
                    Aa &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, Aa),
                                r = sortPlayerObjectData(t, Aa);
                            if ("fsrank" === Aa || "pwpts" === Aa || "projpts" === Aa) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * Ea;
                        });
                }
                "drop" === a &&
                    (s.sort((e, t) => {
                        const a = e.pos?.toUpperCase?.() || "",
                            r = t.pos?.toUpperCase?.() || "",
                            s = sortPlayerPosOrder[a] || 99,
                            o = sortPlayerPosOrder[r] || 99;
                        if (s !== o) return s - o;
                        const [l, i] = e.name.split(", "),
                            [n, d] = t.name.split(", "),
                            c = `${i || ""} ${l || ""}`.toLowerCase(),
                            p = `${d || ""} ${n || ""}`.toLowerCase();
                        return c.localeCompare(p);
                    }),
                    Ca &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, Ca),
                                r = sortPlayerObjectData(t, Ca);
                            if ("fsrank" === Ca || "pwpts" === Ca || "projpts" === Ca) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * Ha;
                        }));
                const o = document.createDocumentFragment();
                s.forEach((e, t) => {
                    const [r, s] = e.name.split(", ");
                    let l = s?.trim() || "",
                        i = r?.trim() || "";
                    const n = l.includes("#") || i.includes("#"),
                        d = l.includes("*") || i.includes("*"),
                        c = l.includes("^") || i.includes("^"),
                        p = l.includes("(R)") || i.includes("(R)");
                    (l = l.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim()),
                        (i = i.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim());
                    const h = `${l} ${i}${p ? " (R)" : ""}`.trim();
                    let _ = "";
                    n && (_ += ' <span class="player-status">#</span>'),
                        d && (_ += ' <span class="player-status">*</span>'),
                        c && (_ += ' <span class="player-status">[L]</span>');
                    const m = [
                            "DEF",
                            "COACH",
                            "OFF",
                            "TMQB",
                            "TMRB",
                            "TMWR",
                            "TMTE",
                            "TMPK",
                            "TMPN",
                            "TMDL",
                            "TMLB",
                            "TMDB",
                        ].includes(e.pos?.toUpperCase())
                            ? `https://www.mflscripts.com/playerImages_96x96/mfl_${e.nfl_team}.svg`
                            : `https://www.mflscripts.com/playerImages_80x107/mfl_${e.id}.png`,
                        y = "https://mflscripts.com/playerImages_80x107/free_agent.png";
                    let u = "";
                    u = e.sal
                        ? `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}${isNaN(parseFloat(e.fsrank)) ? "  Rank: N/A" : `  Rank: ${parseFloat(e.fsrank)}`}${isNaN(parseFloat(e.sort_sal)) ? "  Sal: $0" : `  Sal: $${parseFloat(e.sort_sal)}`}</small>`
                        : `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}${isNaN(parseFloat(e.fsrank)) ? "  Rank: N/A" : `  Rank: ${parseFloat(e.fsrank)}`}</small>`;
                    const f = document.createElement("div");
                    (f.className = c
                        ? "add-drop-player-row disabled-locked " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")
                        : "add-drop-player-row " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                        (f.dataset.playerId = e.id),
                        "add" === a &&
                            (ba.some((t) => t.id === e.id) || Sa.includes(e.id)) &&
                            f.classList.add("disabled-locked"),
                        (f.innerHTML = c
                            ? `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="player-wproj" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.projpts)) ? "0" : parseFloat(e.projpts)}</div>\n  <button type="button" class="select-btn">Locked</button>`
                            : `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="player-wproj" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.projpts)) ? "0" : parseFloat(e.projpts)}</div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Remove"}</button>`),
                        o.appendChild(f);
                }),
                    r.appendChild(o);
            }
            const Na = document.getElementById("add-drop-enhanced-ui");
            Na
                ? Na.addEventListener("click", function (e) {
                      const t = e.target.closest(".add-drop-player-row");
                      if (!t || !Na.contains(t)) return;
                      const a = !!t.closest("#add-player-list");
                      handlePlayerRowClick(t, a ? "add" : "drop");
                  })
                : console.warn(" Could not find #add-drop-enhanced-ui for delegation."),
                (Aa = "projpts"),
                (Ea = -1),
                (Ca = "pos"),
                (Ha = 1),
                renderPlayerList(wa, "add-player-list", "add");
            const Oa = document.querySelector(".sort-bar.add-list"),
                Ba = document.querySelector(".sort-bar.drop-list"),
                qa = Oa.querySelector('button[data-key="projpts"]');
            if (qa) {
                qa.querySelector("i").classList.add("fa-caret-down"), qa.classList.add("activated");
            }
            const Qa = Ba.querySelector('button[data-key="pos"]');
            if (Qa) {
                Qa.querySelector("i").classList.add("fa-caret-down"), Qa.classList.add("activated");
            }
            Fa &&
                Fa.addEventListener("input", () => {
                    renderPlayerList(wa, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                Ma &&
                    Ma.addEventListener("change", () => {
                        renderPlayerList(wa, "add-player-list", "add");
                        const e = document.querySelector("#add-player-list");
                        e && e.scrollTo({ top: 0 });
                    });
            const Ua = document.getElementById("add_filt_nfl");
            function clearAllFromList(e, t) {
                const a = document.getElementById(e);
                if (!a) return;
                a.querySelectorAll(".add-drop-player-row").forEach((e) => {
                    e.classList.contains("disabled-locked") || handlePlayerRowClick(e, t);
                });
            }
            function handlePlayerRowClick(e, t) {
                const a = e.dataset.playerId;
                if (!a) return;
                const r = wa.find((e) => e.id === a);
                if (!r) return void console.warn("Player not found in addPlayers:", a);
                const s = ba.some((e) => e.id === a);
                if ("drop" === t && s) {
                    (ba = ba.filter((e) => e.id !== a)), renderPlayerList(ba, "drop-player-list", "drop");
                    const e = document.querySelector(`#add-player-list .add-drop-player-row[data-player-id="${a}"]`);
                    e && e.classList.remove("disabled-dropbox");
                }
                "add" === t &&
                    (s
                        ? console.warn("This player is already in array:", a)
                        : (ba.push(r),
                          e.classList.add("disabled-dropbox"),
                          renderPlayerList(ba, "drop-player-list", "drop")));
                document.getElementById("add_drop_submit") && ba.length;
                document.getElementById("clearDropList") && ba.length;
            }
            Ua &&
                Ua.addEventListener("change", () => {
                    renderPlayerList(wa, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                sortScrollFadeShadow("add-player-list", ".sort-bar.add-list"),
                sortScrollFadeShadow("drop-player-list", ".sort-bar.drop-list"),
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        setTimeout(() => {
                            document.body.appendChild(fa);
                        }, timeFrame);
                    });
                }),
                Oa.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        Aa === t
                            ? (Ea *= -1)
                            : ((Aa = t), (Ea = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            Oa.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === Ea ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(wa, "add-player-list", "add");
                        const a = document.querySelector("#add-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                Ba.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        Ca === t
                            ? (Ha *= -1)
                            : ((Ca = t), (Ha = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            Ba.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === Ha ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(ba, "drop-player-list", "drop");
                        const a = document.querySelector("#drop-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                document.getElementById("clearDropList")?.addEventListener("click", () => {
                    clearAllFromList("drop-player-list", "drop");
                }),
                document.getElementById("add_drop_submit").addEventListener("click", function (e) {
                    e.preventDefault();
                    const t = document.getElementById("COPY_YEAR"),
                        a = document.getElementById("COPY_LEAGUE"),
                        r = t?.value || "",
                        s = a?.value?.trim() || "",
                        o = /^\d{5}$/.test(s);
                    if (o && !ba.length);
                    else if (!o && ba.length);
                    else if (!o || !ba.length)
                        return void alert("You must enter a player to watch or input a league ID to copy");
                    if (!confirm("Are you sure you want to watch these players?")) return;
                    const l = ba.map((e) => `PID=${encodeURIComponent(e.id)}`).join("&"),
                        i = `${baseURLDynamic}/${year}/options?L=${league_id}&ACTION=add&O=178&${l}&COPY_YEAR=${r}&COPY_LEAGUE=${s}&submit=Add+To+My+Watch+List`;
                    window.location.href = i;
                });
        } else document.body.appendChild(fa);
    }
}
if (
    ("load_rosters" === thisProgram &&
        document.querySelectorAll("#load_rosters table.report").forEach((e) => {
            if (e.parentElement?.classList.contains("mobile-wrap")) return;
            const t = document.createElement("div");
            (t.className = "mobile-wrap"), e.parentNode.insertBefore(t, e), t.appendChild(e);
        }),
    "csetup_loadrost" === thisProgram)
) {
    const Wa = document.createElement("style");
    if (
        ((Wa.textContent = "#csetup_loadrost table,#csetup_loadrost .mobile-wrap,#dropInputDiv{visibility:visible;}"),
        "undefined" == typeof franchise_id)
    )
        document.body.appendChild(Wa);
    else if ("undefined" == typeof playerDatabaseObj) document.body.appendChild(Wa);
    else {
        document.body.classList.add("DropSelect");
        const Ga = document.querySelector('form[action*="load_rosters"]');
        if (void 0 === timeFrame) timeFrame = 300;
        if (document.querySelector("#csetup_loadrost")) {
            const Va = window.playerDatabaseObj?.picker || [],
                Ka = document.getElementById("destination_list"),
                Xa = Ka?.querySelectorAll("option");
            Xa &&
                ((playerDatabaseObj.roster = []),
                Xa.forEach((e) => {
                    const t = e.value,
                        a = Va.find((e) => e.id === t);
                    if (a) playerDatabaseObj.roster.push({ ...a });
                    else {
                        const a = e.textContent.trim().split(" ");
                        if (a.length >= 3) {
                            const e = a.pop(),
                                r = a.pop(),
                                s = a.join(" ");
                            playerDatabaseObj.roster.push({ id: t, name: s, nfl_team: r, pos: e });
                        }
                    }
                })),
                (curRoster = window.playerDatabaseObj?.roster || []);
            Object.values(Va).some((e) => void 0 !== e.sal);
            const Ja = Object.values(Va).some((e) => void 0 !== e.sal);
            let Za = document.querySelector('input[name="FRANCHISE_ID"]')?.value || "";
            Za || (Za = franchise_id);
            const er = franchiseDatabase[`fid_${Za}`],
                tr = er?.name || "Unknown Franchise";
            let ar = null,
                rr = null,
                sr = 1,
                or = 1;
            const lr = document.getElementById("picker_filt_pos");
            let ir = null;
            lr &&
                (ir = Array.from(lr.options)
                    .filter((e) => "ALL" !== e.value.toUpperCase())
                    .map((e) => {
                        const t = e.value.toUpperCase();
                        return `<option value="${t}">${t}</option>`;
                    })
                    .join(""));
            const nr = document.getElementById("picker_filt_nfl");
            nr && ((nr.id = "add_filt_nfl"), nr.removeAttribute("onchange"));
            let dr = "";
            (dr += '<form id="AddDropForm" action="add_drop" method="POST">'),
                (dr += '<div id="enhanced-add-drop-ui">'),
                (dr += '<div id="add-drop-enhanced-ui">'),
                (ir || nr) &&
                    ((dr += '<div class="filter-controls mobile-wrap">'),
                    (dr +=
                        '<input id="addDropSearch" type="text" placeholder="Search player name..." style="flex: 1 1 0%; padding: .1875rem;">'),
                    nr && (dr += nr.outerHTML),
                    ir && (dr += `<select id="position-filter"><option value="">All</option>${ir}</select>`),
                    (dr += "</div>")),
                (dr += '<div class="add-player-container mobile-wrap">'),
                (dr +=
                    '<table align="center" class="report cus-add-tableCap"><caption><span>Select Player To Load</span></caption><tbody><tr><th><div class="sort-bar add-list"><span>Sort by:</span><button type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                (dr +=
                    '<button type="button" class="sort-btn add-list" data-key="pos">Position <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="fsrank">Rank <i class="fa-solid"></i></button>'),
                (dr += "</div></th></tr></tbody></table>"),
                (dr += '<div id="add-player-list">'),
                (dr += "</div>"),
                (dr += '<div id="locked-msg" align="left" style="text-align:center">'),
                (dr += `<div><b style="display:inline-block;text-align:center;width:2.5rem;">Hint: </b> Can't find a player on this list?<br>You can <a href="player_search?L=${league_id}" target="_blank">search our player database</a> to try to find him.</div>`),
                (dr += "</div>"),
                (dr += "</div>"),
                (dr += '<div class="drop-player-container mobile-wrap">'),
                (dr += `<table align="center" class="report cus-drop-tableCap"><caption><span>${tr} Roster</span></caption><tbody><tr><th><div class="sort-bar drop-list"><span>Sort by:</span><button type="button" class="sort-btn drop-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>`),
                (dr += Ja
                    ? '<button type="button" class="sort-btn drop-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="player_salary">Sal <i class="fa-solid"></i></button>'
                    : '<button type="button" class="sort-btn drop-list" data-key="pos">Position <i class="fa-solid"></i></button>'),
                (dr += "</div></th></tr></tbody></table>"),
                (dr += '<div id="drop-player-list"></div>'),
                (dr += "</div>"),
                (dr += "</div>"),
                (dr += "</div>"),
                (dr += "</div>"),
                (dr += '<div id="loadText" class="mobile-wrap">'),
                (dr += '<table align="center" class="report selected-moves">'),
                (dr += "<caption><span>Manually Load Players</span></caption>"),
                (dr += "<tbody>"),
                (dr +=
                    '<tr><th colspan="100">You may copy/paste (or type in) player names here, one player name per line</th></tr>'),
                (dr += "<tr>"),
                (dr += '<td><textarea style="width:100%" rows="8" cols="40" name="PLAYER_NAMES"></textarea></td>'),
                (dr += "</tr></tbody></table></div>"),
                (dr += "<br>"),
                (dr += '<div id="dropInputDiv" style="text-align:center; margin-top: 1rem;">'),
                (dr +=
                    '<input id="add_drop_submit" type="submit" name="SUBMIT" value="Submit" style="display:inline-block;margin:0!important;margin-right:.325rem!important">'),
                Array.isArray(curRoster) && 0 === curRoster.length
                    ? (dr +=
                          '<input id="clearDropList" type="button" value="Clear List" style="display:inline-block;margin:0!important;margin-left:.162rem!important" disabled>')
                    : (dr +=
                          '<input id="clearDropList" type="button" value="Clear List" style="display:inline-block;margin:0!important;margin-left:.162rem!important">'),
                (dr += "</div>"),
                (dr += "<br>"),
                (dr += "</form>"),
                Ga && (Ga.outerHTML = dr);
            const cr = document.getElementById("addDropSearch"),
                pr = document.getElementById("position-filter");
            function renderPlayerList(e, t, a) {
                const r = document.getElementById(t);
                if (!r) return void console.warn(` Container ${t} not found.`);
                r.textContent = "";
                let s = e;
                if ("add" === a) {
                    if (ir || nr) {
                        const t = document.getElementById("addDropSearch"),
                            a = t?.value?.trim().toLowerCase() || "",
                            r = document.getElementById("position-filter")?.value || "",
                            o = document.querySelector("#add_filt_nfl")?.value?.toUpperCase?.() || "";
                        s = e.filter((e) => {
                            let [t, s] = e.name.split(", ");
                            return (
                                `${s || ""} ${t || ""}`.trim().toLowerCase().includes(a) &&
                                (!r || e.pos?.toUpperCase() === r) &&
                                ("ALL" === o || !o || e.nfl_team?.toUpperCase() === o)
                            );
                        });
                    }
                    ar &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, ar),
                                r = sortPlayerObjectData(t, ar);
                            if ("fsrank" === ar || "pwpts" === ar || "projpts" === ar) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * sr;
                        });
                }
                "drop" === a &&
                    (s.sort((e, t) => {
                        const a = e.pos?.toUpperCase?.() || "",
                            r = t.pos?.toUpperCase?.() || "",
                            s = sortPlayerPosOrder[a] || 99,
                            o = sortPlayerPosOrder[r] || 99;
                        if (s !== o) return s - o;
                        const [l, i] = e.name.split(", "),
                            [n, d] = t.name.split(", "),
                            c = `${i || ""} ${l || ""}`.toLowerCase(),
                            p = `${d || ""} ${n || ""}`.toLowerCase();
                        return c.localeCompare(p);
                    }),
                    rr &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, rr),
                                r = sortPlayerObjectData(t, rr);
                            if ("fsrank" === rr || "pwpts" === rr || "projpts" === rr) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * or;
                        }));
                const o = document.createDocumentFragment();
                s.forEach((e, t) => {
                    const [r, s] = e.name.split(", ");
                    let l = s?.trim() || "",
                        i = r?.trim() || "";
                    const n = l.includes("#") || i.includes("#"),
                        d = l.includes("*") || i.includes("*"),
                        c = l.includes("^") || i.includes("^"),
                        p = l.includes("(R)") || i.includes("(R)");
                    (l = l.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim()),
                        (i = i.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim());
                    const h = `${l} ${i}${p ? " (R)" : ""}`.trim();
                    let _ = "";
                    n && (_ += ' <span class="player-status">#</span>'),
                        d && (_ += ' <span class="player-status">*</span>'),
                        c && (_ += ' <span class="player-status">[L]</span>');
                    const m = [
                            "DEF",
                            "COACH",
                            "OFF",
                            "TMQB",
                            "TMRB",
                            "TMWR",
                            "TMTE",
                            "TMPK",
                            "TMPN",
                            "TMDL",
                            "TMLB",
                            "TMDB",
                        ].includes(e.pos?.toUpperCase())
                            ? `https://www.mflscripts.com/playerImages_96x96/mfl_${e.nfl_team}.svg`
                            : `https://www.mflscripts.com/playerImages_80x107/mfl_${e.id}.png`,
                        y = "https://mflscripts.com/playerImages_80x107/free_agent.png";
                    let u = "";
                    u =
                        "drop" === a
                            ? `<small>${e.nfl_team ?? "FA"}</small>`
                            : `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}</small>`;
                    const f = document.createElement("div");
                    (f.className = c
                        ? "add-drop-player-row disabled-locked " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")
                        : "add-drop-player-row " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                        (f.dataset.playerId = e.id),
                        "add" === a && curRoster.some((t) => t.id === e.id) && f.classList.add("disabled-dropbox"),
                        (f.innerHTML =
                            "drop" === a
                                ? `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Drop"}</button>`
                                : `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="player-myrank" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.fsrank)) ? "9999" : e.fsrank}</div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Drop"}</button>`),
                        o.appendChild(f);
                }),
                    r.appendChild(o);
            }
            const hr = document.getElementById("add-drop-enhanced-ui");
            hr
                ? hr.addEventListener("click", function (e) {
                      const t = e.target.closest(".add-drop-player-row");
                      if (!t || !hr.contains(t)) return;
                      const a = !!t.closest("#add-player-list");
                      handlePlayerRowClick(t, a ? "add" : "drop");
                  })
                : console.warn(" Could not find #add-drop-enhanced-ui for delegation."),
                (ar = "fsrank"),
                (sr = 1),
                (rr = "pos"),
                (or = 1),
                renderPlayerList(Va, "add-player-list", "add"),
                renderPlayerList(curRoster, "drop-player-list", "drop");
            const _r = document.querySelector(".sort-bar.add-list"),
                mr = document.querySelector(".sort-bar.drop-list"),
                yr = _r.querySelector('button[data-key="fsrank"]');
            if (yr) {
                yr.querySelector("i").classList.add("fa-caret-down"), yr.classList.add("activated");
            }
            const ur = mr.querySelector('button[data-key="pos"]');
            if (ur) {
                ur.querySelector("i").classList.add("fa-caret-down"), ur.classList.add("activated");
            }
            cr &&
                cr.addEventListener("input", () => {
                    renderPlayerList(Va, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                pr &&
                    pr.addEventListener("change", () => {
                        renderPlayerList(Va, "add-player-list", "add");
                        const e = document.querySelector("#add-player-list");
                        e && e.scrollTo({ top: 0 });
                    });
            const fr = document.getElementById("add_filt_nfl");
            function clearAllFromList(e, t) {
                const a = document.getElementById(e);
                if (!a) return;
                a.querySelectorAll(".add-drop-player-row").forEach((e) => {
                    e.classList.contains("disabled-locked") || handlePlayerRowClick(e, t);
                });
            }
            function handlePlayerRowClick(e, t) {
                const a = e.dataset.playerId;
                if (!a) return;
                const r = Va.find((e) => e.id === a);
                r || console.warn("Player not found in addPlayers:", a);
                const s = curRoster.some((e) => e.id === a);
                if ("drop" === t && s) {
                    (curRoster = curRoster.filter((e) => e.id !== a)),
                        renderPlayerList(curRoster, "drop-player-list", "drop");
                    const e = document.querySelector(`#add-player-list .add-drop-player-row[data-player-id="${a}"]`);
                    e && e.classList.remove("disabled-dropbox");
                }
                "add" === t &&
                    (s
                        ? console.warn("This player is already in array:", a)
                        : (curRoster.push(r),
                          e.classList.add("disabled-dropbox"),
                          renderPlayerList(curRoster, "drop-player-list", "drop")));
                const o = document.getElementById("add_drop_submit");
                o && (0 === curRoster.length || (o.disabled = !1));
                const l = document.getElementById("clearDropList");
                l && (0 === curRoster.length ? (l.disabled = !0) : (l.disabled = !1));
            }
            fr &&
                fr.addEventListener("change", () => {
                    renderPlayerList(Va, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                sortScrollFadeShadow("add-player-list", ".sort-bar.add-list"),
                sortScrollFadeShadow("drop-player-list", ".sort-bar.drop-list"),
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        setTimeout(() => {
                            document.body.appendChild(Wa);
                        }, timeFrame);
                    });
                }),
                _r.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        ar === t
                            ? (sr *= -1)
                            : ((ar = t), (sr = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            _r.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === sr ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(Va, "add-player-list", "add");
                        const a = document.querySelector("#add-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                mr.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        rr === t
                            ? (or *= -1)
                            : ((rr = t), (or = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            mr.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === or ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(curRoster, "drop-player-list", "drop");
                        const a = document.querySelector("#drop-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                document.getElementById("clearDropList")?.addEventListener("click", () => {
                    clearAllFromList("drop-player-list", "drop");
                }),
                document.getElementById("add_drop_submit").addEventListener("click", function (e) {
                    e.preventDefault();
                    if (!confirm("Are you sure you want to add/drop these to this roster?")) return;
                    const t = curRoster.map((e) => `ROSTER=${encodeURIComponent(e.id)}`).join("&"),
                        a = document.querySelector('textarea[name="PLAYER_NAMES"]'),
                        r = a?.value?.trim() || "",
                        s = `${baseURLDynamic}/${year}/load_rosters?L=${league_id}&FRANCHISE_ID=${Za}&C=LOADROST&${t}&PLAYER_NAMES=${encodeURIComponent(r)}`;
                    window.location.href = s;
                });
        } else document.body.appendChild(Wa);
    }
}
if ("options_129" === thisProgram) {
    const br = document.createElement("style");
    if (
        ((br.textContent = "#options_129 table,#options_129 .mobile-wrap,#dropInputDiv{visibility:visible;}"),
        "undefined" == typeof franchise_id)
    )
        document.body.appendChild(br);
    else if ("undefined" == typeof playerDatabaseObj)
        document.querySelectorAll("#options_129 table.report").forEach((e) => {
            if (e.parentElement?.classList.contains("mobile-wrap")) return;
            const t = document.createElement("div");
            (t.className = "mobile-wrap"), e.parentNode.insertBefore(t, e), t.appendChild(e);
        }),
            document.body.appendChild(br);
    else {
        document.body.classList.add("DropSelect"),
            document.querySelectorAll("#options_129 table.report").forEach((e) => {
                if (e.parentElement?.classList.contains("mobile-wrap")) return;
                const t = document.createElement("div");
                (t.className = "mobile-wrap"), e.parentNode.insertBefore(t, e), t.appendChild(e);
            });
        const gr = document.querySelector('form[action*="my_draft_list"]');
        if (void 0 === timeFrame) timeFrame = 300;
        if (document.querySelector("#options_129")) {
            const vr = window.playerDatabaseObj?.picker || [],
                wr = document.getElementById("destination_list"),
                kr = wr?.querySelectorAll("option");
            kr &&
                ((playerDatabaseObj.roster = []),
                kr.forEach((e) => {
                    const t = e.value,
                        a = vr.find((e) => e.id === t);
                    if (a) playerDatabaseObj.roster.push({ ...a });
                    else {
                        const a = e.textContent.trim().split(" ");
                        if (a.length >= 3) {
                            const e = a.pop(),
                                r = a.pop(),
                                s = a.join(" ");
                            playerDatabaseObj.roster.push({ id: t, name: s, nfl_team: r, pos: e });
                        }
                    }
                })),
                (curRoster = window.playerDatabaseObj?.roster || []);
            const $r = Object.values(vr).some((e) => void 0 !== e.sal);
            let xr = null,
                Sr = 1;
            const Lr = new URL(baseURLDynamic).host,
                Tr = document.getElementById("picker_filt_pos");
            let Pr = null;
            Tr &&
                (Pr = Array.from(Tr.options)
                    .filter((e) => "ALL" !== e.value.toUpperCase())
                    .map((e) => {
                        const t = e.value.toUpperCase();
                        return `<option value="${t}">${t}</option>`;
                    })
                    .join(""));
            const Ar = document.getElementById("picker_filt_nfl");
            Ar && ((Ar.id = "add_filt_nfl"), Ar.removeAttribute("onchange"));
            let Cr = "";
            (Cr += `<form id="AddDropForm"  action="${baseURLDynamic}/${year}/my_draft_list" method="post" name="my_draft_list">`),
                (Cr += `<input type="hidden" name="L" value="${league_id}">`),
                (Cr += '<input type="hidden" name="O" value="129">'),
                (Cr += `<input type="hidden" name="FRANCHISE_ID" value="${franchise_id}">`),
                (Cr += '<div id="enhanced-add-drop-ui">'),
                (Cr += '<div id="add-drop-enhanced-ui">'),
                (Pr || Ar) &&
                    ((Cr += '<div class="filter-controls mobile-wrap">'),
                    (Cr +=
                        '<input id="addDropSearch" type="text" placeholder="Search player name..." style="flex: 1 1 0%; padding: .1875rem;">'),
                    Ar && (Cr += Ar.outerHTML),
                    Pr && (Cr += `<select id="position-filter"><option value="">All</option>${Pr}</select>`),
                    (Cr += "</div>")),
                (Cr += '<div class="add-player-container mobile-wrap">'),
                (Cr +=
                    '<table align="center" class="report cus-add-tableCap"><caption><span>Move Players To My Draft List</span></caption><tbody><tr><th><div class="sort-bar add-list"><span>Sort by:</span><button type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                (Cr += $r
                    ? '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="projpts">Proj <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="player_salary">Sal <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="adp">ADP <i class="fa-solid"></i></button>'
                    : '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="projpts">Proj <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="adp">ADP <i class="fa-solid"></i></button>'),
                (Cr += "</div></th></tr></tbody></table>"),
                (Cr += '<div id="add-player-list">'),
                (Cr += "</div>"),
                (Cr += '<div id="locked-msg" align="left" style="text-align:center">'),
                (Cr += `<div class="checkboxFantasySharks">Looking for draft advice?  Check out<br><a href="https://www.fantasysharks.com/apps/Remora/draftcoach.php?league=${league_id}&team=${franchise_id}&host=${Lr}" target="_blank">FantasySharks Draft Coach</a> or <a href="https://www.fantasysharks.com/apps/Remora/draftguideHTML.php?L=${league_id}&T=${franchise_id}&H=${Lr}" target="_blank">FantasySharks Draft Guide</a>.</div>`),
                (Cr += "</div>"),
                (Cr += "</div>"),
                (Cr += '<div class="drop-player-container mobile-wrap">'),
                (Cr +=
                    '<table align="center" class="report cus-add-tableCap"><caption><span>My Draft List</span></caption><tbody><tr><th><div class="sort-bar drop-list"><div class="dropThtext" style="position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:100%">Sort The Order Of Your Draft Rankings</div><span style="visibility:hidden!important">Sort by:</span><button style="visibility:hidden!important" type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button style="visibility:hidden!important" type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                (Cr += "</div></th></tr></tbody></table>"),
                (Cr += '<div id="drop-player-list"></div>'),
                (Cr += "</div>"),
                (Cr += "</div>"),
                (Cr += "</div>"),
                (Cr += "</div>"),
                (Cr += "<br>"),
                (Cr += '<div id="dropInputDiv" style="text-align:center; margin-top: 1rem;">'),
                (Cr +=
                    '<input id="add_drop_submit" type="submit" name="save" value="Save My Draft List" style="display:inline-block;margin:0!important;margin-right:.162rem!important">'),
                Array.isArray(curRoster) && 0 === curRoster.length
                    ? (Cr +=
                          '<input id="clearDropList" type="button" value="Clear Draft List" style="display:inline-block;margin:0!important;margin-left:.162rem!important" disabled>')
                    : (Cr +=
                          '<input id="clearDropList" type="button" value="Clear Draft List" style="display:inline-block;margin:0!important;margin-left:.162rem!important">'),
                (Cr += "</div>"),
                (Cr += "<br>"),
                (Cr += "</form>"),
                gr && (gr.outerHTML = Cr);
            const Er = document.getElementById("addDropSearch"),
                Hr = document.getElementById("position-filter");
            function renderPlayerList(e, t, a) {
                const r = document.getElementById(t);
                if (!r) return void console.warn(` Container ${t} not found.`);
                r.textContent = "";
                let s = e;
                if ("add" === a) {
                    if (Pr || Ar) {
                        const t = document.getElementById("addDropSearch"),
                            a = t?.value?.trim().toLowerCase() || "",
                            r = document.getElementById("position-filter")?.value || "",
                            o = document.querySelector("#add_filt_nfl")?.value?.toUpperCase?.() || "";
                        s = e.filter((e) => {
                            let [t, s] = e.name.split(", ");
                            return (
                                `${s || ""} ${t || ""}`.trim().toLowerCase().includes(a) &&
                                (!r || e.pos?.toUpperCase() === r) &&
                                ("ALL" === o || !o || e.nfl_team?.toUpperCase() === o)
                            );
                        });
                    }
                    xr &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, xr),
                                r = sortPlayerObjectData(t, xr);
                            if ("fsrank" === xr || "pwpts" === xr || "projpts" === xr) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * Sr;
                        });
                }
                const o = document.createDocumentFragment();
                s.forEach((e, t) => {
                    const [r, s] = e.name.split(", ");
                    let l = s?.trim() || "",
                        i = r?.trim() || "";
                    const n = l.includes("#") || i.includes("#"),
                        d = l.includes("*") || i.includes("*"),
                        c = l.includes("^") || i.includes("^"),
                        p = l.includes("(R)") || i.includes("(R)");
                    (l = l.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim()),
                        (i = i.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim());
                    const h = `${l} ${i}${p ? " (R)" : ""}`.trim();
                    let _ = "";
                    n && (_ += ' <span class="player-status">#</span>'),
                        d && (_ += ' <span class="player-status">*</span>'),
                        c && (_ += ' <span class="player-status">[L]</span>');
                    const m = [
                            "DEF",
                            "COACH",
                            "OFF",
                            "TMQB",
                            "TMRB",
                            "TMWR",
                            "TMTE",
                            "TMPK",
                            "TMPN",
                            "TMDL",
                            "TMLB",
                            "TMDB",
                        ].includes(e.pos?.toUpperCase())
                            ? `https://www.mflscripts.com/playerImages_96x96/mfl_${e.nfl_team}.svg`
                            : `https://www.mflscripts.com/playerImages_80x107/mfl_${e.id}.png`,
                        y = "https://mflscripts.com/playerImages_80x107/free_agent.png";
                    "drop" === a
                        ? e.sal
                            ? (infoLine = `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}${isNaN(parseFloat(e.sort_sal)) ? "  Sal: $0" : `  Sal: $${parseFloat(e.sort_sal)}`}</small><input type="hidden" name="PLAYERS" value="${e.id}"><div class="moveBtns"><button type="button" class="move-up-btn" title="Move Player Up 1 Spot"></button><button type="button" class="move-up-btn-twenty" title="Move Player Up 20 Spots"> 20</button><button type="button" class="move-down-btn" title="Move Player Down 1 Spot"></button><button type="button" class="move-down-btn-twenty" title="Move Player Down 20 Spots"> 20</button><button type="button" class="move-Up-down-btn-twenty" title="Move Player 20 Spots"> 20 </button></div>`)
                            : (infoLine = `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}</small><input type="hidden" name="PLAYERS" value="${e.id}"><div class="moveBtns"><button type="button" class="move-up-btn" title="Move Player Up 1 Spot"></button><button type="button" class="move-up-btn-twenty" title="Move Player Up 20 Spots"> 20</button><button type="button" class="move-down-btn" title="Move Player Down 1 Spot"></button><button type="button" class="move-down-btn-twenty" title="Move Player Down 20 Spots"> 20</button><button type="button" class="move-Up-down-btn-twenty" title="Move Player 20 Spots"> 20 </button></div>`)
                        : e.sal
                          ? (infoLine = `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}${isNaN(parseFloat(e.sort_sal)) ? "  Sal: $0" : `  Sal: $${parseFloat(e.sort_sal)}`}</small>`)
                          : (infoLine = `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}</small>`);
                    const u = document.createElement("div");
                    (u.className = c
                        ? "add-drop-player-row disabled-locked " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")
                        : "add-drop-player-row " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                        (u.dataset.playerId = e.id),
                        "add" === a &&
                            curRoster.some((t) => t.id === e.id) &&
                            (u.classList.add("disabled-dropbox"), (u.style.display = "none")),
                        (u.innerHTML = c
                            ? `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${infoLine} </div>\n  <div class="player-wproj" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.projpts)) ? "0" : parseFloat(e.projpts)}</div>\n  <button type="button" class="select-btn">Locked</button>`
                            : `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${infoLine} </div>\n  <div class="player-wproj" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.projpts)) ? "0" : parseFloat(e.projpts)}</div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Remove"}</button>`),
                        o.appendChild(u);
                }),
                    r.appendChild(o),
                    "drop" === a &&
                        (Array.isArray(curRoster) && curRoster.length < 7
                            ? r.classList.add("showFilters")
                            : r.classList.remove("showFilters"));
            }
            const Rr = document.getElementById("add-drop-enhanced-ui");
            Rr
                ? Rr.addEventListener("click", function (e) {
                      const t = e.target.closest(".add-drop-player-row");
                      if (!t || !Rr.contains(t)) return;
                      const a = !!t.closest("#add-player-list") ? "add" : "drop";
                      ("drop" !== a || e.target.classList.contains("select-btn")) && handlePlayerRowClick(t, a);
                  })
                : console.warn(" Could not find #add-drop-enhanced-ui for delegation."),
                (xr = "projpts"),
                (Sr = -1),
                renderPlayerList(vr, "add-player-list", "add"),
                renderPlayerList(curRoster, "drop-player-list", "drop");
            const jr = document.querySelector(".sort-bar.add-list"),
                Dr = jr.querySelector('button[data-key="projpts"]');
            if (Dr) {
                Dr.querySelector("i").classList.add("fa-caret-down"), Dr.classList.add("activated");
            }
            Er &&
                Er.addEventListener("input", () => {
                    renderPlayerList(vr, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                Hr &&
                    Hr.addEventListener("change", () => {
                        renderPlayerList(vr, "add-player-list", "add");
                        const e = document.querySelector("#add-player-list");
                        e && e.scrollTo({ top: 0 });
                    });
            const Ir = document.getElementById("add_filt_nfl");
            function clearAllFromList(e, t) {
                const a = document.getElementById(e);
                if (!a) return;
                a.querySelectorAll(".add-drop-player-row").forEach((e) => {
                    e.classList.contains("disabled-locked") || handlePlayerRowClick(e, t);
                });
            }
            function handlePlayerRowClick(e, t) {
                const a = e.dataset.playerId;
                if (!a) return;
                const r = vr.find((e) => e.id === a);
                r || console.warn("Player not found in addPlayers:", a);
                const s = curRoster.some((e) => e.id === a);
                if ("drop" === t && s) {
                    (curRoster = curRoster.filter((e) => e.id !== a)),
                        renderPlayerList(curRoster, "drop-player-list", "drop");
                    const e = document.querySelector(`#add-player-list .add-drop-player-row[data-player-id="${a}"]`);
                    e && (e.classList.remove("disabled-dropbox"), (e.style.display = ""));
                }
                "add" === t &&
                    (s
                        ? console.warn("This player is already in array:", a)
                        : (curRoster.push(r),
                          e.classList.add("disabled-dropbox"),
                          (e.style.display = "none"),
                          renderPlayerList(curRoster, "drop-player-list", "drop")));
                const o = document.getElementById("add_drop_submit");
                o && (0 === curRoster.length || (o.disabled = !1));
                const l = document.getElementById("clearDropList");
                l && (0 === curRoster.length ? (l.disabled = !0) : (l.disabled = !1));
            }
            Ir &&
                Ir.addEventListener("change", () => {
                    renderPlayerList(vr, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                sortScrollFadeShadow("add-player-list", ".sort-bar.add-list"),
                sortScrollFadeShadow("drop-player-list", ".sort-bar.drop-list"),
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        setTimeout(() => {
                            document.body.appendChild(br);
                        }, timeFrame);
                    });
                }),
                jr.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        xr === t
                            ? (Sr *= -1)
                            : ((xr = t), (Sr = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            jr.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === Sr ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(vr, "add-player-list", "add");
                        const a = document.querySelector("#add-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                document.getElementById("clearDropList")?.addEventListener("click", () => {
                    clearAllFromList("drop-player-list", "drop");
                }),
                document.getElementById("drop-player-list").addEventListener("click", function (e) {
                    const t = e.target,
                        a = t.closest(".add-drop-player-row");
                    if (!a) return;
                    const r = a.parentNode,
                        s = Array.from(r.querySelectorAll(".add-drop-player-row")),
                        o = s.indexOf(a),
                        l = document.getElementById("add_drop_submit");
                    if (t.classList.contains("move-up-btn")) {
                        const e = a.previousElementSibling;
                        e &&
                            e.classList.contains("add-drop-player-row") &&
                            (r.insertBefore(a, e), sortSyncCurRosterOrder()),
                            l && (l.disabled = !1);
                    }
                    if (t.classList.contains("move-down-btn")) {
                        const e = a.nextElementSibling;
                        e &&
                            e.classList.contains("add-drop-player-row") &&
                            (r.insertBefore(e, a), sortSyncCurRosterOrder()),
                            l && (l.disabled = !1);
                    }
                    if (t.classList.contains("move-up-btn-twenty")) {
                        let e = o - 20;
                        e < 0 && (e = 0);
                        const t = s[e];
                        r.insertBefore(a, t), sortSyncCurRosterOrder(), l && (l.disabled = !1);
                    }
                    if (t.classList.contains("move-down-btn-twenty")) {
                        let e = o + 20;
                        if (e >= s.length) r.appendChild(a);
                        else {
                            const t = s[e];
                            r.insertBefore(a, t.nextSibling);
                        }
                        sortSyncCurRosterOrder(), l && (l.disabled = !1);
                    }
                    if (t.classList.contains("move-Up-down-btn-twenty")) {
                        const e = document.querySelector(".move-20-prompt");
                        e && e.remove();
                        const t = document.createElement("div");
                        (t.className = "move-20-prompt oddtablerow"),
                            (t.style.cssText =
                                "padding:.25rem;display:flex;align-items:center;gap:.25rem;margin:.25rem 0"),
                            (t.innerHTML =
                                '<strong style="white-space:nowrap;font-size:1rem;font-weight:40">Move Player:</strong><select id="move-20-select" style="width:100%!important;padding:0!important;height:2rem;"><option value="">Direction</option><option value="up"> Up 20</option><option value="down"> Down 20</option></select><button style="padding:.1875rem;height:2rem;" type="button" id="confirm-move-20">Confirm</button><button type="button" id="cancel-move-20" style="padding:.1875rem;height:2rem;">Cancel</button>'),
                            a.insertAdjacentElement("afterend", t),
                            t.querySelector("#confirm-move-20").addEventListener("click", () => {
                                const e = t.querySelector("#move-20-select").value;
                                if ((t.remove(), "up" === e)) {
                                    let e = o - 20;
                                    e < 0 && (e = 0);
                                    const t = s[e];
                                    r.insertBefore(a, t), sortSyncCurRosterOrder();
                                } else if ("down" === e) {
                                    let e = o + 20;
                                    if (e >= s.length) r.appendChild(a);
                                    else {
                                        const t = s[e];
                                        r.insertBefore(a, t.nextSibling);
                                    }
                                    sortSyncCurRosterOrder();
                                }
                            }),
                            t.querySelector("#cancel-move-20").addEventListener("click", () => {
                                t.remove();
                            }),
                            l && (l.disabled = !1);
                    }
                });
        } else document.body.appendChild(br);
    }
}
if ("options_52" === thisProgram || "new_predraft" === thisProgram) {
    const Fr = document.createElement("style");
    if (
        ((Fr.textContent =
            "#options_52 table,#options_52 .mobile-wrap,#new_predraft table,#new_predraft .mobile-wrap,#dropInputDiv{visibility:visible;}"),
        "undefined" == typeof franchise_id)
    )
        document.body.appendChild(Fr);
    else if ("undefined" == typeof playerDatabaseObj) document.body.appendChild(Fr);
    else {
        document.body.classList.add("DropSelect"),
            document.querySelectorAll("#new_predraft table.report").forEach((e) => {
                if (e.parentElement?.classList.contains("mobile-wrap")) return;
                const t = document.createElement("div");
                (t.className = "mobile-wrap"), e.parentNode.insertBefore(t, e), t.appendChild(e);
            });
        let Mr = document.querySelector('form[action*="draft"]:not([action*="new_predraft"])'),
            Nr = !!Mr;
        Mr || (Mr = document.querySelector('form[action*="new_predraft"]'));
        let Or = Mr ? Mr.closest("table") || Mr : null;
        Nr && document.body.classList.add("draftNow"),
            Or.querySelectorAll("img.franchiseicon").forEach((e) => {
                const t = e.getAttribute("alt") || "",
                    a = document.createTextNode(t);
                e.replaceWith(a);
            });
        const Br = Or.querySelectorAll("caption"),
            qr = Or.querySelectorAll("h3");
        let Qr = "",
            Ur = "",
            zr = "",
            Yr = "",
            Wr = "";
        Br.forEach((e) => {
            if (e.textContent.includes("Draft Pick")) {
                const t = e.querySelector("span");
                Qr = t ? t.innerHTML : e.innerHTML;
            }
            if (e.textContent.includes("Selections For")) {
                const t = e.querySelector("span");
                Ur = t ? t.innerHTML : e.innerHTML;
            }
            if (e.textContent.includes("It's Your Turn")) {
                const t = e.querySelector("span");
                Wr = t ? t.innerHTML : e.innerHTML;
            }
        }),
            qr.forEach((e) => {
                e.textContent.includes("Waiting For") && (zr = e.innerHTML),
                    e.textContent.includes("On Deck") && (Yr = e.innerHTML);
            });
        let Gr = document.querySelector("#options_52");
        if ((Gr || (Gr = document.querySelector("#new_predraft")), void 0 === timeFrame)) timeFrame = 300;
        if (Gr) {
            const isEmptyRank = (e) =>
                null == e || 0 === e || "" === e || "0" === e || ("string" == typeof e && "" === e.trim());
            ["picker"].forEach((e) => {
                Array.isArray(playerDatabaseObj[e]) &&
                    playerDatabaseObj[e].forEach((e) => {
                        "adp" in e && isEmptyRank(e.adp) && (e.adp = 9999),
                            "fsrank" in e && isEmptyRank(e.fsrank) && (e.fsrank = "9999"),
                            "myrank" in e && isEmptyRank(e.myrank) && (e.myrank = 9999);
                    });
            });
            const Vr = window.playerDatabaseObj?.picker || [],
                Kr = document.getElementById("destination_list"),
                Xr = Kr?.querySelectorAll("option");
            Xr &&
                ((playerDatabaseObj.roster = []),
                Xr.forEach((e) => {
                    const t = e.value,
                        a = Vr.find((e) => e.id === t);
                    if (a) playerDatabaseObj.roster.push({ ...a });
                    else {
                        const a = e.textContent.trim().split(" ");
                        if (a.length >= 3) {
                            const e = a.pop(),
                                r = a.pop(),
                                s = a.join(" ");
                            playerDatabaseObj.roster.push({ id: t, name: s, nfl_team: r, pos: e });
                        }
                    }
                })),
                (curRoster = window.playerDatabaseObj?.roster || []);
            const Jr = Object.values(Vr).some((e) => void 0 !== e.sal);
            let Zr = null,
                es = 1,
                ts = !1,
                as = "myrank" === picker_sortby;
            const rs = new URL(baseURLDynamic).host,
                ss = document.getElementById("picker_filt_pos");
            let os = null;
            ss &&
                (os = Array.from(ss.options)
                    .filter((e) => "ALL" !== e.value.toUpperCase())
                    .map((e) => {
                        const t = e.value.toUpperCase();
                        return `<option value="${t}">${t}</option>`;
                    })
                    .join(""));
            const ls = document.getElementById("picker_filt_nfl");
            ls && ((ls.id = "add_filt_nfl"), ls.removeAttribute("onchange"));
            let is = document.querySelector('input[name="FRANCHISE_ID"]')?.value || "";
            is || (is = franchise_id);
            const ns = franchiseDatabase[`fid_${is}`],
                ds = ns?.name || "Unknown Franchise",
                cs = document.querySelector('input[name="ROUND"]'),
                ps = document.querySelector('input[name="MAX_ROUNDS"]'),
                hs = document.querySelector('input[name="ALL_DRAFT_PICKS"]'),
                _s = document.querySelector('input[name="SKIP_PICK"][type="submit"]');
            let ms = "";
            if (!Nr) {
                ms +=
                    '<div class="mobile-wrap"><table id="draftDetails" align="center" class="report"><caption><span>Draft Details</span></caption><tbody>';
                let $s = 0;
                (ms += "<tr><th>Speed Up Your Overall Draft Pace, Pre-Draft Below !</th></tr>"),
                    Qr && (ms += `<tr class="${$s++ % 2 == 0 ? "oddtablerow" : "eventablerow"}"><td>${Qr}</td></tr>`),
                    Ur && (ms += `<tr class="${$s++ % 2 == 0 ? "oddtablerow" : "eventablerow"}"><td>${Ur}</td></tr>`),
                    zr && (ms += `<tr class="${$s++ % 2 == 0 ? "oddtablerow" : "eventablerow"}"><td>${zr}</td></tr>`),
                    Yr && (ms += `<tr class="${$s++ % 2 == 0 ? "oddtablerow" : "eventablerow"}"><td>${Yr}</td></tr>`),
                    (ms += `<tr class="${$s++ % 2 == 0 ? "oddtablerow" : "eventablerow"}"><td>Pre-draft picks are selected for you as soon as it's your turn to pick !!</td></tr>`),
                    (ms += `<tr class="${$s++ % 2 == 0 ? "oddtablerow" : "eventablerow"}"><td>Not sure what to do? <button style="cursor:pointer" id="helpMe">Open Help</button></td></tr>`),
                    (ms += `<tr class="showHideRow ${$s++ % 2 == 0 ? "oddtablerow" : "eventablerow"}" style="display:none">`),
                    (ms +=
                        '<td>1) From the "Select Player To Pre-Draft" list, select the player you would like to draft.</td>'),
                    (ms += "</tr>"),
                    (ms += `<tr class="showHideRow ${$s++ % 2 == 0 ? "oddtablerow" : "eventablerow"}" style="display:none">`),
                    (ms +=
                        "<td>2) Repeat step 1 above for any pick you'd like to attempt in this round.  Keep in mind, the more picks you specify, the better your chances of getting a player.</td>"),
                    (ms += "</tr>"),
                    (ms += `<tr class="showHideRow ${$s++ % 2 == 0 ? "oddtablerow" : "eventablerow"}" style="display:none">`),
                    (ms +=
                        "<td>3) Once you're done, you may change the priority order for your picks using the up and down arrow buttons.  Or, you may remove a pick by clicking on the Remove button.</td>"),
                    (ms += "</tr>"),
                    (ms += `<tr class="showHideRow ${$s++ % 2 == 0 ? "oddtablerow" : "eventablerow"}" style="display:none">`),
                    (ms +=
                        '<td>4) Now that your picks are prioritized, click on the "Save Picks and Continue" button to get confirmation of your picks.</td>'),
                    (ms += "</tr>"),
                    (ms += `<tr class="showHideRow ${$s++ % 2 == 0 ? "oddtablerow" : "eventablerow"}" style="display:none">`),
                    (ms +=
                        "<td>5) If you'd like to make additional picks for this round or other rounds, you will be given the opportunity to make those picks at this time.</td>"),
                    (ms += "</tr>"),
                    (ms += "</tbody></table></div>");
            }
            if (Nr) {
                ms +=
                    '<div class="mobile-wrap"><table id="draftDetails" align="center" class="report"><caption><span>Draft Details</span></caption><tbody>';
                let xs = 0;
                (ms += "<tr><th>Speed Up Your Draft Pace, Pre-Draft after you pick !</th></tr>"),
                    Qr && (ms += `<tr class="${xs++ % 2 == 0 ? "oddtablerow" : "eventablerow"}"><td>${Qr}</td></tr>`),
                    Ur && (ms += `<tr class="${xs++ % 2 == 0 ? "oddtablerow" : "eventablerow"}"><td>${Ur}</td></tr>`),
                    zr && (ms += `<tr class="${xs++ % 2 == 0 ? "oddtablerow" : "eventablerow"}"><td>${zr}</td></tr>`),
                    Yr && (ms += `<tr class="${xs++ % 2 == 0 ? "oddtablerow" : "eventablerow"}"><td>${Yr}</td></tr>`),
                    Wr && (ms += `<tr class="${xs++ % 2 == 0 ? "oddtablerow" : "eventablerow"}"><td>${Wr}</td></tr>`),
                    (ms += "</tbody></table></div>"),
                    (ms += `<form id="AddDropForm" class="draftPageForm" action="${baseURLDynamic}/${year}/draft" method="post">`),
                    (ms += `<input type="hidden" name="LEAGUE_ID" value="${league_id}">`),
                    (ms += `<input type="hidden" name="FRANCHISE_ID" value="${is}">`),
                    (ms += '<input type="hidden" name="OPTION" value="52">'),
                    cs && (ms += `<input type="hidden" name="ROUND" value="${cs.value}">`),
                    ps && (ms += `<input type="hidden" name="MAX_ROUNDS" value="${ps.value}">`),
                    hs && (ms += `<input type="hidden" name="ALL_DRAFT_PICKS" value="${hs.value}">`);
            } else
                (ms += `<form id="AddDropForm" class="draftPageForm" action="${baseURLDynamic}/${year}/new_predraft" method="post" name="new_predraft">`),
                    (ms += `<input type="hidden" name="LEAGUE_ID" value="${league_id}">`),
                    (ms += `<input type="hidden" name="FRANCHISE_ID" value="${is}">`),
                    cs && (ms += `<input type="hidden" name="ROUND" value="${cs.value}">`),
                    ps && (ms += `<input type="hidden" name="MAX_ROUNDS" value="${ps.value}">`),
                    hs && (ms += `<input type="hidden" name="ALL_DRAFT_PICKS" value="${hs.value}">`);
            if (
                ((ms += '<div id="enhanced-add-drop-ui" style="text-align:left!important">'),
                (ms += '<div id="add-drop-enhanced-ui">'),
                (os || ls) &&
                    ((ms += '<div class="filter-controls mobile-wrap">'),
                    (ms +=
                        '<input id="addDropSearch" type="text" placeholder="Search player name..." style="flex: 1 1 0%; padding: .1875rem;">'),
                    ls && (ms += ls.outerHTML),
                    os && (ms += `<select id="position-filter"><option value="">All</option>${os}</select>`),
                    (ms += "</div>")),
                (ms += '<div class="add-player-container mobile-wrap">'),
                (ms += Nr
                    ? '<table align="center" class="report cus-add-tableCap"><caption><span>Select A Player To Draft - Your UP!!</span></caption><tbody><tr><th><div class="sort-bar add-list"><span>Sort by:</span><button type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'
                    : '<table align="center" class="report cus-add-tableCap"><caption><span>Select Player To Pre-Draft</span></caption><tbody><tr><th><div class="sort-bar add-list"><span>Sort by:</span><button type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                Jr
                    ? ((ms +=
                          '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button>'),
                      (ms += as
                          ? '<button type="button" class="sort-btn add-list" data-key="myrank">My Rank <i class="fa-solid"></i></button>'
                          : '<button type="button" class="sort-btn add-list" data-key="fsrank">Rank <i class="fa-solid"></i></button>'),
                      (ms +=
                          '<button type="button" class="sort-btn add-list" data-key="player_salary">Sal <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="adp">ADP <i class="fa-solid"></i></button>'))
                    : ((ms +=
                          '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button>'),
                      (ms += as
                          ? '<button type="button" class="sort-btn add-list" data-key="myrank">My Rank <i class="fa-solid"></i></button>'
                          : '<button type="button" class="sort-btn add-list" data-key="fsrank">Rank <i class="fa-solid"></i></button>'),
                      (ms +=
                          '<button type="button" class="sort-btn add-list" data-key="adp">ADP <i class="fa-solid"></i></button>')),
                (ms += "</div></th></tr></tbody></table>"),
                (ms += '<div id="add-player-list">'),
                (ms += "</div>"),
                (ms += '<div id="locked-msg" align="left" style="text-align:center">'),
                (ms += `<div class="checkboxFantasySharks"><b>*</b> Locked Player due to having been recently dropped.<br>Check <a href="locked_players?L=${league_id}" target="_blank">Locked Players</a> report for info as to when they unlock.</div>`),
                (ms += "</div>"),
                (ms += "</div>"),
                (ms += '<div class="drop-player-container mobile-wrap">'),
                (ms += Nr
                    ? '<table align="center" class="report cus-add-tableCap"><caption><span>Player To Draft</span></caption><tbody><tr><th><div class="sort-bar drop-list"><div class="dropThtext" style="position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:100%">Click "Draft Player" To Submit Pick</div><span style="visibility:hidden!important">Sort by:</span><button style="visibility:hidden!important" type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button style="visibility:hidden!important" type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'
                    : '<table align="center" class="report cus-add-tableCap"><caption><span>Players Queued For Selection</span></caption><tbody><tr><th><div class="sort-bar drop-list"><div class="dropThtext" style="position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:100%">Place in order you want drafted</div><span style="visibility:hidden!important">Sort by:</span><button style="visibility:hidden!important" type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button style="visibility:hidden!important" type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                (ms += "</div></th></tr></tbody></table>"),
                (ms += '<div id="drop-player-list"></div>'),
                Nr &&
                    ((ms +=
                        '<table align="center" class="report"><caption><span>Add Message For Your Pick</span></caption><tbody><tr><th>Optional Pick Comments:</th></tr><tr><td><textarea rows="5" cols="70" name="MSG"></textarea></td></tr></tbody></table>'),
                    (ms += '<div id="locked-msg" align="left" style="text-align:center">'),
                    (ms += `<div class="checkboxFantasySharks">Looking for draft advice?  Check out<br><a href="https://www.fantasysharks.com/apps/Remora/draftcoach.php?league=${league_id}&team=${is}&host=${rs}" target="_blank">FantasySharks Draft Coach</a> or <a href="https://www.fantasysharks.com/apps/Remora/draftguideHTML.php?L=${league_id}&T=${is}&H=${rs}" target="_blank">FantasySharks Draft Guide</a>.</div>`),
                    (ms += "</div>")),
                (ms += "</div>"),
                (ms += "</div>"),
                (ms += "</div>"),
                (ms += "</div>"),
                (ms += '<div class="mobile-wrap" id="curRosterTable" style="display:none"></div>'),
                (ms += '<div id="dropInputDiv" style="text-align:center; margin-top: 1rem;; margin-bottom: 1rem;">'),
                Nr)
            ) {
                if (
                    ((ms +=
                        '<input id="add_drop_submit" disabled type="submit" value="Draft Player" onclick="return confirm(\'Are you sure you want to draft this player?\');" style="display:inline-block;margin:0!important;margin-right:.162rem!important">'),
                    _s)
                ) {
                    ms += `<input name="SKIP_PICK" type="submit" value="Skip Pick" onclick="${_s.getAttribute("onclick") || ""}" style="display:inline-block;margin:0!important;margin-left:.162rem!important">`;
                }
                ts = !1;
            } else
                Array.isArray(curRoster) && 0 === curRoster.length
                    ? ((ms +=
                          '<input id="add_drop_submit" disabled type="submit" name="save" value="Save Picks And Continue" style="display:inline-block;margin:0!important;margin-right:.162rem!important">'),
                      (ms +=
                          '<input id="clearDropList" type="button" value="Clear Draft Que" style="display:inline-block;margin:0!important;margin-left:.162rem!important" disabled>'),
                      (ts = !1))
                    : ((ms +=
                          '<input id="add_drop_submit" disabled type="submit" name="save" value="Save Picks And Continue" style="display:inline-block;margin:0!important;margin-right:.162rem!important">'),
                      (ms +=
                          '<input id="clearDropList" type="button" value="Clear Draft Que" style="display:inline-block;margin:0!important;margin-left:.162rem!important">'),
                      (ts = !0));
            (ms += "</div>"),
                (ms += "</form>"),
                Or && (Or.outerHTML = ms),
                "undefined" != typeof prev_round_picks && "" !== prev_round_picks.trim() && addCopyRoundButton();
            const ys = document.getElementById("curRosterTable"),
                us = `${baseURLDynamic}/${year}/options?L=${league_id}&O=07&PRINTER=1`;
            fetch(us)
                .then((e) => e.text())
                .then((e) => {
                    const t = new DOMParser().parseFromString(e, "text/html").querySelector(`a.franchise_${is}`);
                    if (!t) return void console.warn("Franchise link not found for ID:", is);
                    const a = t.closest("table.report");
                    if (!a) return void console.warn("No table.report found near that franchise link");
                    const r = a.cloneNode(!0),
                        s = r.querySelector("caption");
                    if (s) {
                        const e = document.createElement("caption");
                        (e.innerHTML = `<span>${ds} Roster</span>`), s.replaceWith(e);
                    }
                    if (
                        (r.querySelectorAll('a[href*="PRINTER=1"]').forEach((e) => {
                            const t = new URL(e.href, location.origin);
                            t.searchParams.delete("PRINTER"), (e.href = t.pathname + t.search);
                        }),
                        ys)
                    ) {
                        const e = document.createElement("style");
                        (e.textContent =
                            "#curRosterTable table a{text-decoration:none;cursor:default;pointer-events:none}#curRosterTable table.cus_player_images a{text-decoration:none;cursor:pointer;pointer-events:all}#curRosterTable table img{display:none}#curRosterTable table td:nth-child(n+2),#curRosterTable table th:nth-child(n+2){display:none}#curRosterTable table.cus_player_images img{display:inline-table}#curRosterTable table.cus_player_images td.player td{display:table-cell}#curRosterTable table td,#curRosterTable table th{text-align:left!important}#curRosterTable table td.week,#curRosterTable table th.week{text-align:center!important}#curRosterTable{max-width:31.25rem}#curRosterTable table td.drafted,#curRosterTable table th.drafted,#curRosterTable table td.week,#curRosterTable table th.week{display:table-cell}"),
                            document.body.appendChild(e),
                            ys.insertAdjacentHTML("beforeend", r.outerHTML),
                            (ys.style.display = "block");
                    }
                })
                .catch((e) => {
                    console.error("Failed to fetch or parse roster report:", e);
                });
            const fs = document.getElementById("addDropSearch"),
                bs = document.getElementById("position-filter");
            new Set(["name", "pos", "nfl_team"]);
            function renderPlayerList(e, t, a) {
                const r = document.getElementById(t);
                if (!r) return void console.warn(` Container ${t} not found.`);
                r.textContent = "";
                let s = e;
                if ("add" === a) {
                    if (os || ls) {
                        const t = document.getElementById("addDropSearch"),
                            a = t?.value?.trim().toLowerCase() || "",
                            r = document.getElementById("position-filter")?.value || "",
                            o = document.querySelector("#add_filt_nfl")?.value?.toUpperCase?.() || "";
                        s = e.filter((e) => {
                            let [t, s] = e.name.split(", ");
                            return (
                                `${s || ""} ${t || ""}`.trim().toLowerCase().includes(a) &&
                                (!r || e.pos?.toUpperCase() === r) &&
                                ("ALL" === o || !o || e.nfl_team?.toUpperCase() === o)
                            );
                        });
                    }
                    Zr &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, Zr),
                                r = sortPlayerObjectData(t, Zr);
                            if ("fsrank" === Zr || "pwpts" === Zr || "projpts" === Zr || "myrank" === Zr) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * es;
                        });
                }
                const o = document.createDocumentFragment();
                s.forEach((e, t) => {
                    const [r, s] = e.name.split(", ");
                    let l = s?.trim() || "",
                        i = r?.trim() || "";
                    const n = l.includes("#") || i.includes("#"),
                        d = l.includes("*") || i.includes("*"),
                        c = l.includes("^") || i.includes("^"),
                        p = l.includes("(R)") || i.includes("(R)");
                    (l = l.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim()),
                        (i = i.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim());
                    const h = `${l} ${i}${p ? " (R)" : ""}`.trim();
                    let _ = "";
                    n && (_ += ' <span class="player-status">#</span>'),
                        d && (_ += ' <span class="player-status">*</span>'),
                        c && (_ += ' <span class="player-status">[L]</span>');
                    const m = [
                            "DEF",
                            "COACH",
                            "OFF",
                            "TMQB",
                            "TMRB",
                            "TMWR",
                            "TMTE",
                            "TMPK",
                            "TMPN",
                            "TMDL",
                            "TMLB",
                            "TMDB",
                        ].includes(e.pos?.toUpperCase())
                            ? `https://www.mflscripts.com/playerImages_96x96/mfl_${e.nfl_team}.svg`
                            : `https://www.mflscripts.com/playerImages_80x107/mfl_${e.id}.png`,
                        y = "https://mflscripts.com/playerImages_80x107/free_agent.png";
                    let u = "";
                    "drop" === a
                        ? e.sal
                            ? ((u += `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}${isNaN(parseFloat(e.sort_sal)) ? "  Sal: $0" : `  Sal: $${parseFloat(e.sort_sal)}`}</small>`),
                              (u += Nr
                                  ? `<input type="hidden" name="PLAYER_PICK" value="${e.id}">`
                                  : `<input type="hidden" name="PICKS" value="${e.id}"><div class="moveBtns"><button type="button" class="move-up-btn" title="Move Player Up 1 Spot"></button><button type="button" class="move-up-btn-twenty" title="Move Player Up 20 Spots"> 20</button><button type="button" class="move-down-btn" title="Move Player Down 1 Spot"></button><button type="button" class="move-down-btn-twenty" title="Move Player Down 20 Spots"> 20</button><button type="button" class="move-Up-down-btn-twenty" title="Move Player 20 Spots"> 20 </button></div>`))
                            : ((u += `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}</small>`),
                              (u += Nr
                                  ? `<input type="hidden" name="PLAYER_PICK" value="${e.id}">`
                                  : `<input type="hidden" name="PICKS" value="${e.id}"><div class="moveBtns"><button type="button" class="move-up-btn" title="Move Player Up 1 Spot"></button><button type="button" class="move-up-btn-twenty" title="Move Player Up 20 Spots"> 20</button><button type="button" class="move-down-btn" title="Move Player Down 1 Spot"></button><button type="button" class="move-down-btn-twenty" title="Move Player Down 20 Spots"> 20</button><button type="button" class="move-Up-down-btn-twenty" title="Move Player 20 Spots"> 20 </button></div>`))
                        : e.sal
                          ? (u += `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}${isNaN(parseFloat(e.sort_sal)) ? "  Sal: $0" : `  Sal: $${parseFloat(e.sort_sal)}`}</small>`)
                          : (u += `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}</small>`);
                    let f = "";
                    f = as
                        ? `${isNaN(parseFloat(e.myrank)) ? "9999" : e.myrank}`
                        : `${isNaN(parseFloat(e.fsrank)) ? "9999" : e.fsrank}`;
                    const b = document.createElement("div");
                    (b.className =
                        c || d
                            ? "add-drop-player-row disabled-locked " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")
                            : "add-drop-player-row " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                        (b.dataset.playerId = e.id),
                        "add" === a &&
                            curRoster.some((t) => t.id === e.id) &&
                            (b.classList.add("disabled-dropbox"), (b.style.display = "none")),
                        "add" === a && Nr && 1 === curRoster.length && b.classList.add("disabled-draftPick"),
                        (b.innerHTML =
                            c || d
                                ? `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="${as ? "player-myrank" : "player-wproj"}" style="text-align:right; font-weight:900;">${f}</div>\n  <button type="button" class="select-btn">Locked</button>`
                                : `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="${as ? "player-myrank" : "player-wproj"}" style="text-align:right; font-weight:900;">${f}</div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Remove"}</button>`),
                        o.appendChild(b);
                }),
                    r.appendChild(o),
                    "drop" === a &&
                        (Array.isArray(curRoster) && curRoster.length < 7
                            ? r.classList.add("showFilters")
                            : r.classList.remove("showFilters"));
            }
            const gs = document.getElementById("add-drop-enhanced-ui");
            gs
                ? gs.addEventListener("click", function (e) {
                      const t = e.target.closest(".add-drop-player-row");
                      if (!t || !gs.contains(t)) return;
                      const a = !!t.closest("#add-player-list") ? "add" : "drop";
                      ("drop" !== a || Nr || e.target.classList.contains("select-btn")) && handlePlayerRowClick(t, a);
                  })
                : console.warn(" Could not find #add-drop-enhanced-ui for delegation."),
                (Zr = as ? "myrank" : "fsrank"),
                (es = 1),
                renderPlayerList(Vr, "add-player-list", "add"),
                renderPlayerList(curRoster, "drop-player-list", "drop");
            const vs = document.querySelector(".sort-bar.add-list");
            let ws = "";
            if (
                ((ws = as
                    ? vs.querySelector('button[data-key="myrank"]')
                    : vs.querySelector('button[data-key="fsrank"]')),
                ws)
            ) {
                ws.querySelector("i").classList.add("fa-caret-up"), ws.classList.add("activated");
            }
            fs &&
                fs.addEventListener("input", () => {
                    renderPlayerList(Vr, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                bs &&
                    bs.addEventListener("change", () => {
                        renderPlayerList(Vr, "add-player-list", "add");
                        const e = document.querySelector("#add-player-list");
                        e && e.scrollTo({ top: 0 });
                    });
            const ks = document.getElementById("add_filt_nfl");
            function clearAllFromList(e, t) {
                const a = document.getElementById(e);
                if (!a) return;
                a.querySelectorAll(".add-drop-player-row").forEach((e) => {
                    handlePlayerRowClick(e, t);
                });
            }
            function handlePlayerRowClick(e, t) {
                const a = e.dataset.playerId;
                if (!a) return;
                const r = Vr.find((e) => e.id === a);
                r || console.warn("Player not found in addPlayers:", a);
                const s = curRoster.some((e) => e.id === a);
                if ("drop" === t && s) {
                    (curRoster = curRoster.filter((e) => e.id !== a)),
                        renderPlayerList(curRoster, "drop-player-list", "drop");
                    const e = document.querySelector(`#add-player-list .add-drop-player-row[data-player-id="${a}"]`);
                    e && (e.classList.remove("disabled-dropbox"), (e.style.display = ""));
                }
                "add" === t &&
                    (s
                        ? console.warn("This player is already in array:", a)
                        : (curRoster.push(r),
                          e.classList.add("disabled-dropbox"),
                          (e.style.display = "none"),
                          renderPlayerList(curRoster, "drop-player-list", "drop")));
                const o = document.getElementById("add_drop_submit");
                o && (0 !== curRoster.length || ts ? (o.disabled = !1) : (o.disabled = !0));
                const l = document.getElementById("clearDropList");
                l && (0 === curRoster.length ? (l.disabled = !0) : (l.disabled = !1)),
                    Nr && 1 === curRoster.length
                        ? document.querySelectorAll("#add-player-list .add-drop-player-row").forEach((e) => {
                              e.classList.add("disabled-draftPick");
                          })
                        : document.querySelectorAll("#add-player-list .add-drop-player-row").forEach((e) => {
                              e.classList.remove("disabled-draftPick");
                          });
            }
            function clickPrevRoundPicks() {
                prev_round_picks.split(",").forEach(function (e) {
                    var t = document.querySelector(
                        '#add-player-list .add-drop-player-row[data-player-id="' + e.trim() + '"]'
                    );
                    t && t.click();
                });
            }
            function addCopyRoundButton() {
                const e = document.querySelectorAll("table.report caption span");
                for (let t of e)
                    if (t.textContent.includes("Saved Round")) {
                        const e = t.closest("table.report").querySelector("tbody");
                        if (e && !e.querySelector("#copyRound")) {
                            const t = document.createElement("tr"),
                                a = document.createElement("td");
                            (a.innerHTML =
                                '\n            <input id="copyRound" \n                   type="submit" \n                   onclick="clickPrevRoundPicks();" \n                   value="Add All From Previous Round" \n                   style="display:inline-block;margin:0!important;margin-right:.162rem!important">\n          '),
                                t.appendChild(a),
                                e.appendChild(t);
                        }
                        return;
                    }
            }
            ks &&
                ks.addEventListener("change", () => {
                    renderPlayerList(Vr, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                sortScrollFadeShadow("add-player-list", ".sort-bar.add-list"),
                sortScrollFadeShadow("drop-player-list", ".sort-bar.drop-list"),
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        setTimeout(() => {
                            document.body.appendChild(Fr);
                        }, timeFrame);
                    });
                }),
                vs.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        Zr === t
                            ? (es *= -1)
                            : ((Zr = t), (es = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            vs.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === es ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(Vr, "add-player-list", "add");
                        const a = document.querySelector("#add-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                document.getElementById("clearDropList")?.addEventListener("click", () => {
                    clearAllFromList("drop-player-list", "drop");
                }),
                document.getElementById("drop-player-list").addEventListener("click", function (e) {
                    const t = e.target,
                        a = t.closest(".add-drop-player-row");
                    if (!a) return;
                    const r = a.parentNode,
                        s = Array.from(r.querySelectorAll(".add-drop-player-row")),
                        o = s.indexOf(a),
                        l = document.getElementById("add_drop_submit");
                    if (t.classList.contains("move-up-btn")) {
                        const e = a.previousElementSibling;
                        e &&
                            e.classList.contains("add-drop-player-row") &&
                            (r.insertBefore(a, e), sortSyncCurRosterOrder()),
                            l && (l.disabled = !1);
                    }
                    if (t.classList.contains("move-down-btn")) {
                        const e = a.nextElementSibling;
                        e &&
                            e.classList.contains("add-drop-player-row") &&
                            (r.insertBefore(e, a), sortSyncCurRosterOrder()),
                            l && (l.disabled = !1);
                    }
                    if (t.classList.contains("move-up-btn-twenty")) {
                        let e = o - 20;
                        e < 0 && (e = 0);
                        const t = s[e];
                        r.insertBefore(a, t), sortSyncCurRosterOrder(), l && (l.disabled = !1);
                    }
                    if (t.classList.contains("move-down-btn-twenty")) {
                        let e = o + 20;
                        if (e >= s.length) r.appendChild(a);
                        else {
                            const t = s[e];
                            r.insertBefore(a, t.nextSibling);
                        }
                        sortSyncCurRosterOrder(), l && (l.disabled = !1);
                    }
                    if (t.classList.contains("move-Up-down-btn-twenty")) {
                        const e = document.querySelector(".move-20-prompt");
                        e && e.remove();
                        const t = document.createElement("div");
                        (t.className = "move-20-prompt oddtablerow"),
                            (t.style.cssText =
                                "padding:.25rem;display:flex;align-items:center;gap:.25rem;margin:.25rem 0"),
                            (t.innerHTML =
                                '<strong style="white-space:nowrap;font-size:1rem;font-weight:40">Move Player:</strong><select id="move-20-select" style="width:100%!important;padding:0!important;height:2rem;"><option value="">Direction</option><option value="up"> Up 20</option><option value="down"> Down 20</option></select><button style="padding:.1875rem;height:2rem;" type="button" id="confirm-move-20">Confirm</button><button type="button" id="cancel-move-20" style="padding:.1875rem;height:2rem;">Cancel</button>'),
                            a.insertAdjacentElement("afterend", t),
                            t.querySelector("#confirm-move-20").addEventListener("click", () => {
                                const e = t.querySelector("#move-20-select").value;
                                if ((t.remove(), "up" === e)) {
                                    let e = o - 20;
                                    e < 0 && (e = 0);
                                    const t = s[e];
                                    r.insertBefore(a, t), sortSyncCurRosterOrder();
                                } else if ("down" === e) {
                                    let e = o + 20;
                                    if (e >= s.length) r.appendChild(a);
                                    else {
                                        const t = s[e];
                                        r.insertBefore(a, t.nextSibling);
                                    }
                                    sortSyncCurRosterOrder();
                                }
                            }),
                            t.querySelector("#cancel-move-20").addEventListener("click", () => {
                                t.remove();
                            }),
                            l && (l.disabled = !1);
                    }
                }),
                document.getElementById("helpMe")?.addEventListener("click", function () {
                    const e = document.querySelectorAll(".showHideRow, .showHideRowShow"),
                        t = "Close Help" === this.textContent;
                    e.forEach((e) => {
                        t
                            ? (e.classList.remove("showHideRowShow"), e.classList.add("showHideRow"))
                            : (e.classList.remove("showHideRow"), e.classList.add("showHideRowShow"));
                    }),
                        (this.textContent = t ? "Open Help" : "Close Help");
                });
        } else document.body.appendChild(Fr);
    }
}
if ("contest_lineup" === thisProgram) {
    const Ss = document.createElement("style");
    if (
        ((Ss.textContent = "#contest_lineup table,#contest_lineup .mobile-wrap,#dropInputDiv{visibility:visible;}"),
        "undefined" == typeof franchise_id)
    )
        document.body.appendChild(Ss);
    else if ("undefined" == typeof playerDatabaseObj)
        document.querySelectorAll("#contest_lineup table.report").forEach((e) => {
            if (e.parentElement?.classList.contains("mobile-wrap")) return;
            const t = document.createElement("div");
            (t.className = "mobile-wrap"), e.parentNode.insertBefore(t, e), t.appendChild(e);
        }),
            document.body.appendChild(Ss);
    else {
        document.body.classList.add("DropSelect");
        const Ls = document.querySelector('form[action*="contest_lineup"]');
        let Ts = null,
            Ps = null,
            As = null,
            Cs = !1;
        if (Ls) {
            const Es = Array.from(Ls.querySelectorAll("table"))
                .reverse()
                .find((e) => e.textContent.includes("League requirements:"));
            if (Es) {
                Es.classList.add("report");
                const Hs = document.createElement("caption"),
                    Rs = document.createElement("span");
                (Rs.textContent = "League Requirements"), Hs.appendChild(Rs), Es.insertBefore(Hs, Es.firstChild);
                const js = Array.from(Es.querySelectorAll("tr")).find((e) =>
                    e.textContent.includes("League requirements:")
                );
                js && js.remove();
                const Ds = Es.querySelector("tr");
                if (Ds) {
                    Array.from(Ds.querySelectorAll("td")).forEach((e) => {
                        const t = document.createElement("th");
                        t.innerHTML = e.innerHTML;
                        for (const a of e.attributes) t.setAttribute(a.name, a.value);
                        e.replaceWith(t);
                    });
                }
                Es.querySelectorAll("tr").forEach((e, t) => {
                    if (0 === t) return;
                    e.classList.remove("oddtablerow", "eventablerow");
                    const a = t % 2 == 0 ? "eventablerow" : "oddtablerow";
                    e.classList.add(a);
                }),
                    (As = Es.outerHTML);
                Es.querySelectorAll("tr").forEach((e) => {
                    const t = e.querySelectorAll("td");
                    if (t.length >= 2) {
                        const e = t[0].textContent.trim(),
                            a = t[1].textContent.trim();
                        if ("Total" === e)
                            if (a.includes("-")) {
                                const e = a.split("-");
                                Ts = parseInt(e[1], 10);
                            } else Ts = parseInt(a, 10);
                        else "Salary" === e && ((Ps = parseFloat(a.replace(/[^0-9.]/g, ""))), (Cs = !0));
                    }
                });
            }
        }
        if (void 0 === timeFrame) timeFrame = 300;
        if (document.querySelector("#contest_lineup")) {
            const Is = window.playerDatabaseObj?.picker || [],
                Fs = document.getElementById("destination_list"),
                Ms = Fs?.querySelectorAll("option");
            Ms &&
                ((playerDatabaseObj.roster = []),
                Ms.forEach((e) => {
                    const t = e.value,
                        a = Is.find((e) => e.id === t);
                    if (a) playerDatabaseObj.roster.push({ ...a });
                    else {
                        const a = e.textContent.trim().split(" ");
                        if (a.length >= 3) {
                            const e = a.pop(),
                                r = a.pop(),
                                s = a.join(" ");
                            playerDatabaseObj.roster.push({ id: t, name: s, nfl_team: r, pos: e });
                        }
                    }
                })),
                (curRoster = window.playerDatabaseObj?.roster || []);
            const Ns = Object.values(Is).some((e) => void 0 !== e.sal),
                Os = Object.values(Is).some((e) => void 0 !== e.sal);
            let Bs = document.querySelector('input[name="FRANCHISE"]')?.value || "";
            Bs || (Bs = franchise_id);
            const qs = franchiseDatabase[`fid_${Bs}`],
                Qs = qs?.name || "Unknown Franchise",
                Us = document.querySelector('input[name="WEEK"]')?.value || "";
            let zs = null,
                Ys = null,
                Ws = 1,
                Gs = 1;
            const Vs = document.getElementById("picker_filt_pos");
            let Ks = null;
            Vs &&
                (Ks = Array.from(Vs.options)
                    .filter((e) => "ALL" !== e.value.toUpperCase())
                    .map((e) => {
                        const t = e.value.toUpperCase();
                        return `<option value="${t}">${t}</option>`;
                    })
                    .join(""));
            const Xs = document.getElementById("picker_filt_nfl");
            Xs && ((Xs.id = "add_filt_nfl"), Xs.removeAttribute("onchange"));
            let Js = "";
            (Js += '<form id="AddDropForm" action="add_drop" method="POST">'),
                (Js += '<div id="enhanced-add-drop-ui">'),
                (Js += '<div id="add-drop-enhanced-ui">'),
                (Ks || Xs) &&
                    ((Js += '<div class="filter-controls mobile-wrap">'),
                    (Js +=
                        '<input id="addDropSearch" type="text" placeholder="Search player name..." style="flex: 1 1 0%; padding: .1875rem;">'),
                    Xs && (Js += Xs.outerHTML),
                    Ks && (Js += `<select id="position-filter"><option value="">All</option>${Ks}</select>`),
                    (Js += "</div>")),
                (Js += '<div class="add-player-container mobile-wrap">'),
                (Js +=
                    '<table align="center" class="report cus-add-tableCap"><caption><span>Add Players To Lineup</span></caption><tbody><tr><th><div class="sort-bar add-list"><span>Sort by:</span><button type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="pwpts">Proj <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                (Js += Ns
                    ? '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="player_salary">Sal <i class="fa-solid"></i></button>'
                    : '<button type="button" class="sort-btn add-list" data-key="pos">Position <i class="fa-solid"></i></button>'),
                (Js += "</div></th></tr></tbody></table>"),
                (Js += '<div id="add-player-list">'),
                (Js += "</div>"),
                (Js += '<div id="locked-msg" align="left" style="text-align:center">'),
                (Js +=
                    '<div><b style="display:inline-block;text-align:center;width:2.5rem;">Hint: </b> Can\'t find a player on this list?<br>That may be because that player was already started.</div>'),
                (Js += "</div>"),
                (Js += "</div>"),
                (Js += '<div class="drop-player-container mobile-wrap">'),
                (Js += `<table align="center" class="report cus-drop-tableCap"><caption><span>${Qs} Lineup</span></caption><tbody><tr><th><div class="sort-bar drop-list"><span>Sort by:</span><button type="button" class="sort-btn drop-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="pwpts">Proj <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>`),
                (Js += Os
                    ? '<button type="button" class="sort-btn drop-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="player_salary">Sal <i class="fa-solid"></i></button>'
                    : '<button type="button" class="sort-btn drop-list" data-key="pos">Position <i class="fa-solid"></i></button>'),
                (Js += "</div></th></tr></tbody></table>"),
                (Js += '<div id="drop-player-list"></div>'),
                (Js += "</div>"),
                (Js += "</div>"),
                (Js += "</div>"),
                (Js += "</div>"),
                As && (Js += `<div id="tableCounter" class="mobile-wrap">${As}</div>`),
                (Js += '<div id="loadText" class="mobile-wrap">'),
                (Js += '<table align="center" class="report selected-moves">'),
                (Js += "<caption><span>Optional Message</span></caption>"),
                (Js += "<tbody>"),
                (Js += '<tr><th colspan="100">Send message to your league about your lineup.</th></tr>'),
                (Js += "<tr>"),
                (Js += '<td><textarea name="MESSAGE" id="MESSAGE" rows="5" cols="70"></textarea></td>'),
                (Js += "</tr></tbody></table></div>"),
                (Js += "<br>"),
                (Js += '<div id="dropInputDiv" style="text-align:center; margin-top: 1rem;">'),
                0 === curRoster.length
                    ? (Js +=
                          '<input id="add_drop_submit" type="submit" name="SUBMIT" value="Submit Lineup" style="display:inline-block;margin:0!important;margin-right:.325rem!important" disabled>')
                    : (Js +=
                          '<input id="add_drop_submit" type="submit" name="SUBMIT" value="Submit Lineup" style="display:inline-block;margin:0!important;margin-right:.325rem!important">'),
                Array.isArray(curRoster) && 0 === curRoster.length
                    ? (Js +=
                          '<input id="clearDropList" type="button" value="Clear Lineup" style="display:inline-block;margin:0!important;margin-left:.162rem!important" disabled>')
                    : (Js +=
                          '<input id="clearDropList" type="button" value="Clear Lineup" style="display:inline-block;margin:0!important;margin-left:.162rem!important">'),
                (Js += "</div>"),
                (Js += "<br>"),
                (Js += "</form>"),
                Ls && Ls.parentElement?.classList.contains("mobile-wrap") && (Ls.parentElement.outerHTML = Js);
            const Zs = document.getElementById("addDropSearch"),
                eo = document.getElementById("position-filter");
            function renderPlayerList(e, t, a) {
                const r = document.getElementById(t);
                if (!r) return void console.warn(` Container ${t} not found.`);
                r.textContent = "";
                let s = e;
                if ("add" === a) {
                    if (Ks || Xs) {
                        const t = document.getElementById("addDropSearch"),
                            a = t?.value?.trim().toLowerCase() || "",
                            r = document.getElementById("position-filter")?.value || "",
                            o = document.querySelector("#add_filt_nfl")?.value?.toUpperCase?.() || "";
                        s = e.filter((e) => {
                            let [t, s] = e.name.split(", ");
                            return (
                                `${s || ""} ${t || ""}`.trim().toLowerCase().includes(a) &&
                                (!r || e.pos?.toUpperCase() === r) &&
                                ("ALL" === o || !o || e.nfl_team?.toUpperCase() === o)
                            );
                        });
                    }
                    zs &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, zs),
                                r = sortPlayerObjectData(t, zs);
                            if ("fsrank" === zs || "pwpts" === zs || "projpts" === zs) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * Ws;
                        });
                }
                "drop" === a &&
                    (s.sort((e, t) => {
                        const a = e.pos?.toUpperCase?.() || "",
                            r = t.pos?.toUpperCase?.() || "",
                            s = sortPlayerPosOrder[a] || 99,
                            o = sortPlayerPosOrder[r] || 99;
                        if (s !== o) return s - o;
                        const [l, i] = e.name.split(", "),
                            [n, d] = t.name.split(", "),
                            c = `${i || ""} ${l || ""}`.toLowerCase(),
                            p = `${d || ""} ${n || ""}`.toLowerCase();
                        return c.localeCompare(p);
                    }),
                    Ys &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, Ys),
                                r = sortPlayerObjectData(t, Ys);
                            if ("fsrank" === Ys || "pwpts" === Ys || "projpts" === Ys) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * Gs;
                        }));
                const o = document.createDocumentFragment();
                s.forEach((e, t) => {
                    const [r, s] = e.name.split(", ");
                    let l = s?.trim() || "",
                        i = r?.trim() || "";
                    const n = l.includes("#") || i.includes("#"),
                        d = l.includes("*") || i.includes("*"),
                        c = l.includes("^") || i.includes("^"),
                        p = l.includes("(R)") || i.includes("(R)");
                    (l = l.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim()),
                        (i = i.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim());
                    const h = `${l} ${i}${p ? " (R)" : ""}`.trim();
                    let _ = "";
                    n && (_ += ' <span class="player-status">#</span>'),
                        d && (_ += ' <span class="player-status">*</span>'),
                        c && (_ += ' <span class="player-status">[L]</span>');
                    const m = [
                            "DEF",
                            "COACH",
                            "OFF",
                            "TMQB",
                            "TMRB",
                            "TMWR",
                            "TMTE",
                            "TMPK",
                            "TMPN",
                            "TMDL",
                            "TMLB",
                            "TMDB",
                        ].includes(e.pos?.toUpperCase())
                            ? `https://www.mflscripts.com/playerImages_96x96/mfl_${e.nfl_team}.svg`
                            : `https://www.mflscripts.com/playerImages_80x107/mfl_${e.id}.png`,
                        y = "https://mflscripts.com/playerImages_80x107/free_agent.png";
                    let u = "";
                    u = e.sal
                        ? `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}${isNaN(parseFloat(e.sort_sal)) ? "  Sal: $0" : `  Sal: $${parseFloat(e.sort_sal)}`}</small>`
                        : `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}</small>`;
                    const f = document.createElement("div");
                    (f.className = c
                        ? "add-drop-player-row disabled-locked " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")
                        : "add-drop-player-row " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                        (f.dataset.playerId = e.id),
                        "add" === a &&
                            curRoster.some((t) => t.id === e.id) &&
                            (f.classList.add("disabled-dropbox"), (f.style.display = "none")),
                        (f.innerHTML = c
                            ? `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="player-wproj" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.pwpts)) ? "0" : parseFloat(e.pwpts)}</div>\n  <button type="button" class="select-btn">Locked</button>`
                            : `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="player-wproj" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.pwpts)) ? "0" : parseFloat(e.pwpts)}</div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Drop"}</button>`),
                        o.appendChild(f);
                }),
                    r.appendChild(o);
            }
            const to = document.getElementById("add-drop-enhanced-ui");
            to
                ? to.addEventListener("click", function (e) {
                      const t = e.target.closest(".add-drop-player-row");
                      if (!t || !to.contains(t)) return;
                      const a = !!t.closest("#add-player-list");
                      handlePlayerRowClick(t, a ? "add" : "drop");
                  })
                : console.warn(" Could not find #add-drop-enhanced-ui for delegation."),
                (zs = "pwpts"),
                (Ws = -1),
                (Ys = "pos"),
                (Gs = 1),
                renderPlayerList(Is, "add-player-list", "add"),
                renderPlayerList(curRoster, "drop-player-list", "drop");
            const ao = document.querySelector(".sort-bar.add-list"),
                ro = document.querySelector(".sort-bar.drop-list"),
                so = ao.querySelector('button[data-key="pwpts"]');
            if (so) {
                so.querySelector("i").classList.add("fa-caret-down"), so.classList.add("activated");
            }
            const oo = ro.querySelector('button[data-key="pos"]');
            if (oo) {
                oo.querySelector("i").classList.add("fa-caret-down"), oo.classList.add("activated");
            }
            Zs &&
                Zs.addEventListener("input", () => {
                    renderPlayerList(Is, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                eo &&
                    eo.addEventListener("change", () => {
                        renderPlayerList(Is, "add-player-list", "add");
                        const e = document.querySelector("#add-player-list");
                        e && e.scrollTo({ top: 0 });
                    });
            const lo = document.getElementById("add_filt_nfl");
            function clearAllFromList(e, t) {
                const a = document.getElementById(e);
                if (!a) return;
                a.querySelectorAll(".add-drop-player-row").forEach((e) => {
                    e.classList.contains("disabled-locked") || handlePlayerRowClick(e, t);
                });
            }
            function handlePlayerRowClick(e, t) {
                const a = e.dataset.playerId;
                if (!a) return;
                const r = Is.find((e) => e.id === a);
                r || console.warn("Player not found in addPlayers:", a);
                const s = curRoster.some((e) => e.id === a);
                if ("drop" === t && s) {
                    (curRoster = curRoster.filter((e) => e.id !== a)),
                        renderPlayerList(curRoster, "drop-player-list", "drop");
                    const e = document.querySelector(`#add-player-list .add-drop-player-row[data-player-id="${a}"]`);
                    e && (e.classList.remove("disabled-dropbox"), (e.style.display = ""));
                }
                "add" === t &&
                    (s
                        ? console.warn("This player is already in array:", a)
                        : (curRoster.push(r),
                          e.classList.add("disabled-dropbox"),
                          (e.style.display = "none"),
                          renderPlayerList(curRoster, "drop-player-list", "drop")));
                const o = document.getElementById("add_drop_submit");
                o && (0 === curRoster.length ? (o.disabled = !0) : (o.disabled = !1));
                const l = document.getElementById("clearDropList");
                l && (0 === curRoster.length ? (l.disabled = !0) : (l.disabled = !1)), As && updateRequirementTable();
            }
            function updateRequirementTable() {
                let e = [],
                    t = 0;
                Cs && (t = update_mySalary("picker", "avail_salary", "drop-player-list", Ps, "d", "curr_salary", e));
                const a = {};
                for (const e in total_pos) a[e] = 0;
                document.querySelectorAll("#drop-player-list .add-drop-player-row").forEach((e) => {
                    e.getAttribute("data-player-id");
                    const t = e.querySelector(".player-pos");
                    if (!t) return;
                    let r = t.textContent.trim();
                    void 0 !== map_pos[r] && (r = map_pos[r]), (a[r] = (a[r] || 0) + 1);
                });
                let r = 0;
                for (const t in a) {
                    const s = document.getElementById("curr_" + t);
                    s && (s.innerHTML = a[t]);
                    const o = document.getElementById("avail_" + t);
                    if (o) {
                        const e = (total_pos[t] || 0) - a[t];
                        o.innerHTML = e;
                    }
                    a[t] > (total_pos[t] || 0) && e.push(`Too many players for ${t}. Max allowed is ${total_pos[t]}.`),
                        (r += a[t]);
                }
                const s = document.getElementById("curr_total");
                s && (s.innerHTML = r);
                const o = document.getElementById("avail_total");
                o && (o.innerHTML = Ts - r), r > Ts && e.push(`Too many total players. Max allowed is ${Ts}.`);
                const l = document.querySelector("#tableCounter table tbody");
                if (l) {
                    l.querySelectorAll("tr.validation-warning").forEach((e) => e.remove()),
                        e.forEach((e) => {
                            const t = document.createElement("tr");
                            t.className = "validation-warning";
                            const a = document.createElement("td");
                            a.setAttribute("colspan", "10"),
                                (a.style.color = "red"),
                                (a.textContent = e),
                                t.appendChild(a),
                                l.appendChild(t);
                        });
                    Array.from(l.querySelectorAll("tr:not(.hidden)")).forEach((e, t) => {
                        e.classList.remove("oddtablerow", "eventablerow");
                        const a = t % 2 == 0 ? "oddtablerow" : "eventablerow";
                        e.classList.add(a);
                    });
                }
            }
            function update_mySalary(e, t, a, r, s, o, l = []) {
                const i = playerDatabaseObj[e];
                let n = 0;
                document.querySelectorAll("#drop-player-list .add-drop-player-row").forEach((e) => {
                    const t = e.getAttribute("data-player-id"),
                        a = i.find((e) => e.id === t);
                    if (a) {
                        const e = Number(a.sort_sal);
                        n += e;
                    }
                });
                let d = r - n;
                n > r && l.push(`Salary cap exceeded. Cap is $${r}, but total is $${n}.`);
                const c = document.getElementById(t),
                    p = o ? document.getElementById(o) : null;
                return (
                    "m" === s
                        ? ((c.innerHTML = "$" + (d / 1e6).toFixed(0)), p && (p.innerHTML = "$" + (n / 1e6).toFixed(0)))
                        : "f" === s
                          ? ((c.innerHTML = "$" + d.toFixed(2)), p && (p.innerHTML = "$" + n.toFixed(2)))
                          : ((c.innerHTML = "$" + d.toFixed(0)), p && (p.innerHTML = "$" + n.toFixed(0))),
                    n
                );
            }
            lo &&
                lo.addEventListener("change", () => {
                    renderPlayerList(Is, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                sortScrollFadeShadow("add-player-list", ".sort-bar.add-list"),
                sortScrollFadeShadow("drop-player-list", ".sort-bar.drop-list"),
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        setTimeout(() => {
                            document.body.appendChild(Ss);
                        }, timeFrame);
                    });
                }),
                ao.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        zs === t
                            ? (Ws *= -1)
                            : ((zs = t), (Ws = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            ao.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === Ws ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(Is, "add-player-list", "add");
                        const a = document.querySelector("#add-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                ro.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        Ys === t
                            ? (Gs *= -1)
                            : ((Ys = t), (Gs = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            ro.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === Gs ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(curRoster, "drop-player-list", "drop");
                        const a = document.querySelector("#drop-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                document.getElementById("clearDropList")?.addEventListener("click", () => {
                    clearAllFromList("drop-player-list", "drop");
                }),
                document.getElementById("add_drop_submit").addEventListener("click", function (e) {
                    e.preventDefault();
                    if (!confirm("Are you sure you want to submit this lineup?")) return;
                    const t = encodeURIComponent(document.getElementById("MESSAGE")?.value || ""),
                        a = curRoster.map((e) => `STARTERS=${encodeURIComponent(e.id)}`).join("&"),
                        r = `${baseURLDynamic}/${year}/contest_lineup?LEAGUE_ID=${league_id}&FRANCHISE=${Bs}&WEEK=${Us}&${a}&MESSAGE=${t}`;
                    window.location.href = r;
                }),
                As && updateRequirementTable();
        } else document.body.appendChild(Ss);
    }
}
if ("options_256" === thisProgram) {
    const io = document.createElement("style");
    if (
        ((io.textContent = "#options_256 table,#options_256 .mobile-wrap,#dropInputDiv{visibility:visible;}"),
        "undefined" == typeof franchise_id)
    )
        document.body.appendChild(io);
    else if ("undefined" == typeof playerDatabaseObj) document.body.appendChild(io);
    else {
        document.body.classList.add("DropSelect");
        const no = document.querySelector('form[action*="load_rosters"]');
        if (void 0 === timeFrame) timeFrame = 300;
        if (document.querySelector("#options_256")) {
            const co = window.playerDatabaseObj?.picker || [],
                po = document.getElementById("destination_list"),
                ho = po?.querySelectorAll("option");
            ho &&
                ((playerDatabaseObj.roster = []),
                ho.forEach((e) => {
                    const t = e.value,
                        a = co.find((e) => e.id === t);
                    if (a) playerDatabaseObj.roster.push({ ...a });
                    else {
                        const a = e.textContent.trim().split(" ");
                        if (a.length >= 3) {
                            const e = a.pop(),
                                r = a.pop(),
                                s = a.join(" ");
                            playerDatabaseObj.roster.push({ id: t, name: s, nfl_team: r, pos: e });
                        }
                    }
                })),
                (curRoster = window.playerDatabaseObj?.roster || []);
            const _o = Object.values(co).some((e) => void 0 !== e.sal),
                mo = Object.values(co).some((e) => void 0 !== e.sal);
            let yo = document.querySelector('input[name="FRANCHISE_ID"]')?.value || "";
            yo || (yo = franchise_id);
            const uo = franchiseDatabase[`fid_${yo}`],
                fo = uo?.name || "Unknown Franchise";
            let bo = null,
                go = null,
                vo = 1,
                wo = 1;
            const ko = document.getElementById("picker_filt_pos");
            let $o = null;
            ko &&
                ($o = Array.from(ko.options)
                    .filter((e) => "ALL" !== e.value.toUpperCase())
                    .map((e) => {
                        const t = e.value.toUpperCase();
                        return `<option value="${t}">${t}</option>`;
                    })
                    .join(""));
            const xo = document.getElementById("picker_filt_nfl");
            xo && ((xo.id = "add_filt_nfl"), xo.removeAttribute("onchange"));
            let So = "";
            (So += `<form id="AddDropForm" action="${baseURLDynamic}/${year}/load_rosters" method="post">`),
                (So += `<input type="hidden" name="LEAGUE_ID" value="${league_id}">`),
                (So += `<input type="hidden" name="FRANCHISE_ID" value="${yo}">`),
                (So += '<input type="hidden" name="OPTION" value="256"> '),
                (So += '<div id="enhanced-add-drop-ui">'),
                (So += '<div id="add-drop-enhanced-ui">'),
                ($o || xo) &&
                    ((So += '<div class="filter-controls mobile-wrap">'),
                    (So +=
                        '<input id="addDropSearch" type="text" placeholder="Search player name..." style="flex: 1 1 0%; padding: .1875rem;">'),
                    xo && (So += xo.outerHTML),
                    $o && (So += `<select id="position-filter"><option value="">All</option>${$o}</select>`),
                    (So += "</div>")),
                (So += '<div class="add-player-container mobile-wrap">'),
                (So +=
                    '<table align="center" class="report cus-add-tableCap"><caption><span>Select Player To Load</span></caption><tbody><tr><th><div class="sort-bar add-list"><span>Sort by:</span><button type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="projpts">Proj <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                (So += _o
                    ? '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="player_salary">Sal <i class="fa-solid"></i></button>'
                    : '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="adp">ADP <i class="fa-solid"></i></button>'),
                (So += "</div></th></tr></tbody></table>"),
                (So += '<div id="add-player-list">'),
                (So += "</div>"),
                (So += '<div id="locked-msg" align="left" style="text-align:center">'),
                (So += `<div><b style="display:inline-block;text-align:center;width:2.5rem;">Hint: </b> Can't find a player on this list?<br>You can <a href="player_search?L=${league_id}" target="_blank">search our player database</a> to try to find him.</div>`),
                (So += "</div>"),
                (So += "</div>"),
                (So += '<div class="drop-player-container mobile-wrap">'),
                (So += `<table align="center" class="report cus-drop-tableCap"><caption><span>${fo} Roster</span></caption><tbody><tr><th><div class="sort-bar drop-list"><span>Sort by:</span><button type="button" class="sort-btn drop-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="projpts">Proj <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>`),
                (So += mo
                    ? '<button type="button" class="sort-btn drop-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn drop-list" data-key="player_salary">Sal <i class="fa-solid"></i></button>'
                    : '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="adp">ADP <i class="fa-solid"></i></button>'),
                (So += "</div></th></tr></tbody></table>"),
                (So += '<div id="drop-player-list"></div>'),
                (So += "</div>"),
                (So += "</div>"),
                (So += "</div>"),
                (So += "</div>"),
                (So += "<br>"),
                (So += '<div id="dropInputDiv" style="text-align:center; margin-top: 1rem;">'),
                (So +=
                    '<input id="add_drop_submit" type="submit" value="Load/Unload Roster" style="display:inline-block;margin:0!important;margin-right:.325rem!important">'),
                Array.isArray(curRoster) && 0 === curRoster.length
                    ? (So +=
                          '<input id="clearDropList" type="button" value="Clear Roster" style="display:inline-block;margin:0!important;margin-left:.162rem!important" disabled>')
                    : (So +=
                          '<input id="clearDropList" type="button" value="Clear Roster" style="display:inline-block;margin:0!important;margin-left:.162rem!important">'),
                (So += "</div>"),
                (So += "<br>"),
                (So += "</form>"),
                no && (no.outerHTML = So);
            const Lo = document.getElementById("addDropSearch"),
                To = document.getElementById("position-filter");
            function renderPlayerList(e, t, a) {
                const r = document.getElementById(t);
                if (!r) return void console.warn(` Container ${t} not found.`);
                r.textContent = "";
                let s = e;
                if ("add" === a) {
                    if ($o || xo) {
                        const t = document.getElementById("addDropSearch"),
                            a = t?.value?.trim().toLowerCase() || "",
                            r = document.getElementById("position-filter")?.value || "",
                            o = document.querySelector("#add_filt_nfl")?.value?.toUpperCase?.() || "";
                        s = e.filter((e) => {
                            let [t, s] = e.name.split(", ");
                            return (
                                `${s || ""} ${t || ""}`.trim().toLowerCase().includes(a) &&
                                (!r || e.pos?.toUpperCase() === r) &&
                                ("ALL" === o || !o || e.nfl_team?.toUpperCase() === o)
                            );
                        });
                    }
                    bo &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, bo),
                                r = sortPlayerObjectData(t, bo);
                            if ("fsrank" === bo || "pwpts" === bo || "projpts" === bo) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * vo;
                        });
                }
                "drop" === a &&
                    (s.sort((e, t) => {
                        const a = e.pos?.toUpperCase?.() || "",
                            r = t.pos?.toUpperCase?.() || "",
                            s = sortPlayerPosOrder[a] || 99,
                            o = sortPlayerPosOrder[r] || 99;
                        if (s !== o) return s - o;
                        const [l, i] = e.name.split(", "),
                            [n, d] = t.name.split(", "),
                            c = `${i || ""} ${l || ""}`.toLowerCase(),
                            p = `${d || ""} ${n || ""}`.toLowerCase();
                        return c.localeCompare(p);
                    }),
                    go &&
                        s.sort((e, t) => {
                            let a = sortPlayerObjectData(e, go),
                                r = sortPlayerObjectData(t, go);
                            if ("fsrank" === go || "pwpts" === go || "projpts" === go) {
                                if (0 === a && 0 !== r) return 1;
                                if (0 === r && 0 !== a) return -1;
                                if (0 === a && 0 === r) return 0;
                            }
                            return (a < r ? -1 : a > r ? 1 : 0) * wo;
                        }));
                const o = document.createDocumentFragment();
                s.forEach((e, t) => {
                    const [r, s] = e.name.split(", ");
                    let l = s?.trim() || "",
                        i = r?.trim() || "";
                    const n = l.includes("#") || i.includes("#"),
                        d = l.includes("*") || i.includes("*"),
                        c = l.includes("^") || i.includes("^"),
                        p = l.includes("(R)") || i.includes("(R)");
                    (l = l.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim()),
                        (i = i.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim());
                    const h = `${l} ${i}${p ? " (R)" : ""}`.trim();
                    let _ = "";
                    n && (_ += ' <span class="player-status">#</span>'),
                        d && (_ += ' <span class="player-status">*</span>'),
                        c && (_ += ' <span class="player-status">[L]</span>');
                    const m = [
                            "DEF",
                            "COACH",
                            "OFF",
                            "TMQB",
                            "TMRB",
                            "TMWR",
                            "TMTE",
                            "TMPK",
                            "TMPN",
                            "TMDL",
                            "TMLB",
                            "TMDB",
                        ].includes(e.pos?.toUpperCase())
                            ? `https://www.mflscripts.com/playerImages_96x96/mfl_${e.nfl_team}.svg`
                            : `https://www.mflscripts.com/playerImages_80x107/mfl_${e.id}.png`,
                        y = "https://mflscripts.com/playerImages_80x107/free_agent.png";
                    let u = "";
                    u =
                        "drop" === a
                            ? e.sal
                                ? `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}${isNaN(parseFloat(e.sort_sal)) ? "  Sal: $0" : `  Sal: $${parseFloat(e.sort_sal)}`}</small><input type="hidden" name="ROSTER" value="${e.id}">`
                                : `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}</small><input type="hidden" name="ROSTER" value="${e.id}">`
                            : e.sal
                              ? `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}${isNaN(parseFloat(e.sort_sal)) ? "  Sal: $0" : `  Sal: $${parseFloat(e.sort_sal)}`}</small>`
                              : `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}${isNaN(parseFloat(e.adp)) ? "  ADP: 9999" : `  ADP: ${parseFloat(e.adp)}`}</small>`;
                    const f = document.createElement("div");
                    (f.className = c
                        ? "add-drop-player-row disabled-locked " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")
                        : "add-drop-player-row " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                        (f.dataset.playerId = e.id),
                        "add" === a &&
                            curRoster.some((t) => t.id === e.id) &&
                            (f.classList.add("disabled-dropbox"), (f.style.display = "none")),
                        (f.innerHTML = c
                            ? `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="player-wproj" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.projpts)) ? "0" : parseFloat(e.projpts)}</div>\n  <button type="button" class="select-btn">Locked</button>`
                            : `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="player-wproj" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.projpts)) ? "0" : parseFloat(e.projpts)}</div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Drop"}</button>`),
                        o.appendChild(f);
                }),
                    r.appendChild(o);
            }
            const Po = document.getElementById("add-drop-enhanced-ui");
            Po
                ? Po.addEventListener("click", function (e) {
                      const t = e.target.closest(".add-drop-player-row");
                      if (!t || !Po.contains(t)) return;
                      const a = !!t.closest("#add-player-list");
                      handlePlayerRowClick(t, a ? "add" : "drop");
                  })
                : console.warn(" Could not find #add-drop-enhanced-ui for delegation."),
                (bo = "projpts"),
                (vo = -1),
                (go = "pos"),
                (wo = 1),
                renderPlayerList(co, "add-player-list", "add"),
                renderPlayerList(curRoster, "drop-player-list", "drop");
            const Ao = document.querySelector(".sort-bar.add-list"),
                Co = document.querySelector(".sort-bar.drop-list"),
                Eo = Ao.querySelector('button[data-key="projpts"]');
            if (Eo) {
                Eo.querySelector("i").classList.add("fa-caret-down"), Eo.classList.add("activated");
            }
            const Ho = Co.querySelector('button[data-key="pos"]');
            if (Ho) {
                Ho.querySelector("i").classList.add("fa-caret-down"), Ho.classList.add("activated");
            }
            Lo &&
                Lo.addEventListener("input", () => {
                    renderPlayerList(co, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                To &&
                    To.addEventListener("change", () => {
                        renderPlayerList(co, "add-player-list", "add");
                        const e = document.querySelector("#add-player-list");
                        e && e.scrollTo({ top: 0 });
                    });
            const Ro = document.getElementById("add_filt_nfl");
            function clearAllFromList(e, t) {
                const a = document.getElementById(e);
                if (!a) return;
                a.querySelectorAll(".add-drop-player-row").forEach((e) => {
                    e.classList.contains("disabled-locked") || handlePlayerRowClick(e, t);
                });
            }
            function handlePlayerRowClick(e, t) {
                const a = e.dataset.playerId;
                if (!a) return;
                const r = co.find((e) => e.id === a);
                r || console.warn("Player not found in addPlayers:", a);
                const s = curRoster.some((e) => e.id === a);
                if ("drop" === t && s) {
                    (curRoster = curRoster.filter((e) => e.id !== a)),
                        renderPlayerList(curRoster, "drop-player-list", "drop");
                    const e = document.querySelector(`#add-player-list .add-drop-player-row[data-player-id="${a}"]`);
                    e && (e.classList.remove("disabled-dropbox"), (e.style.display = ""));
                }
                "add" === t &&
                    (s
                        ? console.warn("This player is already in array:", a)
                        : (curRoster.push(r),
                          e.classList.add("disabled-dropbox"),
                          (e.style.display = "none"),
                          renderPlayerList(curRoster, "drop-player-list", "drop")));
                const o = document.getElementById("add_drop_submit");
                o && (0 === curRoster.length || (o.disabled = !1));
                const l = document.getElementById("clearDropList");
                l && (0 === curRoster.length ? (l.disabled = !0) : (l.disabled = !1)),
                    "undefined" != typeof showRequirementTable && showRequirementTable && updatePositionCount();
            }
            function updatePositionCount() {
                var e = [];
                e.Total = 0;
                for (var t = 0; t < validPositions.length; t++) e[validPositions[t]] = 0;
                const a = document.querySelectorAll("#drop-player-list .add-drop-player-row");
                (e.Total = a.length),
                    a.forEach((t) => {
                        const a = t.querySelector(".player-pos");
                        if (!a) return;
                        const r = a.textContent.trim();
                        e[r] || (e[r] = 0), e[r]++;
                    });
                var r = "";
                (r += "<table class='positionCount report'><caption><span>Roster Requirements</span></caption>"),
                    (r += "<tr><th>Pos</th><th>Sum</th>"),
                    includeMinColumn && (r += "<th>Min</th>"),
                    includeMaxColumn && (r += "<th>Max</th>"),
                    (r += "</tr>");
                var s = !1,
                    o = !1;
                let l = 0;
                for (var i in e)
                    if (e.hasOwnProperty(i)) {
                        let t = [];
                        t.push(l % 2 == 0 ? "oddtablerow" : "eventablerow"),
                            useMaximumTotals &&
                                e[i] > maximumPositionTotals[i] &&
                                (t.push("positionFailMax"), (s = !0)),
                            useMinimumTotals &&
                                e[i] < minimumPositionTotals[i] &&
                                (t.push("positionFailMin"), (o = !0));
                        (r += `<tr${t.length ? ` class="${t.join(" ")}"` : ""}><td>${i}</td><td>${e[i]}</td>`),
                            includeMinColumn && (r += `<td>${minimumPositionTotals[i]}</td>`),
                            includeMaxColumn && (r += `<td>${maximumPositionTotals[i]}</td>`),
                            (r += "</tr>"),
                            l++;
                    }
                (r += "</table>"),
                    s && (r += "<div class='positionFailMax'>Maximum Exceeded</div>"),
                    o && (r += "<div class='positionFailMin'>Minimum Not Met</div>"),
                    document.querySelectorAll(".newColumn").forEach((e) => e.remove());
                const n = document.querySelector("#enhanced-add-drop-ui");
                if (n) {
                    const e = document.createElement("div");
                    (e.className = "mobile-wrap newColumn"), (e.innerHTML = r), n.insertAdjacentElement("afterend", e);
                }
                const d = document.querySelectorAll("div.positionFailMin").length,
                    c = document.querySelectorAll("div.positionFailMax").length,
                    p = document.getElementById("add_drop_submit");
                p && (p.disabled = !(d < 1 && c < 1));
            }
            Ro &&
                Ro.addEventListener("change", () => {
                    renderPlayerList(co, "add-player-list", "add");
                    const e = document.querySelector("#add-player-list");
                    e && e.scrollTo({ top: 0 });
                }),
                sortScrollFadeShadow("add-player-list", ".sort-bar.add-list"),
                sortScrollFadeShadow("drop-player-list", ".sort-bar.drop-list"),
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        setTimeout(() => {
                            document.body.appendChild(io);
                        }, timeFrame);
                    });
                }),
                Ao.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        bo === t
                            ? (vo *= -1)
                            : ((bo = t), (vo = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            Ao.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === vo ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(co, "add-player-list", "add");
                        const a = document.querySelector("#add-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                Co.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                    e.addEventListener("click", () => {
                        const t = e.dataset.key;
                        go === t
                            ? (wo *= -1)
                            : ((go = t), (wo = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                            Co.querySelectorAll(".sort-btn.drop-list").forEach((e) => {
                                e.classList.remove("activated");
                                e.querySelector("i").className = "fa-solid";
                            }),
                            e.classList.add("activated");
                        e.querySelector("i").classList.add(1 === wo ? "fa-caret-up" : "fa-caret-down"),
                            renderPlayerList(curRoster, "drop-player-list", "drop");
                        const a = document.querySelector("#drop-player-list");
                        a && a.scrollTo({ top: 0 });
                    });
                }),
                document.getElementById("clearDropList")?.addEventListener("click", () => {
                    clearAllFromList("drop-player-list", "drop");
                }),
                document.getElementById("add_drop_submit").addEventListener("click", function (e) {
                    e.preventDefault();
                    if (!confirm("Are you sure you want to add these players to your roster?")) return;
                    const t = document.getElementById("AddDropForm");
                    t && t.submit();
                }),
                "undefined" != typeof showRequirementTable && showRequirementTable && updatePositionCount();
        } else document.body.appendChild(io);
    }
}
if ("options_43" === thisProgram) {
    const jo = document.createElement("style");
    jo.textContent = "#options_43 table,#options_43 .mobile-wrap,#options_43 form{visibility:visible;}";
    const Do = document.querySelector("#options_43");
    if (Do) {
        const Io = Do.querySelectorAll("table.report");
        let Fo = null,
            Mo = null,
            No = null,
            Oo = null,
            Bo = null,
            qo = null,
            Qo = null,
            Uo = null,
            zo = null,
            Yo = document.querySelector('input[name="FRANCHISE_ID"]')?.value || "";
        Yo || (Yo = franchise_id);
        const Wo = franchiseDatabase[`fid_${Yo}`],
            Go = Wo?.name || "Unknown Franchise";
        if (
            (Io.forEach((e) => {
                try {
                    const t = e.querySelector("th"),
                        a = t?.textContent?.trim(),
                        r = e.querySelector("caption > span"),
                        s = r?.textContent?.trim();
                    if (a?.includes("Financial Status")) {
                        const e = t.closest("table");
                        if (e) {
                            e.classList.add("report");
                            const t = document.createElement("caption"),
                                a = document.createElement("span");
                            (a.textContent = `${Go} Auction Status`), t.appendChild(a);
                            const r = e.querySelector("caption");
                            r ? r.replaceWith(t) : e.insertBefore(t, e.firstChild), (Fo = e.outerHTML);
                        }
                    }
                    if (s?.includes("Commissioner Actions")) {
                        const e = r.closest("table");
                        e && ((Bo = e.outerHTML), e.remove());
                    }
                    if (
                        s?.includes("Start Auctioning") &&
                        ((qo = r.closest("table")), s?.includes("Start Auctioning") && ((qo = r.closest("table")), qo))
                    ) {
                        const e = qo.closest("form"),
                            t = qo.querySelector("td h3.warning");
                        e && ((e.id = "replaceForm"), (Oo = e)), t && (Mo = t.innerHTML.trim());
                        const a = qo.querySelector('input[name="OPENING_BID"]');
                        a && (Qo = a.outerHTML);
                        const r = qo.querySelector('textarea[name="MSG"]');
                        r && (zo = r.outerHTML);
                        const o = qo.querySelectorAll("span");
                        for (const e of o)
                            if (e.textContent.toLowerCase().includes("starting bid")) {
                                Uo = e.outerHTML;
                                break;
                            }
                        No = s;
                    }
                } catch (e) {
                    console.error("Error processing table:", e);
                }
            }),
            Mo || Oo || Fo)
        ) {
            if ((document.body.classList.add("addDropSelect"), void 0 === timeFrame)) timeFrame = 300;
            if (Mo && Fo && No && "undefined" == typeof playerDatabaseObj) {
                let Vo = "";
                (Vo += '<div id="add-drop-summary" class="mobile-wrap">'),
                    (Vo += '<table align="center" class="report selected-moves">'),
                    (Vo += `<caption><span>${No}</span></caption>`),
                    (Vo += "<tbody>"),
                    (Vo += '<tr><th colspan="100">Select A Player Before Submitting Auction Bid</th></tr>'),
                    (Vo += "<tr><td>"),
                    (Vo += `<div class="warning" style="text-align:center;padding:.625rem;font-size:1rem;">${Mo}</div>`),
                    (Vo += "</td></tr></tbody></table></div>"),
                    (Vo += '<div id="enhanced-add-drop-ui">'),
                    (Vo += '<div class="drop-player-container mobile-wrap">'),
                    (Vo += `${Fo}`),
                    (Vo += "</div>"),
                    (Vo += "</div>"),
                    Bo &&
                        ((Vo +=
                            '<div class="mobile-wrap commish-auction-table"><table align="center" cellspacing="1" class="report"><caption><span>Commissioner Actions</span></caption>'),
                        (Vo += "<tbody>"),
                        (Vo += `<tr class="oddtablerow"><td><a href="/${year}/options?L=${league_id}&O=127">Delete Auctions</a></td></tr>`),
                        (Vo += `<tr class="eventablerow"><td><a href="/${year}/csetup?L=${league_id}&C=AUCTIONS">Auction Setup</a></td></tr>`),
                        (Vo += `<tr class="oddtablerow"><td><a href="/${year}/auction_bid?L=54807&FRANCHISE_ID=${Yo}&OVER=1" onclick="return confirm('Are you sure you want to end this auction? It will delete all current auctions and discard any and all players auctioned so far.')">End The Entire Auction</a> Note: All current open auctions will be discarded and the players involved will be returned to the free agent pool and franchise owners will not be able to bid on players.</td></tr>`),
                        (Vo += "</tbody>"),
                        (Vo += "</table></div>")),
                    (qo.outerHTML = Vo),
                    qo.remove(),
                    document.querySelectorAll("#options_43 table.report").forEach((e) => {
                        if (e.parentElement?.classList.contains("mobile-wrap")) return;
                        const t = document.createElement("div");
                        (t.className = "mobile-wrap"), e.parentNode.insertBefore(t, e), t.appendChild(e);
                    }),
                    requestAnimationFrame(() => {
                        requestAnimationFrame(() => {
                            setTimeout(() => {
                                document.body.appendChild(jo);
                            }, timeFrame);
                        });
                    });
            } else if (Fo && No && "undefined" != typeof playerDatabaseObj) {
                const Ko = window.playerDatabaseObj?.picker || [],
                    Xo = Object.values(Ko).some((e) => void 0 !== e.sal),
                    Jo = document.getElementById("add_pid_field_id"),
                    Zo = Jo?.value?.trim() || null;
                let el = null,
                    tl = null,
                    al = null,
                    rl = null,
                    sl = 1,
                    ol = 1;
                new Set();
                const ll = document.getElementById("picker_filt_pos");
                let il = null;
                ll &&
                    (il = Array.from(ll.options)
                        .filter((e) => "ALL" !== e.value.toUpperCase())
                        .map((e) => {
                            const t = e.value.toUpperCase();
                            return `<option value="${t}">${t}</option>`;
                        })
                        .join(""));
                const nl = document.getElementById("picker_filt_nfl");
                nl && nl.removeAttribute("onchange");
                const dl = document.getElementById("sel_name");
                document.querySelectorAll('input[value="Submit Bid"]');
                let cl = "";
                (cl += '<form id="AddDropForm" action="auction_bid" method="post">'),
                    (cl += `<input type="hidden" name="LEAGUE_ID" value="${league_id}">`),
                    (cl += `<input type="hidden" name="FRANCHISE_ID" value="${Yo}">`),
                    (cl += '<input type="hidden" name="PLAYER_PICK" id="sel_pid" value="">'),
                    (cl += '<div id="enhanced-add-drop-ui">'),
                    (cl += '<div id="add-drop-summary" class="mobile-wrap">'),
                    (cl += '<table align="center" class="report selected-moves">'),
                    (cl += `<caption><span>Start Auctioning A New Player For ${Go}</span></caption>`),
                    (cl += "<tbody>"),
                    (cl += '<tr><th colspan="100">Select A Player Before Submitting Auction Bid</th></tr>'),
                    (cl += "<tr><td>"),
                    (cl += '<div class="wrapper-add-first">'),
                    (cl += '<div class="row-add-drop-btn">'),
                    (cl +=
                        '<div class="box-add-drop-btn adds-names shrink"><div class="adds-names" style="display:inline-block"><strong>Add:</strong></div><span id="add_name_field_id" style="padding-left:0.313rem">Player To Auction</span></div>'),
                    (cl += '<div class="box-add-drop-btn grow addBtn desktop-add-btn" style="text-align:right"></div>'),
                    (cl += "</div>"),
                    (cl += "</div>"),
                    Qo &&
                        Uo &&
                        ((cl += `<div class="row-add-drop-btn"><div class="box-add-drop-btn shrink"><div class="adds-names" style="display:inline-block"><strong>Opening bid:</strong></div>${Qo}</div>${Uo}</div>`),
                        zo &&
                            (cl +=
                                '<div class="row-add-drop-btn"><textarea name="MSG" rows="1" cols="50" placeholder="Optional Bid Comment"></textarea></div>')),
                    (cl += '<div id="add-button-mobile" class="wrapper-add-first">'),
                    (cl += '<div class="row-add-drop-btn">'),
                    (cl += '<div class="box-add-drop-btn grow addBtn mobile-add-btn" style="text-align:center"></div>'),
                    (cl += "</div>"),
                    (cl += "</div>"),
                    (cl += "</td></tr></tbody></table></div>"),
                    (cl += '<div id="add-drop-enhanced-ui">'),
                    (il || nl) &&
                        ((cl += '<div class="filter-controls mobile-wrap">'),
                        (cl +=
                            '<input id="addDropSearch" type="text" placeholder="Search player name..." style="flex: 1 1 0%; padding: .1875rem;">'),
                        nl && (cl += nl.outerHTML),
                        il && (cl += `<select id="position-filter"><option value="">All</option>${il}</select>`),
                        (cl += "</div>")),
                    (cl += '<div class="add-player-container mobile-wrap">'),
                    (cl +=
                        '<table align="center" class="report cus-add-tableCap"><caption><span>Available Players</span></caption><tbody><tr><th><div class="sort-bar add-list"><span>Sort by:</span><button type="button" class="sort-btn add-list" data-key="name">Name <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="projpts">Proj <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="nfl_team">Team <i class="fa-solid"></i></button>'),
                    (cl += Xo
                        ? '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="player_salary">Sal <i class="fa-solid"></i></button>'
                        : '<button type="button" class="sort-btn add-list" data-key="pos">Pos <i class="fa-solid"></i></button><button type="button" class="sort-btn add-list" data-key="fsrank">Rank <i class="fa-solid"></i></button>'),
                    (cl += "</div></th></tr></tbody></table>"),
                    (cl += '<div id="add-player-list">'),
                    (cl += "</div>"),
                    (cl += `<div id="locked-msg" align="left" style="text-align:left"><b style="display:inline-block;text-align:center;width:1.5rem;">[L]</b> Locked: Cant Cut List <a href="options?L=${league_id}&amp;O=199" target="blank">Can't Cut List</a><br><b style="display:inline-block;text-align:center;width:1.5rem;">#</b> Locked: Global Lock<b style="display:inline-block;text-align:center;width:1.5rem;">*</b> Locked: Recently Dropped</div>`),
                    (cl += "</div>"),
                    (cl += '<div class="drop-player-container mobile-wrap">'),
                    (cl += `${Fo}`),
                    (cl += "</div>"),
                    (cl += "</div>"),
                    (cl += "</div>"),
                    (cl += "</div>"),
                    (cl += "</form>"),
                    Bo &&
                        ((cl +=
                            '<div class="mobile-wrap commish-auction-table"><table align="center" cellspacing="1" class="report"><caption><span>Commissioner Actions</span></caption>'),
                        (cl += "<tbody>"),
                        (cl += `<tr class="oddtablerow"><td><a href="/${year}/options?L=${league_id}&O=127">Delete Auctions</a></td></tr>`),
                        (cl += `<tr class="eventablerow"><td><a href="/${year}/csetup?L=${league_id}&C=AUCTIONS">Auction Setup</a></td></tr>`),
                        (cl += `<tr class="oddtablerow"><td><a href="/${year}/auction_bid?L=54807&FRANCHISE_ID=${Yo}&OVER=1" onclick="return confirm('Are you sure you want to end this auction? It will delete all current auctions and discard any and all players auctioned so far.')">End The Entire Auction</a> Note: All current open auctions will be discarded and the players involved will be returned to the free agent pool and franchise owners will not be able to bid on players.</td></tr>`),
                        (cl += "</tbody>"),
                        (cl += "</table></div>")),
                    (Oo.outerHTML = cl),
                    Oo.remove(),
                    dl && dl.remove();
                const pl = document.getElementById("addDropSearch"),
                    hl = document.getElementById("position-filter");
                function renderPlayerList(e, t, a) {
                    const r = document.getElementById(t);
                    if (!r) return void console.warn(` Container ${t} not found.`);
                    r.textContent = "";
                    let s = e;
                    const o = document.getElementById("add_pid_field_id") || { value: "" },
                        l = document.getElementById("add_name_field_id");
                    if ("add" === a) {
                        if (il || nl) {
                            const t = document.getElementById("addDropSearch"),
                                a = t?.value?.trim().toLowerCase() || "",
                                r = document.getElementById("position-filter")?.value || "",
                                o = document.querySelector("#picker_filt_nfl")?.value?.toUpperCase?.() || "";
                            s = e.filter((e) => {
                                let [t, s] = e.name.split(", ");
                                return (
                                    `${s || ""} ${t || ""}`.trim().toLowerCase().includes(a) &&
                                    (!r || e.pos?.toUpperCase() === r) &&
                                    ("ALL" === o || !o || e.nfl_team?.toUpperCase() === o)
                                );
                            });
                        }
                        al &&
                            ((o.value = ""),
                            l && (l.innerHTML = "Select Player To Auction"),
                            s.sort((e, t) => {
                                let a = sortPlayerObjectData(e, al),
                                    r = sortPlayerObjectData(t, al);
                                if ("fsrank" === al || "pwpts" === al || "projpts" === al) {
                                    if (0 === a && 0 !== r) return 1;
                                    if (0 === r && 0 !== a) return -1;
                                    if (0 === a && 0 === r) return 0;
                                }
                                return (a < r ? -1 : a > r ? 1 : 0) * sl;
                            }));
                    }
                    const i = document.createDocumentFragment();
                    s.forEach((e, t) => {
                        const [r, s] = e.name.split(", ");
                        let o = s?.trim() || "",
                            l = r?.trim() || "";
                        const n = o.includes("#") || l.includes("#"),
                            d = o.includes("*") || l.includes("*"),
                            c = o.includes("^") || l.includes("^"),
                            p = o.includes("(R)") || l.includes("(R)");
                        (o = o.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim()),
                            (l = l.replace("#", "").replace("*", "").replace("^", "").replace("(R)", "").trim());
                        const h = `${o} ${l}${p ? " (R)" : ""}`.trim();
                        let _ = "";
                        n && (_ += ' <span class="player-status">#</span>'),
                            d && (_ += ' <span class="player-status">*</span>'),
                            c && (_ += ' <span class="player-status">[L]</span>');
                        const m = [
                                "DEF",
                                "COACH",
                                "OFF",
                                "TMQB",
                                "TMRB",
                                "TMWR",
                                "TMTE",
                                "TMPK",
                                "TMPN",
                                "TMDL",
                                "TMLB",
                                "TMDB",
                            ].includes(e.pos?.toUpperCase())
                                ? `https://www.mflscripts.com/playerImages_96x96/mfl_${e.nfl_team}.svg`
                                : `https://www.mflscripts.com/playerImages_80x107/mfl_${e.id}.png`,
                            y = "https://mflscripts.com/playerImages_80x107/free_agent.png";
                        let u = "";
                        u = e.sal
                            ? `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}${isNaN(parseFloat(e.sort_sal)) ? "  Sal: $0" : `  Sal: $${parseFloat(e.sort_sal)}`}</small>`
                            : `<small>${e.nfl_team ?? "FA"}${e.bye_week ? `  Bye: ${e.bye_week}` : "  Bye: N/A"}${e.opp ? `  Opp: ${e.opp}` : ""}${isNaN(parseFloat(e.fsrank)) ? "  Rank: N/A" : `  Rank: ${parseFloat(e.fsrank)}`}</small>`;
                        const f = document.createElement("div");
                        (f.className = c
                            ? "add-drop-player-row disabled-locked " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")
                            : "add-drop-player-row " + (t % 2 == 0 ? "oddtablerow" : "eventablerow")),
                            (f.dataset.playerId = e.id),
                            (f.innerHTML = c
                                ? `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="player-wproj" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.projpts)) ? "0" : parseFloat(e.projpts)}</div>\n  <button type="button" class="select-btn">Locked</button>`
                                : `<div class="player-pos ${e.pos?.toUpperCase() || ""}" style=" text-align:center; font-weight:bold;">${e.pos}</div>\n  <div class="player-img-wrapper" style="flex-shrink:0;position:relative"><div class="player-img-wrapper-clippler"><img src="${m}" alt="${h}" onerror="this.onerror=null;this.src='${y}';"></div>${e.inj ? `<div class="player-inj" style="position:absolute">${e.inj}</div>` : ""}</div>\n  <div class="player-info"><strong>${h}${_}</strong><br>${u} </div>\n  <div class="player-wproj" style="text-align:right; font-weight:900;">${isNaN(parseFloat(e.projpts)) ? "0" : parseFloat(e.projpts)}</div>\n  <button type="button" class="select-btn">${"add" === a ? "Add" : "Drop"}</button>`),
                            i.appendChild(f);
                    }),
                        r.appendChild(i);
                }
                const _l = document.getElementById("add-drop-enhanced-ui");
                _l
                    ? _l.addEventListener("click", function (e) {
                          const t = e.target.closest(".add-drop-player-row");
                          if (!t || !_l.contains(t)) return;
                          const a = !!t.closest("#add-player-list");
                          handlePlayerRowClick(t, a ? "add" : "drop");
                      })
                    : console.warn(" Could not find #add-drop-enhanced-ui for delegation."),
                    (al = "projpts"),
                    (sl = -1),
                    (rl = "pos"),
                    (ol = 1),
                    renderPlayerList(Ko, "add-player-list", "add");
                const ml = document.querySelector(".sort-bar.add-list"),
                    yl = ml.querySelector('button[data-key="projpts"]');
                if (yl) {
                    yl.querySelector("i").classList.add("fa-caret-down"), yl.classList.add("activated");
                }
                pl &&
                    pl.addEventListener("input", () => {
                        renderPlayerList(Ko, "add-player-list", "add");
                        const e = document.querySelector("#add-player-list");
                        e && e.scrollTo({ top: 0 });
                    }),
                    hl &&
                        hl.addEventListener("change", () => {
                            renderPlayerList(Ko, "add-player-list", "add");
                            const e = document.querySelector("#add-player-list");
                            e && e.scrollTo({ top: 0 });
                        });
                const ul = document.getElementById("picker_filt_nfl");
                if (
                    (ul &&
                        ul.addEventListener("change", () => {
                            renderPlayerList(Ko, "add-player-list", "add");
                            const e = document.querySelector("#add-player-list");
                            e && e.scrollTo({ top: 0 });
                        }),
                    Zo)
                ) {
                    const fl = document.querySelector(`.add-drop-player-row[data-player-id="${Zo}"]`);
                    fl && fl.click();
                }
                function handlePlayerRowClick(e, t) {
                    const a = e.dataset.playerId,
                        r = e.querySelector("button"),
                        s = "add" === t,
                        o = document.getElementById("sel_pid"),
                        l = s ? el : tl,
                        i = s ? (e) => (el = e) : (e) => (tl = e),
                        n = o,
                        d = document.getElementById(s ? "add_name_field_id" : "drop_name_field_id");
                    if (l === e)
                        e.classList.remove("selected-player"),
                            i(null),
                            (n.value = ""),
                            (r.textContent = s ? "Add" : "Drop"),
                            r.classList.remove("deselect-btn"),
                            r.classList.add("select-btn"),
                            (d.textContent = "Select Player To Auction");
                    else {
                        if (l) {
                            l.classList.remove("selected-player");
                            const e = l.querySelector("button");
                            e &&
                                ((e.textContent = s ? "Add" : "Drop"),
                                e.classList.remove("deselect-btn"),
                                e.classList.add("select-btn"));
                        }
                        e.classList.add("selected-player"),
                            i(e),
                            (n.value = a),
                            (r.textContent = "Deselect"),
                            r.classList.remove("select-btn"),
                            r.classList.add("deselect-btn");
                        const t = e.querySelector(".player-info strong");
                        let o = "";
                        if (t) {
                            const e = t.cloneNode(!0),
                                a = e.querySelector(".player-status");
                            a && a.remove(), (o = e.textContent.replace(/\(R\)/g, "").trim());
                        }
                        const c = e.querySelector(".player-pos")?.textContent || "",
                            p = e.querySelector(".player-info small")?.textContent?.split("")[0]?.trim() || "";
                        d.textContent = `${c} ${o} (${p})`;
                    }
                    const c = document.getElementById("add_drop_submit");
                    if (c) {
                        const e = !!o?.value;
                        c.disabled = !e;
                    }
                }
                function handleSubmitButtonChange() {
                    const e = window.innerWidth,
                        t = document.getElementById("add_pid_field_id"),
                        a = !!!t?.value?.trim(),
                        r = "Submit Bid",
                        attachSubmitHandler = (e) => {
                            e.addEventListener("click", function (e) {
                                const t = document.querySelector('input[name="OPENING_BID"]');
                                t &&
                                    "" === t.value.trim() &&
                                    (e.preventDefault(), alert(" Please enter a Amount for your auction."));
                            });
                        };
                    if (e < 700) {
                        const e = document.querySelector(".desktop-add-btn #add_drop_submit");
                        e && e.remove();
                        const t = document.querySelector(".mobile-add-btn");
                        if (t && !t.querySelector("#add_drop_submit")) {
                            const e = document.createElement("input");
                            (e.type = "submit"),
                                (e.id = "add_drop_submit"),
                                (e.name = "SUBMIT"),
                                (e.disabled = a),
                                (e.value = r),
                                attachSubmitHandler(e),
                                t.appendChild(e);
                        }
                    } else {
                        const e = document.querySelector(".mobile-add-btn #add_drop_submit");
                        e && e.remove();
                        const t = document.querySelector(".desktop-add-btn");
                        if (t && !t.querySelector("#add_drop_submit")) {
                            const e = document.createElement("input");
                            (e.type = "submit"),
                                (e.id = "add_drop_submit"),
                                (e.name = "SUBMIT"),
                                (e.disabled = a),
                                (e.value = r),
                                attachSubmitHandler(e),
                                t.appendChild(e);
                        }
                    }
                }
                sortScrollFadeShadow("add-player-list", ".sort-bar.add-list"),
                    sortScrollFadeShadow("drop-player-list", ".sort-bar.drop-list"),
                    requestAnimationFrame(() => {
                        requestAnimationFrame(() => {
                            setTimeout(() => {
                                document.body.appendChild(jo);
                            }, timeFrame);
                        });
                    }),
                    document.querySelectorAll("#options_43 table.report").forEach((e) => {
                        if (e.parentElement?.classList.contains("mobile-wrap")) return;
                        const t = document.createElement("div");
                        (t.className = "mobile-wrap"), e.parentNode.insertBefore(t, e), t.appendChild(e);
                    }),
                    ml.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                        e.addEventListener("click", () => {
                            const t = e.dataset.key;
                            al === t
                                ? (sl *= -1)
                                : ((al = t), (sl = "pwpts" === t || "player_salary" === t || "projpts" === t ? -1 : 1)),
                                ml.querySelectorAll(".sort-btn.add-list").forEach((e) => {
                                    e.classList.remove("activated");
                                    e.querySelector("i").className = "fa-solid";
                                }),
                                e.classList.add("activated");
                            e.querySelector("i").classList.add(1 === sl ? "fa-caret-up" : "fa-caret-down"),
                                renderPlayerList(Ko, "add-player-list", "add");
                            const a = document.querySelector("#add-player-list");
                            a && a.scrollTo({ top: 0 });
                        });
                    }),
                    handleSubmitButtonChange(),
                    window.addEventListener("resize", handleSubmitButtonChange);
            } else document.body.appendChild(jo);
        } else document.body.appendChild(jo);
    } else document.body.appendChild(jo), console.warn("#options_43 not found.");
}
